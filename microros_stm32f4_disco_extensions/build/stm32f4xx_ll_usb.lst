ARM GAS  /tmp/ccaXZQ0T.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_ll_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USB_CoreInit,"ax",%progbits
  18              		.align	1
  19              		.global	USB_CoreInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	USB_CoreInit:
  27              	.LFB130:
  28              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @file    stm32f4xx_ll_usb.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief   USB Low Layer HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This file provides firmware functions to manage the following
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          functionalities of the USB Peripheral Controller:
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Initialization/de-initialization functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + I/O operation functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral Control functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           + Peripheral State functions
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @verbatim
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     ##### How to use this driver #####
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ==============================================================================
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     [..]
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Fill parameters of Init structure in USB_OTG_CfgTypeDef structure.
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) Call USB_CoreInit() API to initialize the USB Core peripheral.
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (#) The upper HAL HCD/PCD driver will call the right routines for its internal processes.
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   @endverbatim
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @attention
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * <h2><center>&copy; Copyright (c) 2016 STMicroelectronics.
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * All rights reserved.</center></h2>
ARM GAS  /tmp/ccaXZQ0T.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * This software component is licensed by ST under BSD 3-Clause license,
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * the "License"; You may not use this file except in compliance with the
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * License. You may obtain a copy of the License at:
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *                        opensource.org/licenses/BSD-3-Clause
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ******************************************************************************
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Includes ------------------------------------------------------------------*/
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #include "stm32f4xx_hal.h"
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @addtogroup STM32F4xx_LL_USB_DRIVER
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (HAL_PCD_MODULE_ENABLED) || defined (HAL_HCD_MODULE_ENABLED)
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private typedef -----------------------------------------------------------*/
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private define ------------------------------------------------------------*/
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private macro -------------------------------------------------------------*/
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private variables ---------------------------------------------------------*/
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private function prototypes -----------------------------------------------*/
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Private functions ---------------------------------------------------------*/
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined (USB_OTG_FS) || defined (USB_OTG_HS)
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx);
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /* Exported functions --------------------------------------------------------*/
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions USB Low Layer Exported Functions
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /** @defgroup USB_LL_Exported_Functions_Group1 Initialization/de-initialization functions
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *  @brief    Initialization and Configuration functions
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  *
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @verbatim
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                       ##### Initialization/de-initialization functions #####
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****  ===============================================================================
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** @endverbatim
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @{
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initializes the USB Core
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg pointer to a USB_OTG_CfgTypeDef structure that contains
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_CoreInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
  29              		.loc 1 83 1
  30              		.cfi_startproc
  31              		@ args = 56, pretend = 16, frame = 16
  32              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccaXZQ0T.s 			page 3


  33 0000 84B0     		sub	sp, sp, #16
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36 0002 80B5     		push	{r7, lr}
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39              		.cfi_offset 7, -24
  40              		.cfi_offset 14, -20
  41 0004 84B0     		sub	sp, sp, #16
  42              	.LCFI2:
  43              		.cfi_def_cfa_offset 40
  44 0006 00AF     		add	r7, sp, #0
  45              	.LCFI3:
  46              		.cfi_def_cfa_register 7
  47 0008 7860     		str	r0, [r7, #4]
  48 000a 07F11C00 		add	r0, r7, #28
  49 000e 80E80E00 		stm	r0, {r1, r2, r3}
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
  50              		.loc 1 86 10
  51 0012 3B6B     		ldr	r3, [r7, #48]
  52              		.loc 1 86 6
  53 0014 012B     		cmp	r3, #1
  54 0016 22D1     		bne	.L2
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
  55              		.loc 1 88 17
  56 0018 7B68     		ldr	r3, [r7, #4]
  57 001a 9B6B     		ldr	r3, [r3, #56]
  58 001c 23F48032 		bic	r2, r3, #65536
  59 0020 7B68     		ldr	r3, [r7, #4]
  60 0022 9A63     		str	r2, [r3, #56]
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Init The ULPI Interface */
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_TSDPS | USB_OTG_GUSBCFG_ULPIFSLS | USB_OTG_GUSBCFG_PHYSEL);
  61              		.loc 1 91 19
  62 0024 7B68     		ldr	r3, [r7, #4]
  63 0026 DB68     		ldr	r3, [r3, #12]
  64 0028 23F48403 		bic	r3, r3, #4325376
  65 002c 23F04003 		bic	r3, r3, #64
  66 0030 7A68     		ldr	r2, [r7, #4]
  67 0032 D360     		str	r3, [r2, #12]
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select vbus source */
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_ULPIEVBUSD | USB_OTG_GUSBCFG_ULPIEVBUSI);
  68              		.loc 1 94 19
  69 0034 7B68     		ldr	r3, [r7, #4]
  70 0036 DB68     		ldr	r3, [r3, #12]
  71 0038 23F44012 		bic	r2, r3, #3145728
  72 003c 7B68     		ldr	r3, [r7, #4]
  73 003e DA60     		str	r2, [r3, #12]
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.use_external_vbus == 1U)
  74              		.loc 1 95 12
  75 0040 FB6C     		ldr	r3, [r7, #76]
  76              		.loc 1 95 8
  77 0042 012B     		cmp	r3, #1
ARM GAS  /tmp/ccaXZQ0T.s 			page 4


  78 0044 05D1     		bne	.L3
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GUSBCFG |= USB_OTG_GUSBCFG_ULPIEVBUSD;
  79              		.loc 1 97 21
  80 0046 7B68     		ldr	r3, [r7, #4]
  81 0048 DB68     		ldr	r3, [r3, #12]
  82 004a 43F48012 		orr	r2, r3, #1048576
  83 004e 7B68     		ldr	r3, [r7, #4]
  84 0050 DA60     		str	r2, [r3, #12]
  85              	.L3:
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select  */
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  86              		.loc 1 100 11
  87 0052 7868     		ldr	r0, [r7, #4]
  88 0054 FFF7FEFF 		bl	USB_CoreReset
  89 0058 0346     		mov	r3, r0
  90 005a FB73     		strb	r3, [r7, #15]
  91 005c 1AE0     		b	.L4
  92              	.L2:
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* FS interface (embedded Phy) */
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Select FS Embedded PHY */
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_PHYSEL;
  93              		.loc 1 105 19
  94 005e 7B68     		ldr	r3, [r7, #4]
  95 0060 DB68     		ldr	r3, [r3, #12]
  96 0062 43F04002 		orr	r2, r3, #64
  97 0066 7B68     		ldr	r3, [r7, #4]
  98 0068 DA60     		str	r2, [r3, #12]
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Reset after a PHY select and set Host mode */
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = USB_CoreReset(USBx);
  99              		.loc 1 108 11
 100 006a 7868     		ldr	r0, [r7, #4]
 101 006c FFF7FEFF 		bl	USB_CoreReset
 102 0070 0346     		mov	r3, r0
 103 0072 FB73     		strb	r3, [r7, #15]
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.battery_charging_enable == 0U)
 104              		.loc 1 110 12
 105 0074 3B6C     		ldr	r3, [r7, #64]
 106              		.loc 1 110 8
 107 0076 002B     		cmp	r3, #0
 108 0078 06D1     		bne	.L5
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Activate the USB Transceiver */
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG |= USB_OTG_GCCFG_PWRDWN;
 109              		.loc 1 113 19
 110 007a 7B68     		ldr	r3, [r7, #4]
 111 007c 9B6B     		ldr	r3, [r3, #56]
 112 007e 43F48032 		orr	r2, r3, #65536
 113 0082 7B68     		ldr	r3, [r7, #4]
 114 0084 9A63     		str	r2, [r3, #56]
 115 0086 05E0     		b	.L4
 116              	.L5:
ARM GAS  /tmp/ccaXZQ0T.s 			page 5


 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Deactivate the USB Transceiver */
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx->GCCFG &= ~(USB_OTG_GCCFG_PWRDWN);
 117              		.loc 1 118 19
 118 0088 7B68     		ldr	r3, [r7, #4]
 119 008a 9B6B     		ldr	r3, [r3, #56]
 120 008c 23F48032 		bic	r2, r3, #65536
 121 0090 7B68     		ldr	r3, [r7, #4]
 122 0092 9A63     		str	r2, [r3, #56]
 123              	.L4:
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 1U)
 124              		.loc 1 122 10
 125 0094 BB6A     		ldr	r3, [r7, #40]
 126              		.loc 1 122 6
 127 0096 012B     		cmp	r3, #1
 128 0098 0BD1     		bne	.L6
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_HBSTLEN_2;
 129              		.loc 1 124 19
 130 009a 7B68     		ldr	r3, [r7, #4]
 131 009c 9B68     		ldr	r3, [r3, #8]
 132 009e 43F00602 		orr	r2, r3, #6
 133 00a2 7B68     		ldr	r3, [r7, #4]
 134 00a4 9A60     		str	r2, [r3, #8]
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GAHBCFG |= USB_OTG_GAHBCFG_DMAEN;
 135              		.loc 1 125 19
 136 00a6 7B68     		ldr	r3, [r7, #4]
 137 00a8 9B68     		ldr	r3, [r3, #8]
 138 00aa 43F02002 		orr	r2, r3, #32
 139 00ae 7B68     		ldr	r3, [r7, #4]
 140 00b0 9A60     		str	r2, [r3, #8]
 141              	.L6:
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 142              		.loc 1 128 10
 143 00b2 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 144              		.loc 1 129 1
 145 00b4 1846     		mov	r0, r3
 146 00b6 1037     		adds	r7, r7, #16
 147              	.LCFI4:
 148              		.cfi_def_cfa_offset 24
 149 00b8 BD46     		mov	sp, r7
 150              	.LCFI5:
 151              		.cfi_def_cfa_register 13
 152              		@ sp needed
 153 00ba BDE88040 		pop	{r7, lr}
 154              	.LCFI6:
 155              		.cfi_restore 14
 156              		.cfi_restore 7
 157              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccaXZQ0T.s 			page 6


 158 00be 04B0     		add	sp, sp, #16
 159              	.LCFI7:
 160              		.cfi_def_cfa_offset 0
 161 00c0 7047     		bx	lr
 162              		.cfi_endproc
 163              	.LFE130:
 165              		.section	.text.USB_SetTurnaroundTime,"ax",%progbits
 166              		.align	1
 167              		.global	USB_SetTurnaroundTime
 168              		.syntax unified
 169              		.thumb
 170              		.thumb_func
 171              		.fpu fpv4-sp-d16
 173              	USB_SetTurnaroundTime:
 174              	.LFB131:
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Set the USB turnaround time
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx USB Instance
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hclk: AHB clock frequency
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval USB turnaround time In PHY Clocks number
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetTurnaroundTime(USB_OTG_GlobalTypeDef *USBx,
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                         uint32_t hclk, uint8_t speed)
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 175              		.loc 1 140 1
 176              		.cfi_startproc
 177              		@ args = 0, pretend = 0, frame = 24
 178              		@ frame_needed = 1, uses_anonymous_args = 0
 179              		@ link register save eliminated.
 180 0000 80B4     		push	{r7}
 181              	.LCFI8:
 182              		.cfi_def_cfa_offset 4
 183              		.cfi_offset 7, -4
 184 0002 87B0     		sub	sp, sp, #28
 185              	.LCFI9:
 186              		.cfi_def_cfa_offset 32
 187 0004 00AF     		add	r7, sp, #0
 188              	.LCFI10:
 189              		.cfi_def_cfa_register 7
 190 0006 F860     		str	r0, [r7, #12]
 191 0008 B960     		str	r1, [r7, #8]
 192 000a 1346     		mov	r3, r2
 193 000c FB71     		strb	r3, [r7, #7]
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t UsbTrd;
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* The USBTRD is configured according to the tables below, depending on AHB frequency
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   used by application. In the low AHB frequency range it is used to stretch enough the USB response
 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   time to IN tokens, the USB turnaround time, so to compensate for the longer AHB read access
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   latency to the Data FIFO */
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == USBD_FS_SPEED)
 194              		.loc 1 147 6
 195 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 196 0010 022B     		cmp	r3, #2
 197 0012 65D1     		bne	.L9
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccaXZQ0T.s 			page 7


 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hclk >= 14200000U) && (hclk < 15000000U))
 198              		.loc 1 149 8
 199 0014 BB68     		ldr	r3, [r7, #8]
 200 0016 414A     		ldr	r2, .L23
 201 0018 9342     		cmp	r3, r2
 202 001a 06D9     		bls	.L10
 203              		.loc 1 149 29 discriminator 1
 204 001c BB68     		ldr	r3, [r7, #8]
 205 001e 404A     		ldr	r2, .L23+4
 206 0020 9342     		cmp	r3, r2
 207 0022 02D8     		bhi	.L10
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 14.2-15 MHz */
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xFU;
 208              		.loc 1 152 14
 209 0024 0F23     		movs	r3, #15
 210 0026 7B61     		str	r3, [r7, #20]
 211 0028 62E0     		b	.L20
 212              	.L10:
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 15000000U) && (hclk < 16000000U))
 213              		.loc 1 154 13
 214 002a BB68     		ldr	r3, [r7, #8]
 215 002c 3C4A     		ldr	r2, .L23+4
 216 002e 9342     		cmp	r3, r2
 217 0030 06D9     		bls	.L12
 218              		.loc 1 154 34 discriminator 1
 219 0032 BB68     		ldr	r3, [r7, #8]
 220 0034 3B4A     		ldr	r2, .L23+8
 221 0036 9342     		cmp	r3, r2
 222 0038 02D8     		bhi	.L12
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 15-16 MHz */
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xEU;
 223              		.loc 1 157 14
 224 003a 0E23     		movs	r3, #14
 225 003c 7B61     		str	r3, [r7, #20]
 226 003e 57E0     		b	.L20
 227              	.L12:
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 16000000U) && (hclk < 17200000U))
 228              		.loc 1 159 13
 229 0040 BB68     		ldr	r3, [r7, #8]
 230 0042 384A     		ldr	r2, .L23+8
 231 0044 9342     		cmp	r3, r2
 232 0046 06D9     		bls	.L13
 233              		.loc 1 159 34 discriminator 1
 234 0048 BB68     		ldr	r3, [r7, #8]
 235 004a 374A     		ldr	r2, .L23+12
 236 004c 9342     		cmp	r3, r2
 237 004e 02D8     		bhi	.L13
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 16-17.2 MHz */
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xDU;
 238              		.loc 1 162 14
 239 0050 0D23     		movs	r3, #13
 240 0052 7B61     		str	r3, [r7, #20]
ARM GAS  /tmp/ccaXZQ0T.s 			page 8


 241 0054 4CE0     		b	.L20
 242              	.L13:
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 17200000U) && (hclk < 18500000U))
 243              		.loc 1 164 13
 244 0056 BB68     		ldr	r3, [r7, #8]
 245 0058 334A     		ldr	r2, .L23+12
 246 005a 9342     		cmp	r3, r2
 247 005c 06D9     		bls	.L14
 248              		.loc 1 164 34 discriminator 1
 249 005e BB68     		ldr	r3, [r7, #8]
 250 0060 324A     		ldr	r2, .L23+16
 251 0062 9342     		cmp	r3, r2
 252 0064 02D8     		bhi	.L14
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 17.2-18.5 MHz */
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xCU;
 253              		.loc 1 167 14
 254 0066 0C23     		movs	r3, #12
 255 0068 7B61     		str	r3, [r7, #20]
 256 006a 41E0     		b	.L20
 257              	.L14:
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 18500000U) && (hclk < 20000000U))
 258              		.loc 1 169 13
 259 006c BB68     		ldr	r3, [r7, #8]
 260 006e 2F4A     		ldr	r2, .L23+16
 261 0070 9342     		cmp	r3, r2
 262 0072 06D9     		bls	.L15
 263              		.loc 1 169 34 discriminator 1
 264 0074 BB68     		ldr	r3, [r7, #8]
 265 0076 2E4A     		ldr	r2, .L23+20
 266 0078 9342     		cmp	r3, r2
 267 007a 02D8     		bhi	.L15
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 18.5-20 MHz */
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xBU;
 268              		.loc 1 172 14
 269 007c 0B23     		movs	r3, #11
 270 007e 7B61     		str	r3, [r7, #20]
 271 0080 36E0     		b	.L20
 272              	.L15:
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 20000000U) && (hclk < 21800000U))
 273              		.loc 1 174 13
 274 0082 BB68     		ldr	r3, [r7, #8]
 275 0084 2A4A     		ldr	r2, .L23+20
 276 0086 9342     		cmp	r3, r2
 277 0088 06D9     		bls	.L16
 278              		.loc 1 174 34 discriminator 1
 279 008a BB68     		ldr	r3, [r7, #8]
 280 008c 294A     		ldr	r2, .L23+24
 281 008e 9342     		cmp	r3, r2
 282 0090 02D8     		bhi	.L16
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 20-21.8 MHz */
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0xAU;
ARM GAS  /tmp/ccaXZQ0T.s 			page 9


 283              		.loc 1 177 14
 284 0092 0A23     		movs	r3, #10
 285 0094 7B61     		str	r3, [r7, #20]
 286 0096 2BE0     		b	.L20
 287              	.L16:
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 21800000U) && (hclk < 24000000U))
 288              		.loc 1 179 13
 289 0098 BB68     		ldr	r3, [r7, #8]
 290 009a 264A     		ldr	r2, .L23+24
 291 009c 9342     		cmp	r3, r2
 292 009e 06D9     		bls	.L17
 293              		.loc 1 179 34 discriminator 1
 294 00a0 BB68     		ldr	r3, [r7, #8]
 295 00a2 254A     		ldr	r2, .L23+28
 296 00a4 9342     		cmp	r3, r2
 297 00a6 02D8     		bhi	.L17
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 21.8-24 MHz */
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x9U;
 298              		.loc 1 182 14
 299 00a8 0923     		movs	r3, #9
 300 00aa 7B61     		str	r3, [r7, #20]
 301 00ac 20E0     		b	.L20
 302              	.L17:
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 24000000U) && (hclk < 27700000U))
 303              		.loc 1 184 13
 304 00ae BB68     		ldr	r3, [r7, #8]
 305 00b0 214A     		ldr	r2, .L23+28
 306 00b2 9342     		cmp	r3, r2
 307 00b4 06D9     		bls	.L18
 308              		.loc 1 184 34 discriminator 1
 309 00b6 BB68     		ldr	r3, [r7, #8]
 310 00b8 204A     		ldr	r2, .L23+32
 311 00ba 9342     		cmp	r3, r2
 312 00bc 02D8     		bhi	.L18
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 24-27.7 MHz */
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x8U;
 313              		.loc 1 187 14
 314 00be 0823     		movs	r3, #8
 315 00c0 7B61     		str	r3, [r7, #20]
 316 00c2 15E0     		b	.L20
 317              	.L18:
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if ((hclk >= 27700000U) && (hclk < 32000000U))
 318              		.loc 1 189 13
 319 00c4 BB68     		ldr	r3, [r7, #8]
 320 00c6 1D4A     		ldr	r2, .L23+32
 321 00c8 9342     		cmp	r3, r2
 322 00ca 06D9     		bls	.L19
 323              		.loc 1 189 34 discriminator 1
 324 00cc BB68     		ldr	r3, [r7, #8]
 325 00ce 1C4A     		ldr	r2, .L23+36
 326 00d0 9342     		cmp	r3, r2
 327 00d2 02D8     		bhi	.L19
ARM GAS  /tmp/ccaXZQ0T.s 			page 10


 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 27.7-32 MHz */
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x7U;
 328              		.loc 1 192 14
 329 00d4 0723     		movs	r3, #7
 330 00d6 7B61     		str	r3, [r7, #20]
 331 00d8 0AE0     		b	.L20
 332              	.L19:
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else /* if(hclk >= 32000000) */
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* hclk Clock Range between 32-200 MHz */
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       UsbTrd = 0x6U;
 333              		.loc 1 197 14
 334 00da 0623     		movs	r3, #6
 335 00dc 7B61     		str	r3, [r7, #20]
 336 00de 07E0     		b	.L20
 337              	.L9:
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (speed == USBD_HS_SPEED)
 338              		.loc 1 200 11
 339 00e0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 340 00e2 002B     		cmp	r3, #0
 341 00e4 02D1     		bne	.L21
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_HS_TRDT_VALUE;
 342              		.loc 1 202 12
 343 00e6 0923     		movs	r3, #9
 344 00e8 7B61     		str	r3, [r7, #20]
 345 00ea 01E0     		b	.L20
 346              	.L21:
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     UsbTrd = USBD_DEFAULT_TRDT_VALUE;
 347              		.loc 1 206 12
 348 00ec 0923     		movs	r3, #9
 349 00ee 7B61     		str	r3, [r7, #20]
 350              	.L20:
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~USB_OTG_GUSBCFG_TRDT;
 351              		.loc 1 209 17
 352 00f0 FB68     		ldr	r3, [r7, #12]
 353 00f2 DB68     		ldr	r3, [r3, #12]
 354 00f4 23F47052 		bic	r2, r3, #15360
 355 00f8 FB68     		ldr	r3, [r7, #12]
 356 00fa DA60     		str	r2, [r3, #12]
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG |= (uint32_t)((UsbTrd << 10) & USB_OTG_GUSBCFG_TRDT);
 357              		.loc 1 210 17
 358 00fc FB68     		ldr	r3, [r7, #12]
 359 00fe DA68     		ldr	r2, [r3, #12]
 360              		.loc 1 210 39
 361 0100 7B69     		ldr	r3, [r7, #20]
 362 0102 9B02     		lsls	r3, r3, #10
 363              		.loc 1 210 20
ARM GAS  /tmp/ccaXZQ0T.s 			page 11


 364 0104 03F47053 		and	r3, r3, #15360
 365              		.loc 1 210 17
 366 0108 1A43     		orrs	r2, r2, r3
 367 010a FB68     		ldr	r3, [r7, #12]
 368 010c DA60     		str	r2, [r3, #12]
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 369              		.loc 1 212 10
 370 010e 0023     		movs	r3, #0
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 371              		.loc 1 213 1
 372 0110 1846     		mov	r0, r3
 373 0112 1C37     		adds	r7, r7, #28
 374              	.LCFI11:
 375              		.cfi_def_cfa_offset 4
 376 0114 BD46     		mov	sp, r7
 377              	.LCFI12:
 378              		.cfi_def_cfa_register 13
 379              		@ sp needed
 380 0116 5DF8047B 		ldr	r7, [sp], #4
 381              	.LCFI13:
 382              		.cfi_restore 7
 383              		.cfi_def_cfa_offset 0
 384 011a 7047     		bx	lr
 385              	.L24:
 386              		.align	2
 387              	.L23:
 388 011c BFACD800 		.word	14199999
 389 0120 BFE1E400 		.word	14999999
 390 0124 FF23F400 		.word	15999999
 391 0128 7F730601 		.word	17199999
 392 012c 9F491A01 		.word	18499999
 393 0130 FF2C3101 		.word	19999999
 394 0134 3FA44C01 		.word	21799999
 395 0138 FF356E01 		.word	23999999
 396 013c 1FABA601 		.word	27699999
 397 0140 FF47E801 		.word	31999999
 398              		.cfi_endproc
 399              	.LFE131:
 401              		.section	.text.USB_EnableGlobalInt,"ax",%progbits
 402              		.align	1
 403              		.global	USB_EnableGlobalInt
 404              		.syntax unified
 405              		.thumb
 406              		.thumb_func
 407              		.fpu fpv4-sp-d16
 409              	USB_EnableGlobalInt:
 410              	.LFB132:
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EnableGlobalInt
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Enables the controller's Global Int in the AHB Config reg
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EnableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccaXZQ0T.s 			page 12


 411              		.loc 1 222 1
 412              		.cfi_startproc
 413              		@ args = 0, pretend = 0, frame = 8
 414              		@ frame_needed = 1, uses_anonymous_args = 0
 415              		@ link register save eliminated.
 416 0000 80B4     		push	{r7}
 417              	.LCFI14:
 418              		.cfi_def_cfa_offset 4
 419              		.cfi_offset 7, -4
 420 0002 83B0     		sub	sp, sp, #12
 421              	.LCFI15:
 422              		.cfi_def_cfa_offset 16
 423 0004 00AF     		add	r7, sp, #0
 424              	.LCFI16:
 425              		.cfi_def_cfa_register 7
 426 0006 7860     		str	r0, [r7, #4]
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG |= USB_OTG_GAHBCFG_GINT;
 427              		.loc 1 223 17
 428 0008 7B68     		ldr	r3, [r7, #4]
 429 000a 9B68     		ldr	r3, [r3, #8]
 430 000c 43F00102 		orr	r2, r3, #1
 431 0010 7B68     		ldr	r3, [r7, #4]
 432 0012 9A60     		str	r2, [r3, #8]
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 433              		.loc 1 224 10
 434 0014 0023     		movs	r3, #0
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 435              		.loc 1 225 1
 436 0016 1846     		mov	r0, r3
 437 0018 0C37     		adds	r7, r7, #12
 438              	.LCFI17:
 439              		.cfi_def_cfa_offset 4
 440 001a BD46     		mov	sp, r7
 441              	.LCFI18:
 442              		.cfi_def_cfa_register 13
 443              		@ sp needed
 444 001c 5DF8047B 		ldr	r7, [sp], #4
 445              	.LCFI19:
 446              		.cfi_restore 7
 447              		.cfi_def_cfa_offset 0
 448 0020 7047     		bx	lr
 449              		.cfi_endproc
 450              	.LFE132:
 452              		.section	.text.USB_DisableGlobalInt,"ax",%progbits
 453              		.align	1
 454              		.global	USB_DisableGlobalInt
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 458              		.fpu fpv4-sp-d16
 460              	USB_DisableGlobalInt:
 461              	.LFB133:
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DisableGlobalInt
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         Disable the controller's Global Int in the AHB Config reg
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccaXZQ0T.s 			page 13


 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DisableGlobalInt(USB_OTG_GlobalTypeDef *USBx)
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 462              		.loc 1 234 1
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 8
 465              		@ frame_needed = 1, uses_anonymous_args = 0
 466              		@ link register save eliminated.
 467 0000 80B4     		push	{r7}
 468              	.LCFI20:
 469              		.cfi_def_cfa_offset 4
 470              		.cfi_offset 7, -4
 471 0002 83B0     		sub	sp, sp, #12
 472              	.LCFI21:
 473              		.cfi_def_cfa_offset 16
 474 0004 00AF     		add	r7, sp, #0
 475              	.LCFI22:
 476              		.cfi_def_cfa_register 7
 477 0006 7860     		str	r0, [r7, #4]
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GAHBCFG &= ~USB_OTG_GAHBCFG_GINT;
 478              		.loc 1 235 17
 479 0008 7B68     		ldr	r3, [r7, #4]
 480 000a 9B68     		ldr	r3, [r3, #8]
 481 000c 23F00102 		bic	r2, r3, #1
 482 0010 7B68     		ldr	r3, [r7, #4]
 483 0012 9A60     		str	r2, [r3, #8]
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 484              		.loc 1 236 10
 485 0014 0023     		movs	r3, #0
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 486              		.loc 1 237 1
 487 0016 1846     		mov	r0, r3
 488 0018 0C37     		adds	r7, r7, #12
 489              	.LCFI23:
 490              		.cfi_def_cfa_offset 4
 491 001a BD46     		mov	sp, r7
 492              	.LCFI24:
 493              		.cfi_def_cfa_register 13
 494              		@ sp needed
 495 001c 5DF8047B 		ldr	r7, [sp], #4
 496              	.LCFI25:
 497              		.cfi_restore 7
 498              		.cfi_def_cfa_offset 0
 499 0020 7047     		bx	lr
 500              		.cfi_endproc
 501              	.LFE133:
 503              		.section	.text.USB_SetCurrentMode,"ax",%progbits
 504              		.align	1
 505              		.global	USB_SetCurrentMode
 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 509              		.fpu fpv4-sp-d16
 511              	USB_SetCurrentMode:
 512              	.LFB134:
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccaXZQ0T.s 			page 14


 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetCurrentMode : Set functional mode
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mode   current core mode
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DEVICE_MODE: Peripheral mode
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_HOST_MODE: Host mode
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_DRD_MODE: Dual Role Device mode
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetCurrentMode(USB_OTG_GlobalTypeDef *USBx, USB_OTG_ModeTypeDef mode)
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 513              		.loc 1 250 1
 514              		.cfi_startproc
 515              		@ args = 0, pretend = 0, frame = 8
 516              		@ frame_needed = 1, uses_anonymous_args = 0
 517 0000 80B5     		push	{r7, lr}
 518              	.LCFI26:
 519              		.cfi_def_cfa_offset 8
 520              		.cfi_offset 7, -8
 521              		.cfi_offset 14, -4
 522 0002 82B0     		sub	sp, sp, #8
 523              	.LCFI27:
 524              		.cfi_def_cfa_offset 16
 525 0004 00AF     		add	r7, sp, #0
 526              	.LCFI28:
 527              		.cfi_def_cfa_register 7
 528 0006 7860     		str	r0, [r7, #4]
 529 0008 0B46     		mov	r3, r1
 530 000a FB70     		strb	r3, [r7, #3]
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GUSBCFG &= ~(USB_OTG_GUSBCFG_FHMOD | USB_OTG_GUSBCFG_FDMOD);
 531              		.loc 1 251 17
 532 000c 7B68     		ldr	r3, [r7, #4]
 533 000e DB68     		ldr	r3, [r3, #12]
 534 0010 23F0C042 		bic	r2, r3, #1610612736
 535 0014 7B68     		ldr	r3, [r7, #4]
 536 0016 DA60     		str	r2, [r3, #12]
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (mode == USB_HOST_MODE)
 537              		.loc 1 253 6
 538 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 539 001a 012B     		cmp	r3, #1
 540 001c 06D1     		bne	.L30
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FHMOD;
 541              		.loc 1 255 19
 542 001e 7B68     		ldr	r3, [r7, #4]
 543 0020 DB68     		ldr	r3, [r3, #12]
 544 0022 43F00052 		orr	r2, r3, #536870912
 545 0026 7B68     		ldr	r3, [r7, #4]
 546 0028 DA60     		str	r2, [r3, #12]
 547 002a 0BE0     		b	.L31
 548              	.L30:
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (mode == USB_DEVICE_MODE)
 549              		.loc 1 257 11
 550 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccaXZQ0T.s 			page 15


 551 002e 002B     		cmp	r3, #0
 552 0030 06D1     		bne	.L32
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GUSBCFG |= USB_OTG_GUSBCFG_FDMOD;
 553              		.loc 1 259 19
 554 0032 7B68     		ldr	r3, [r7, #4]
 555 0034 DB68     		ldr	r3, [r3, #12]
 556 0036 43F08042 		orr	r2, r3, #1073741824
 557 003a 7B68     		ldr	r3, [r7, #4]
 558 003c DA60     		str	r2, [r3, #12]
 559 003e 01E0     		b	.L31
 560              	.L32:
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return HAL_ERROR;
 561              		.loc 1 263 12
 562 0040 0123     		movs	r3, #1
 563 0042 03E0     		b	.L33
 564              	.L31:
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(50U);
 565              		.loc 1 265 3
 566 0044 3220     		movs	r0, #50
 567 0046 FFF7FEFF 		bl	HAL_Delay
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 568              		.loc 1 267 10
 569 004a 0023     		movs	r3, #0
 570              	.L33:
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 571              		.loc 1 268 1
 572 004c 1846     		mov	r0, r3
 573 004e 0837     		adds	r7, r7, #8
 574              	.LCFI29:
 575              		.cfi_def_cfa_offset 8
 576 0050 BD46     		mov	sp, r7
 577              	.LCFI30:
 578              		.cfi_def_cfa_register 13
 579              		@ sp needed
 580 0052 80BD     		pop	{r7, pc}
 581              		.cfi_endproc
 582              	.LFE134:
 584              		.section	.text.USB_DevInit,"ax",%progbits
 585              		.align	1
 586              		.global	USB_DevInit
 587              		.syntax unified
 588              		.thumb
 589              		.thumb_func
 590              		.fpu fpv4-sp-d16
 592              	USB_DevInit:
 593              	.LFB135:
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevInit : Initializes the USB_OTG controller registers
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for device mode
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccaXZQ0T.s 			page 16


 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DevInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 594              		.loc 1 279 1
 595              		.cfi_startproc
 596              		@ args = 56, pretend = 16, frame = 24
 597              		@ frame_needed = 1, uses_anonymous_args = 0
 598 0000 84B0     		sub	sp, sp, #16
 599              	.LCFI31:
 600              		.cfi_def_cfa_offset 16
 601 0002 80B5     		push	{r7, lr}
 602              	.LCFI32:
 603              		.cfi_def_cfa_offset 24
 604              		.cfi_offset 7, -24
 605              		.cfi_offset 14, -20
 606 0004 86B0     		sub	sp, sp, #24
 607              	.LCFI33:
 608              		.cfi_def_cfa_offset 48
 609 0006 00AF     		add	r7, sp, #0
 610              	.LCFI34:
 611              		.cfi_def_cfa_register 7
 612 0008 7860     		str	r0, [r7, #4]
 613 000a 07F12400 		add	r0, r7, #36
 614 000e 80E80E00 		stm	r0, {r1, r2, r3}
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 615              		.loc 1 280 21
 616 0012 0023     		movs	r3, #0
 617 0014 FB75     		strb	r3, [r7, #23]
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 618              		.loc 1 281 12
 619 0016 7B68     		ldr	r3, [r7, #4]
 620 0018 FB60     		str	r3, [r7, #12]
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 621              		.loc 1 284 10
 622 001a 0023     		movs	r3, #0
 623 001c 3B61     		str	r3, [r7, #16]
 624              		.loc 1 284 3
 625 001e 09E0     		b	.L35
 626              	.L36:
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF[i] = 0U;
 627              		.loc 1 286 22 discriminator 3
 628 0020 7A68     		ldr	r2, [r7, #4]
 629 0022 3B69     		ldr	r3, [r7, #16]
 630 0024 4033     		adds	r3, r3, #64
 631 0026 9B00     		lsls	r3, r3, #2
 632 0028 1344     		add	r3, r3, r2
 633 002a 0022     		movs	r2, #0
 634 002c 5A60     		str	r2, [r3, #4]
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 635              		.loc 1 284 26 discriminator 3
 636 002e 3B69     		ldr	r3, [r7, #16]
ARM GAS  /tmp/ccaXZQ0T.s 			page 17


 637 0030 0133     		adds	r3, r3, #1
 638 0032 3B61     		str	r3, [r7, #16]
 639              	.L35:
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 640              		.loc 1 284 3 discriminator 1
 641 0034 3B69     		ldr	r3, [r7, #16]
 642 0036 0E2B     		cmp	r3, #14
 643 0038 F2D9     		bls	.L36
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Deactivate VBUS Sensing B */
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBDEN;
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* B-peripheral session valid override enable */
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOEN;
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GOTGCTL |= USB_OTG_GOTGCTL_BVALOVAL;
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBDEN;
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* VBUS Sensing setup */
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 0U)
 644              		.loc 1 309 10
 645 003a FB6C     		ldr	r3, [r7, #76]
 646              		.loc 1 309 6
 647 003c 002B     		cmp	r3, #0
 648 003e 1CD1     		bne	.L37
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /*
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * Disable HW VBUS sensing. VBUS is internally considered to be always
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      * at VBUS-Valid level (5V).
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****      */
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 649              		.loc 1 315 23
 650 0040 FB68     		ldr	r3, [r7, #12]
 651 0042 03F50063 		add	r3, r3, #2048
 652 0046 5B68     		ldr	r3, [r3, #4]
 653 0048 FA68     		ldr	r2, [r7, #12]
 654 004a 02F50062 		add	r2, r2, #2048
 655 004e 43F00203 		orr	r3, r3, #2
 656 0052 5360     		str	r3, [r2, #4]
 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 657              		.loc 1 316 17
 658 0054 7B68     		ldr	r3, [r7, #4]
 659 0056 9B6B     		ldr	r3, [r3, #56]
 660 0058 43F40012 		orr	r2, r3, #2097152
 661 005c 7B68     		ldr	r3, [r7, #4]
 662 005e 9A63     		str	r2, [r3, #56]
ARM GAS  /tmp/ccaXZQ0T.s 			page 18


 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 663              		.loc 1 317 17
 664 0060 7B68     		ldr	r3, [r7, #4]
 665 0062 9B6B     		ldr	r3, [r3, #56]
 666 0064 23F40022 		bic	r2, r3, #524288
 667 0068 7B68     		ldr	r3, [r7, #4]
 668 006a 9A63     		str	r2, [r3, #56]
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 669              		.loc 1 318 17
 670 006c 7B68     		ldr	r3, [r7, #4]
 671 006e 9B6B     		ldr	r3, [r3, #56]
 672 0070 23F48022 		bic	r2, r3, #262144
 673 0074 7B68     		ldr	r3, [r7, #4]
 674 0076 9A63     		str	r2, [r3, #56]
 675 0078 0BE0     		b	.L38
 676              	.L37:
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Enable HW VBUS sensing */
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG &= ~USB_OTG_GCCFG_NOVBUSSENS;
 677              		.loc 1 323 17
 678 007a 7B68     		ldr	r3, [r7, #4]
 679 007c 9B6B     		ldr	r3, [r3, #56]
 680 007e 23F40012 		bic	r2, r3, #2097152
 681 0082 7B68     		ldr	r3, [r7, #4]
 682 0084 9A63     		str	r2, [r3, #56]
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GCCFG |= USB_OTG_GCCFG_VBUSBSEN;
 683              		.loc 1 324 17
 684 0086 7B68     		ldr	r3, [r7, #4]
 685 0088 9B6B     		ldr	r3, [r3, #56]
 686 008a 43F40022 		orr	r2, r3, #524288
 687 008e 7B68     		ldr	r3, [r7, #4]
 688 0090 9A63     		str	r2, [r3, #56]
 689              	.L38:
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 690              		.loc 1 329 3
 691 0092 FB68     		ldr	r3, [r7, #12]
 692 0094 03F56063 		add	r3, r3, #3584
 693 0098 1A46     		mov	r2, r3
 694              		.loc 1 329 16
 695 009a 0023     		movs	r3, #0
 696 009c 1360     		str	r3, [r2]
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Device mode configuration */
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= DCFG_FRAME_INTERVAL_80;
 697              		.loc 1 332 21
 698 009e FB68     		ldr	r3, [r7, #12]
 699 00a0 03F50063 		add	r3, r3, #2048
 700 00a4 1946     		mov	r1, r3
 701 00a6 FB68     		ldr	r3, [r7, #12]
 702 00a8 03F50063 		add	r3, r3, #2048
 703 00ac 1A46     		mov	r2, r3
ARM GAS  /tmp/ccaXZQ0T.s 			page 19


 704 00ae 0B68     		ldr	r3, [r1]
 705 00b0 1360     		str	r3, [r2]
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.phy_itface == USB_OTG_ULPI_PHY)
 706              		.loc 1 334 10
 707 00b2 BB6B     		ldr	r3, [r7, #56]
 708              		.loc 1 334 6
 709 00b4 012B     		cmp	r3, #1
 710 00b6 0CD1     		bne	.L39
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBD_HS_SPEED)
 711              		.loc 1 336 12
 712 00b8 FB6A     		ldr	r3, [r7, #44]
 713              		.loc 1 336 8
 714 00ba 002B     		cmp	r3, #0
 715 00bc 04D1     		bne	.L40
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to High speed mode */
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH);
 716              		.loc 1 339 13
 717 00be 0021     		movs	r1, #0
 718 00c0 7868     		ldr	r0, [r7, #4]
 719 00c2 FFF7FEFF 		bl	USB_SetDevSpeed
 720 00c6 08E0     		b	.L42
 721              	.L40:
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set Core speed to Full speed mode */
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_HIGH_IN_FULL);
 722              		.loc 1 344 13
 723 00c8 0121     		movs	r1, #1
 724 00ca 7868     		ldr	r0, [r7, #4]
 725 00cc FFF7FEFF 		bl	USB_SetDevSpeed
 726 00d0 03E0     		b	.L42
 727              	.L39:
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set Core speed to Full speed mode */
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     (void)USB_SetDevSpeed(USBx, USB_OTG_SPEED_FULL);
 728              		.loc 1 350 11
 729 00d2 0321     		movs	r1, #3
 730 00d4 7868     		ldr	r0, [r7, #4]
 731 00d6 FFF7FEFF 		bl	USB_SetDevSpeed
 732              	.L42:
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFOs */
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushTxFifo(USBx, 0x10U) != HAL_OK) /* all Tx FIFOs */
 733              		.loc 1 354 7
 734 00da 1021     		movs	r1, #16
 735 00dc 7868     		ldr	r0, [r7, #4]
 736 00de FFF7FEFF 		bl	USB_FlushTxFifo
 737 00e2 0346     		mov	r3, r0
 738              		.loc 1 354 6
ARM GAS  /tmp/ccaXZQ0T.s 			page 20


 739 00e4 002B     		cmp	r3, #0
 740 00e6 01D0     		beq	.L43
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 741              		.loc 1 356 9
 742 00e8 0123     		movs	r3, #1
 743 00ea FB75     		strb	r3, [r7, #23]
 744              	.L43:
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (USB_FlushRxFifo(USBx) != HAL_OK)
 745              		.loc 1 359 7
 746 00ec 7868     		ldr	r0, [r7, #4]
 747 00ee FFF7FEFF 		bl	USB_FlushRxFifo
 748 00f2 0346     		mov	r3, r0
 749              		.loc 1 359 6
 750 00f4 002B     		cmp	r3, #0
 751 00f6 01D0     		beq	.L44
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     ret = HAL_ERROR;
 752              		.loc 1 361 9
 753 00f8 0123     		movs	r3, #1
 754 00fa FB75     		strb	r3, [r7, #23]
 755              	.L44:
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending Device Interrupts */
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK = 0U;
 756              		.loc 1 365 3
 757 00fc FB68     		ldr	r3, [r7, #12]
 758 00fe 03F50063 		add	r3, r3, #2048
 759 0102 1A46     		mov	r2, r3
 760              		.loc 1 365 24
 761 0104 0023     		movs	r3, #0
 762 0106 1361     		str	r3, [r2, #16]
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK = 0U;
 763              		.loc 1 366 3
 764 0108 FB68     		ldr	r3, [r7, #12]
 765 010a 03F50063 		add	r3, r3, #2048
 766 010e 1A46     		mov	r2, r3
 767              		.loc 1 366 24
 768 0110 0023     		movs	r3, #0
 769 0112 5361     		str	r3, [r2, #20]
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 770              		.loc 1 367 3
 771 0114 FB68     		ldr	r3, [r7, #12]
 772 0116 03F50063 		add	r3, r3, #2048
 773 011a 1A46     		mov	r2, r3
 774              		.loc 1 367 25
 775 011c 0023     		movs	r3, #0
 776 011e D361     		str	r3, [r2, #28]
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 777              		.loc 1 369 10
 778 0120 0023     		movs	r3, #0
 779 0122 3B61     		str	r3, [r7, #16]
 780              		.loc 1 369 3
ARM GAS  /tmp/ccaXZQ0T.s 			page 21


 781 0124 43E0     		b	.L45
 782              	.L50:
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(i)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 783              		.loc 1 371 10
 784 0126 3B69     		ldr	r3, [r7, #16]
 785 0128 5A01     		lsls	r2, r3, #5
 786 012a FB68     		ldr	r3, [r7, #12]
 787 012c 1344     		add	r3, r3, r2
 788 012e 03F51063 		add	r3, r3, #2304
 789              		.loc 1 371 22
 790 0132 1B68     		ldr	r3, [r3]
 791              		.loc 1 371 32
 792 0134 03F00043 		and	r3, r3, #-2147483648
 793              		.loc 1 371 8
 794 0138 B3F1004F 		cmp	r3, #-2147483648
 795 013c 18D1     		bne	.L46
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 796              		.loc 1 373 10
 797 013e 3B69     		ldr	r3, [r7, #16]
 798 0140 002B     		cmp	r3, #0
 799 0142 0AD1     		bne	.L47
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_SNAK;
 800              		.loc 1 375 9
 801 0144 3B69     		ldr	r3, [r7, #16]
 802 0146 5A01     		lsls	r2, r3, #5
 803 0148 FB68     		ldr	r3, [r7, #12]
 804 014a 1344     		add	r3, r3, r2
 805 014c 03F51063 		add	r3, r3, #2304
 806 0150 1A46     		mov	r2, r3
 807              		.loc 1 375 31
 808 0152 4FF00063 		mov	r3, #134217728
 809 0156 1360     		str	r3, [r2]
 810 0158 13E0     		b	.L49
 811              	.L47:
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(i)->DIEPCTL = USB_OTG_DIEPCTL_EPDIS | USB_OTG_DIEPCTL_SNAK;
 812              		.loc 1 379 9
 813 015a 3B69     		ldr	r3, [r7, #16]
 814 015c 5A01     		lsls	r2, r3, #5
 815 015e FB68     		ldr	r3, [r7, #12]
 816 0160 1344     		add	r3, r3, r2
 817 0162 03F51063 		add	r3, r3, #2304
 818 0166 1A46     		mov	r2, r3
 819              		.loc 1 379 31
 820 0168 4FF09043 		mov	r3, #1207959552
 821 016c 1360     		str	r3, [r2]
 822 016e 08E0     		b	.L49
 823              	.L46:
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/ccaXZQ0T.s 			page 22


 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(i)->DIEPCTL = 0U;
 824              		.loc 1 384 7
 825 0170 3B69     		ldr	r3, [r7, #16]
 826 0172 5A01     		lsls	r2, r3, #5
 827 0174 FB68     		ldr	r3, [r7, #12]
 828 0176 1344     		add	r3, r3, r2
 829 0178 03F51063 		add	r3, r3, #2304
 830 017c 1A46     		mov	r2, r3
 831              		.loc 1 384 29
 832 017e 0023     		movs	r3, #0
 833 0180 1360     		str	r3, [r2]
 834              	.L49:
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPTSIZ = 0U;
 835              		.loc 1 387 5 discriminator 2
 836 0182 3B69     		ldr	r3, [r7, #16]
 837 0184 5A01     		lsls	r2, r3, #5
 838 0186 FB68     		ldr	r3, [r7, #12]
 839 0188 1344     		add	r3, r3, r2
 840 018a 03F51063 		add	r3, r3, #2304
 841 018e 1A46     		mov	r2, r3
 842              		.loc 1 387 28 discriminator 2
 843 0190 0023     		movs	r3, #0
 844 0192 1361     		str	r3, [r2, #16]
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT  = 0xFB7FU;
 845              		.loc 1 388 5 discriminator 2
 846 0194 3B69     		ldr	r3, [r7, #16]
 847 0196 5A01     		lsls	r2, r3, #5
 848 0198 FB68     		ldr	r3, [r7, #12]
 849 019a 1344     		add	r3, r3, r2
 850 019c 03F51063 		add	r3, r3, #2304
 851 01a0 1A46     		mov	r2, r3
 852              		.loc 1 388 28 discriminator 2
 853 01a2 4FF67F33 		movw	r3, #64383
 854 01a6 9360     		str	r3, [r2, #8]
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 855              		.loc 1 369 40 discriminator 2
 856 01a8 3B69     		ldr	r3, [r7, #16]
 857 01aa 0133     		adds	r3, r3, #1
 858 01ac 3B61     		str	r3, [r7, #16]
 859              	.L45:
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 860              		.loc 1 369 23 discriminator 1
 861 01ae 7B6A     		ldr	r3, [r7, #36]
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 862              		.loc 1 369 3 discriminator 1
 863 01b0 3A69     		ldr	r2, [r7, #16]
 864 01b2 9A42     		cmp	r2, r3
 865 01b4 B7D3     		bcc	.L50
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.dev_endpoints; i++)
 866              		.loc 1 391 10
 867 01b6 0023     		movs	r3, #0
 868 01b8 3B61     		str	r3, [r7, #16]
 869              		.loc 1 391 3
ARM GAS  /tmp/ccaXZQ0T.s 			page 23


 870 01ba 43E0     		b	.L51
 871              	.L56:
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(i)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 872              		.loc 1 393 10
 873 01bc 3B69     		ldr	r3, [r7, #16]
 874 01be 5A01     		lsls	r2, r3, #5
 875 01c0 FB68     		ldr	r3, [r7, #12]
 876 01c2 1344     		add	r3, r3, r2
 877 01c4 03F53063 		add	r3, r3, #2816
 878              		.loc 1 393 23
 879 01c8 1B68     		ldr	r3, [r3]
 880              		.loc 1 393 33
 881 01ca 03F00043 		and	r3, r3, #-2147483648
 882              		.loc 1 393 8
 883 01ce B3F1004F 		cmp	r3, #-2147483648
 884 01d2 18D1     		bne	.L52
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (i == 0U)
 885              		.loc 1 395 10
 886 01d4 3B69     		ldr	r3, [r7, #16]
 887 01d6 002B     		cmp	r3, #0
 888 01d8 0AD1     		bne	.L53
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_SNAK;
 889              		.loc 1 397 9
 890 01da 3B69     		ldr	r3, [r7, #16]
 891 01dc 5A01     		lsls	r2, r3, #5
 892 01de FB68     		ldr	r3, [r7, #12]
 893 01e0 1344     		add	r3, r3, r2
 894 01e2 03F53063 		add	r3, r3, #2816
 895 01e6 1A46     		mov	r2, r3
 896              		.loc 1 397 32
 897 01e8 4FF00063 		mov	r3, #134217728
 898 01ec 1360     		str	r3, [r2]
 899 01ee 13E0     		b	.L55
 900              	.L53:
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(i)->DOEPCTL = USB_OTG_DOEPCTL_EPDIS | USB_OTG_DOEPCTL_SNAK;
 901              		.loc 1 401 9
 902 01f0 3B69     		ldr	r3, [r7, #16]
 903 01f2 5A01     		lsls	r2, r3, #5
 904 01f4 FB68     		ldr	r3, [r7, #12]
 905 01f6 1344     		add	r3, r3, r2
 906 01f8 03F53063 		add	r3, r3, #2816
 907 01fc 1A46     		mov	r2, r3
 908              		.loc 1 401 32
 909 01fe 4FF09043 		mov	r3, #1207959552
 910 0202 1360     		str	r3, [r2]
 911 0204 08E0     		b	.L55
 912              	.L52:
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
ARM GAS  /tmp/ccaXZQ0T.s 			page 24


 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(i)->DOEPCTL = 0U;
 913              		.loc 1 406 7
 914 0206 3B69     		ldr	r3, [r7, #16]
 915 0208 5A01     		lsls	r2, r3, #5
 916 020a FB68     		ldr	r3, [r7, #12]
 917 020c 1344     		add	r3, r3, r2
 918 020e 03F53063 		add	r3, r3, #2816
 919 0212 1A46     		mov	r2, r3
 920              		.loc 1 406 30
 921 0214 0023     		movs	r3, #0
 922 0216 1360     		str	r3, [r2]
 923              	.L55:
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPTSIZ = 0U;
 924              		.loc 1 409 5 discriminator 2
 925 0218 3B69     		ldr	r3, [r7, #16]
 926 021a 5A01     		lsls	r2, r3, #5
 927 021c FB68     		ldr	r3, [r7, #12]
 928 021e 1344     		add	r3, r3, r2
 929 0220 03F53063 		add	r3, r3, #2816
 930 0224 1A46     		mov	r2, r3
 931              		.loc 1 409 29 discriminator 2
 932 0226 0023     		movs	r3, #0
 933 0228 1361     		str	r3, [r2, #16]
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT  = 0xFB7FU;
 934              		.loc 1 410 5 discriminator 2
 935 022a 3B69     		ldr	r3, [r7, #16]
 936 022c 5A01     		lsls	r2, r3, #5
 937 022e FB68     		ldr	r3, [r7, #12]
 938 0230 1344     		add	r3, r3, r2
 939 0232 03F53063 		add	r3, r3, #2816
 940 0236 1A46     		mov	r2, r3
 941              		.loc 1 410 29 discriminator 2
 942 0238 4FF67F33 		movw	r3, #64383
 943 023c 9360     		str	r3, [r2, #8]
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 944              		.loc 1 391 40 discriminator 2
 945 023e 3B69     		ldr	r3, [r7, #16]
 946 0240 0133     		adds	r3, r3, #1
 947 0242 3B61     		str	r3, [r7, #16]
 948              	.L51:
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 949              		.loc 1 391 23 discriminator 1
 950 0244 7B6A     		ldr	r3, [r7, #36]
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 951              		.loc 1 391 3 discriminator 1
 952 0246 3A69     		ldr	r2, [r7, #16]
 953 0248 9A42     		cmp	r2, r3
 954 024a B7D3     		bcc	.L56
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK &= ~(USB_OTG_DIEPMSK_TXFURM);
 955              		.loc 1 413 24
 956 024c FB68     		ldr	r3, [r7, #12]
 957 024e 03F50063 		add	r3, r3, #2048
 958 0252 1B69     		ldr	r3, [r3, #16]
ARM GAS  /tmp/ccaXZQ0T.s 			page 25


 959 0254 FA68     		ldr	r2, [r7, #12]
 960 0256 02F50062 		add	r2, r2, #2048
 961 025a 23F48073 		bic	r3, r3, #256
 962 025e 1361     		str	r3, [r2, #16]
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 963              		.loc 1 416 17
 964 0260 7B68     		ldr	r3, [r7, #4]
 965 0262 0022     		movs	r2, #0
 966 0264 9A61     		str	r2, [r3, #24]
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xBFFFFFFFU;
 967              		.loc 1 419 17
 968 0266 7B68     		ldr	r3, [r7, #4]
 969 0268 6FF08042 		mvn	r2, #1073741824
 970 026c 5A61     		str	r2, [r3, #20]
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 971              		.loc 1 422 10
 972 026e 3B6B     		ldr	r3, [r7, #48]
 973              		.loc 1 422 6
 974 0270 002B     		cmp	r3, #0
 975 0272 05D1     		bne	.L57
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 976              		.loc 1 424 19
 977 0274 7B68     		ldr	r3, [r7, #4]
 978 0276 9B69     		ldr	r3, [r3, #24]
 979 0278 43F01002 		orr	r2, r3, #16
 980 027c 7B68     		ldr	r3, [r7, #4]
 981 027e 9A61     		str	r2, [r3, #24]
 982              	.L57:
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Device mode ONLY */
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_USBSUSPM | USB_OTG_GINTMSK_USBRST |
 983              		.loc 1 428 17
 984 0280 7B68     		ldr	r3, [r7, #4]
 985 0282 9A69     		ldr	r2, [r3, #24]
 986 0284 0F4B     		ldr	r3, .L61
 987 0286 1343     		orrs	r3, r3, r2
 988 0288 7A68     		ldr	r2, [r7, #4]
 989 028a 9361     		str	r3, [r2, #24]
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_ENUMDNEM | USB_OTG_GINTMSK_IEPINT |
 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_OEPINT   | USB_OTG_GINTMSK_IISOIXFRM |
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                    USB_OTG_GINTMSK_PXFRM_IISOOXFRM | USB_OTG_GINTMSK_WUIM;
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.Sof_enable != 0U)
 990              		.loc 1 433 10
 991 028c FB6B     		ldr	r3, [r7, #60]
 992              		.loc 1 433 6
 993 028e 002B     		cmp	r3, #0
 994 0290 05D0     		beq	.L58
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
ARM GAS  /tmp/ccaXZQ0T.s 			page 26


 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_SOFM;
 995              		.loc 1 435 19
 996 0292 7B68     		ldr	r3, [r7, #4]
 997 0294 9B69     		ldr	r3, [r3, #24]
 998 0296 43F00802 		orr	r2, r3, #8
 999 029a 7B68     		ldr	r3, [r7, #4]
 1000 029c 9A61     		str	r2, [r3, #24]
 1001              	.L58:
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.vbus_sensing_enable == 1U)
 1002              		.loc 1 438 10
 1003 029e FB6C     		ldr	r3, [r7, #76]
 1004              		.loc 1 438 6
 1005 02a0 012B     		cmp	r3, #1
 1006 02a2 07D1     		bne	.L59
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= (USB_OTG_GINTMSK_SRQIM | USB_OTG_GINTMSK_OTGINT);
 1007              		.loc 1 440 19
 1008 02a4 7B68     		ldr	r3, [r7, #4]
 1009 02a6 9B69     		ldr	r3, [r3, #24]
 1010 02a8 43F08043 		orr	r3, r3, #1073741824
 1011 02ac 43F00403 		orr	r3, r3, #4
 1012 02b0 7A68     		ldr	r2, [r7, #4]
 1013 02b2 9361     		str	r3, [r2, #24]
 1014              	.L59:
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 1015              		.loc 1 443 10
 1016 02b4 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1017              		.loc 1 444 1
 1018 02b6 1846     		mov	r0, r3
 1019 02b8 1837     		adds	r7, r7, #24
 1020              	.LCFI35:
 1021              		.cfi_def_cfa_offset 24
 1022 02ba BD46     		mov	sp, r7
 1023              	.LCFI36:
 1024              		.cfi_def_cfa_register 13
 1025              		@ sp needed
 1026 02bc BDE88040 		pop	{r7, lr}
 1027              	.LCFI37:
 1028              		.cfi_restore 14
 1029              		.cfi_restore 7
 1030              		.cfi_def_cfa_offset 16
 1031 02c0 04B0     		add	sp, sp, #16
 1032              	.LCFI38:
 1033              		.cfi_def_cfa_offset 0
 1034 02c2 7047     		bx	lr
 1035              	.L62:
 1036              		.align	2
 1037              	.L61:
 1038 02c4 00383C80 		.word	-2143537152
 1039              		.cfi_endproc
 1040              	.LFE135:
 1042              		.section	.text.USB_FlushTxFifo,"ax",%progbits
ARM GAS  /tmp/ccaXZQ0T.s 			page 27


 1043              		.align	1
 1044              		.global	USB_FlushTxFifo
 1045              		.syntax unified
 1046              		.thumb
 1047              		.thumb_func
 1048              		.fpu fpv4-sp-d16
 1050              	USB_FlushTxFifo:
 1051              	.LFB136:
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_OTG_FlushTxFifo : Flush a Tx FIFO
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  num  FIFO number
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             15 means Flush all Tx FIFOs
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushTxFifo(USB_OTG_GlobalTypeDef *USBx, uint32_t num)
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1052              		.loc 1 455 1
 1053              		.cfi_startproc
 1054              		@ args = 0, pretend = 0, frame = 16
 1055              		@ frame_needed = 1, uses_anonymous_args = 0
 1056              		@ link register save eliminated.
 1057 0000 80B4     		push	{r7}
 1058              	.LCFI39:
 1059              		.cfi_def_cfa_offset 4
 1060              		.cfi_offset 7, -4
 1061 0002 85B0     		sub	sp, sp, #20
 1062              	.LCFI40:
 1063              		.cfi_def_cfa_offset 24
 1064 0004 00AF     		add	r7, sp, #0
 1065              	.LCFI41:
 1066              		.cfi_def_cfa_register 7
 1067 0006 7860     		str	r0, [r7, #4]
 1068 0008 3960     		str	r1, [r7]
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 1069              		.loc 1 456 12
 1070 000a 0023     		movs	r3, #0
 1071 000c FB60     		str	r3, [r7, #12]
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = (USB_OTG_GRSTCTL_TXFFLSH | (num << 6));
 1072              		.loc 1 458 51
 1073 000e 3B68     		ldr	r3, [r7]
 1074 0010 9B01     		lsls	r3, r3, #6
 1075              		.loc 1 458 44
 1076 0012 43F02002 		orr	r2, r3, #32
 1077              		.loc 1 458 17
 1078 0016 7B68     		ldr	r3, [r7, #4]
 1079 0018 1A61     		str	r2, [r3, #16]
 1080              	.L66:
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 1081              		.loc 1 462 8
 1082 001a FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 28


 1083 001c 0133     		adds	r3, r3, #1
 1084 001e FB60     		str	r3, [r7, #12]
 1085 0020 FB68     		ldr	r3, [r7, #12]
 1086 0022 094A     		ldr	r2, .L67
 1087 0024 9342     		cmp	r3, r2
 1088 0026 01D9     		bls	.L64
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1089              		.loc 1 464 14
 1090 0028 0323     		movs	r3, #3
 1091 002a 06E0     		b	.L65
 1092              	.L64:
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_TXFFLSH) == USB_OTG_GRSTCTL_TXFFLSH);
 1093              		.loc 1 467 15
 1094 002c 7B68     		ldr	r3, [r7, #4]
 1095 002e 1B69     		ldr	r3, [r3, #16]
 1096              		.loc 1 467 25
 1097 0030 03F02003 		and	r3, r3, #32
 1098              		.loc 1 467 3
 1099 0034 202B     		cmp	r3, #32
 1100 0036 F0D0     		beq	.L66
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1101              		.loc 1 469 10
 1102 0038 0023     		movs	r3, #0
 1103              	.L65:
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1104              		.loc 1 470 1
 1105 003a 1846     		mov	r0, r3
 1106 003c 1437     		adds	r7, r7, #20
 1107              	.LCFI42:
 1108              		.cfi_def_cfa_offset 4
 1109 003e BD46     		mov	sp, r7
 1110              	.LCFI43:
 1111              		.cfi_def_cfa_register 13
 1112              		@ sp needed
 1113 0040 5DF8047B 		ldr	r7, [sp], #4
 1114              	.LCFI44:
 1115              		.cfi_restore 7
 1116              		.cfi_def_cfa_offset 0
 1117 0044 7047     		bx	lr
 1118              	.L68:
 1119 0046 00BF     		.align	2
 1120              	.L67:
 1121 0048 400D0300 		.word	200000
 1122              		.cfi_endproc
 1123              	.LFE136:
 1125              		.section	.text.USB_FlushRxFifo,"ax",%progbits
 1126              		.align	1
 1127              		.global	USB_FlushRxFifo
 1128              		.syntax unified
 1129              		.thumb
 1130              		.thumb_func
 1131              		.fpu fpv4-sp-d16
 1133              	USB_FlushRxFifo:
ARM GAS  /tmp/ccaXZQ0T.s 			page 29


 1134              	.LFB137:
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_FlushRxFifo : Flush Rx FIFO
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_FlushRxFifo(USB_OTG_GlobalTypeDef *USBx)
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1135              		.loc 1 478 1
 1136              		.cfi_startproc
 1137              		@ args = 0, pretend = 0, frame = 16
 1138              		@ frame_needed = 1, uses_anonymous_args = 0
 1139              		@ link register save eliminated.
 1140 0000 80B4     		push	{r7}
 1141              	.LCFI45:
 1142              		.cfi_def_cfa_offset 4
 1143              		.cfi_offset 7, -4
 1144 0002 85B0     		sub	sp, sp, #20
 1145              	.LCFI46:
 1146              		.cfi_def_cfa_offset 24
 1147 0004 00AF     		add	r7, sp, #0
 1148              	.LCFI47:
 1149              		.cfi_def_cfa_register 7
 1150 0006 7860     		str	r0, [r7, #4]
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0;
 1151              		.loc 1 479 12
 1152 0008 0023     		movs	r3, #0
 1153 000a FB60     		str	r3, [r7, #12]
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL = USB_OTG_GRSTCTL_RXFFLSH;
 1154              		.loc 1 481 17
 1155 000c 7B68     		ldr	r3, [r7, #4]
 1156 000e 1022     		movs	r2, #16
 1157 0010 1A61     		str	r2, [r3, #16]
 1158              	.L72:
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 1159              		.loc 1 485 8
 1160 0012 FB68     		ldr	r3, [r7, #12]
 1161 0014 0133     		adds	r3, r3, #1
 1162 0016 FB60     		str	r3, [r7, #12]
 1163 0018 FB68     		ldr	r3, [r7, #12]
 1164 001a 094A     		ldr	r2, .L73
 1165 001c 9342     		cmp	r3, r2
 1166 001e 01D9     		bls	.L70
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 1167              		.loc 1 487 14
 1168 0020 0323     		movs	r3, #3
 1169 0022 06E0     		b	.L71
 1170              	.L70:
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_RXFFLSH) == USB_OTG_GRSTCTL_RXFFLSH);
ARM GAS  /tmp/ccaXZQ0T.s 			page 30


 1171              		.loc 1 490 15
 1172 0024 7B68     		ldr	r3, [r7, #4]
 1173 0026 1B69     		ldr	r3, [r3, #16]
 1174              		.loc 1 490 25
 1175 0028 03F01003 		and	r3, r3, #16
 1176              		.loc 1 490 3
 1177 002c 102B     		cmp	r3, #16
 1178 002e F0D0     		beq	.L72
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1179              		.loc 1 492 10
 1180 0030 0023     		movs	r3, #0
 1181              	.L71:
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1182              		.loc 1 493 1
 1183 0032 1846     		mov	r0, r3
 1184 0034 1437     		adds	r7, r7, #20
 1185              	.LCFI48:
 1186              		.cfi_def_cfa_offset 4
 1187 0036 BD46     		mov	sp, r7
 1188              	.LCFI49:
 1189              		.cfi_def_cfa_register 13
 1190              		@ sp needed
 1191 0038 5DF8047B 		ldr	r7, [sp], #4
 1192              	.LCFI50:
 1193              		.cfi_restore 7
 1194              		.cfi_def_cfa_offset 0
 1195 003c 7047     		bx	lr
 1196              	.L74:
 1197 003e 00BF     		.align	2
 1198              	.L73:
 1199 0040 400D0300 		.word	200000
 1200              		.cfi_endproc
 1201              	.LFE137:
 1203              		.section	.text.USB_SetDevSpeed,"ax",%progbits
 1204              		.align	1
 1205              		.global	USB_SetDevSpeed
 1206              		.syntax unified
 1207              		.thumb
 1208              		.thumb_func
 1209              		.fpu fpv4-sp-d16
 1211              	USB_SetDevSpeed:
 1212              	.LFB138:
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevSpeed  Initializes the DevSpd field of DCFG register
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         depending the PHY type and the enumeration speed of the device.
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  device speed
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH_IN_FULL: High speed core in Full Speed mode
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval  Hal status
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_SetDevSpeed(USB_OTG_GlobalTypeDef *USBx, uint8_t speed)
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
ARM GAS  /tmp/ccaXZQ0T.s 			page 31


 1213              		.loc 1 507 1
 1214              		.cfi_startproc
 1215              		@ args = 0, pretend = 0, frame = 16
 1216              		@ frame_needed = 1, uses_anonymous_args = 0
 1217              		@ link register save eliminated.
 1218 0000 80B4     		push	{r7}
 1219              	.LCFI51:
 1220              		.cfi_def_cfa_offset 4
 1221              		.cfi_offset 7, -4
 1222 0002 85B0     		sub	sp, sp, #20
 1223              	.LCFI52:
 1224              		.cfi_def_cfa_offset 24
 1225 0004 00AF     		add	r7, sp, #0
 1226              	.LCFI53:
 1227              		.cfi_def_cfa_register 7
 1228 0006 7860     		str	r0, [r7, #4]
 1229 0008 0B46     		mov	r3, r1
 1230 000a FB70     		strb	r3, [r7, #3]
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1231              		.loc 1 508 12
 1232 000c 7B68     		ldr	r3, [r7, #4]
 1233 000e FB60     		str	r3, [r7, #12]
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= speed;
 1234              		.loc 1 510 21
 1235 0010 FB68     		ldr	r3, [r7, #12]
 1236 0012 03F50063 		add	r3, r3, #2048
 1237 0016 1A68     		ldr	r2, [r3]
 1238 0018 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1239 001a F968     		ldr	r1, [r7, #12]
 1240 001c 01F50061 		add	r1, r1, #2048
 1241 0020 1343     		orrs	r3, r3, r2
 1242 0022 0B60     		str	r3, [r1]
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1243              		.loc 1 511 10
 1244 0024 0023     		movs	r3, #0
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1245              		.loc 1 512 1
 1246 0026 1846     		mov	r0, r3
 1247 0028 1437     		adds	r7, r7, #20
 1248              	.LCFI54:
 1249              		.cfi_def_cfa_offset 4
 1250 002a BD46     		mov	sp, r7
 1251              	.LCFI55:
 1252              		.cfi_def_cfa_register 13
 1253              		@ sp needed
 1254 002c 5DF8047B 		ldr	r7, [sp], #4
 1255              	.LCFI56:
 1256              		.cfi_restore 7
 1257              		.cfi_def_cfa_offset 0
 1258 0030 7047     		bx	lr
 1259              		.cfi_endproc
 1260              	.LFE138:
 1262              		.section	.text.USB_GetDevSpeed,"ax",%progbits
 1263              		.align	1
 1264              		.global	USB_GetDevSpeed
 1265              		.syntax unified
ARM GAS  /tmp/ccaXZQ0T.s 			page 32


 1266              		.thumb
 1267              		.thumb_func
 1268              		.fpu fpv4-sp-d16
 1270              	USB_GetDevSpeed:
 1271              	.LFB139:
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_GetDevSpeed  Return the Dev Speed
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed  device speed
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg PCD_SPEED_HIGH: High speed mode
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg PCD_SPEED_FULL: Full speed mode
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint8_t USB_GetDevSpeed(USB_OTG_GlobalTypeDef *USBx)
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1272              		.loc 1 523 1
 1273              		.cfi_startproc
 1274              		@ args = 0, pretend = 0, frame = 24
 1275              		@ frame_needed = 1, uses_anonymous_args = 0
 1276              		@ link register save eliminated.
 1277 0000 80B4     		push	{r7}
 1278              	.LCFI57:
 1279              		.cfi_def_cfa_offset 4
 1280              		.cfi_offset 7, -4
 1281 0002 87B0     		sub	sp, sp, #28
 1282              	.LCFI58:
 1283              		.cfi_def_cfa_offset 32
 1284 0004 00AF     		add	r7, sp, #0
 1285              	.LCFI59:
 1286              		.cfi_def_cfa_register 7
 1287 0006 7860     		str	r0, [r7, #4]
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1288              		.loc 1 524 12
 1289 0008 7B68     		ldr	r3, [r7, #4]
 1290 000a 3B61     		str	r3, [r7, #16]
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t speed;
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t DevEnumSpeed = USBx_DEVICE->DSTS & USB_OTG_DSTS_ENUMSPD;
 1291              		.loc 1 526 27
 1292 000c 3B69     		ldr	r3, [r7, #16]
 1293 000e 03F50063 		add	r3, r3, #2048
 1294              		.loc 1 526 38
 1295 0012 9B68     		ldr	r3, [r3, #8]
 1296              		.loc 1 526 12
 1297 0014 03F00603 		and	r3, r3, #6
 1298 0018 FB60     		str	r3, [r7, #12]
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (DevEnumSpeed == DSTS_ENUMSPD_HS_PHY_30MHZ_OR_60MHZ)
 1299              		.loc 1 528 6
 1300 001a FB68     		ldr	r3, [r7, #12]
 1301 001c 002B     		cmp	r3, #0
 1302 001e 02D1     		bne	.L78
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_HS_SPEED;
 1303              		.loc 1 530 11
 1304 0020 0023     		movs	r3, #0
 1305 0022 FB75     		strb	r3, [r7, #23]
ARM GAS  /tmp/ccaXZQ0T.s 			page 33


 1306 0024 0AE0     		b	.L79
 1307              	.L78:
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if ((DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_30MHZ_OR_60MHZ) ||
 1308              		.loc 1 532 11
 1309 0026 FB68     		ldr	r3, [r7, #12]
 1310 0028 022B     		cmp	r3, #2
 1311 002a 02D0     		beq	.L80
 1312              		.loc 1 532 65 discriminator 1
 1313 002c FB68     		ldr	r3, [r7, #12]
 1314 002e 062B     		cmp	r3, #6
 1315 0030 02D1     		bne	.L81
 1316              	.L80:
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****            (DevEnumSpeed == DSTS_ENUMSPD_FS_PHY_48MHZ))
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = USBD_FS_SPEED;
 1317              		.loc 1 535 11
 1318 0032 0223     		movs	r3, #2
 1319 0034 FB75     		strb	r3, [r7, #23]
 1320 0036 01E0     		b	.L79
 1321              	.L81:
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     speed = 0xFU;
 1322              		.loc 1 539 11
 1323 0038 0F23     		movs	r3, #15
 1324 003a FB75     		strb	r3, [r7, #23]
 1325              	.L79:
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return speed;
 1326              		.loc 1 542 10
 1327 003c FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1328              		.loc 1 543 1
 1329 003e 1846     		mov	r0, r3
 1330 0040 1C37     		adds	r7, r7, #28
 1331              	.LCFI60:
 1332              		.cfi_def_cfa_offset 4
 1333 0042 BD46     		mov	sp, r7
 1334              	.LCFI61:
 1335              		.cfi_def_cfa_register 13
 1336              		@ sp needed
 1337 0044 5DF8047B 		ldr	r7, [sp], #4
 1338              	.LCFI62:
 1339              		.cfi_restore 7
 1340              		.cfi_def_cfa_offset 0
 1341 0048 7047     		bx	lr
 1342              		.cfi_endproc
 1343              	.LFE139:
 1345              		.section	.text.USB_ActivateEndpoint,"ax",%progbits
 1346              		.align	1
 1347              		.global	USB_ActivateEndpoint
 1348              		.syntax unified
 1349              		.thumb
 1350              		.thumb_func
ARM GAS  /tmp/ccaXZQ0T.s 			page 34


 1351              		.fpu fpv4-sp-d16
 1353              	USB_ActivateEndpoint:
 1354              	.LFB140:
 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure an endpoint
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1355              		.loc 1 552 1
 1356              		.cfi_startproc
 1357              		@ args = 0, pretend = 0, frame = 16
 1358              		@ frame_needed = 1, uses_anonymous_args = 0
 1359              		@ link register save eliminated.
 1360 0000 80B4     		push	{r7}
 1361              	.LCFI63:
 1362              		.cfi_def_cfa_offset 4
 1363              		.cfi_offset 7, -4
 1364 0002 85B0     		sub	sp, sp, #20
 1365              	.LCFI64:
 1366              		.cfi_def_cfa_offset 24
 1367 0004 00AF     		add	r7, sp, #0
 1368              	.LCFI65:
 1369              		.cfi_def_cfa_register 7
 1370 0006 7860     		str	r0, [r7, #4]
 1371 0008 3960     		str	r1, [r7]
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1372              		.loc 1 553 12
 1373 000a 7B68     		ldr	r3, [r7, #4]
 1374 000c FB60     		str	r3, [r7, #12]
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1375              		.loc 1 554 32
 1376 000e 3B68     		ldr	r3, [r7]
 1377 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1378              		.loc 1 554 12
 1379 0012 BB60     		str	r3, [r7, #8]
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1380              		.loc 1 556 9
 1381 0014 3B68     		ldr	r3, [r7]
 1382 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1383              		.loc 1 556 6
 1384 0018 012B     		cmp	r3, #1
 1385 001a 3AD1     		bne	.L84
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1386              		.loc 1 558 27
 1387 001c FB68     		ldr	r3, [r7, #12]
 1388 001e 03F50063 		add	r3, r3, #2048
 1389 0022 DA69     		ldr	r2, [r3, #28]
 1390              		.loc 1 558 75
 1391 0024 3B68     		ldr	r3, [r7]
 1392 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1393              		.loc 1 558 81
ARM GAS  /tmp/ccaXZQ0T.s 			page 35


 1394 0028 03F00F03 		and	r3, r3, #15
 1395              		.loc 1 558 54
 1396 002c 0121     		movs	r1, #1
 1397 002e 01FA03F3 		lsl	r3, r1, r3
 1398              		.loc 1 558 52
 1399 0032 9BB2     		uxth	r3, r3
 1400              		.loc 1 558 27
 1401 0034 F968     		ldr	r1, [r7, #12]
 1402 0036 01F50061 		add	r1, r1, #2048
 1403 003a 1343     		orrs	r3, r3, r2
 1404 003c CB61     		str	r3, [r1, #28]
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1405              		.loc 1 560 10
 1406 003e BB68     		ldr	r3, [r7, #8]
 1407 0040 5A01     		lsls	r2, r3, #5
 1408 0042 FB68     		ldr	r3, [r7, #12]
 1409 0044 1344     		add	r3, r3, r2
 1410 0046 03F51063 		add	r3, r3, #2304
 1411              		.loc 1 560 26
 1412 004a 1B68     		ldr	r3, [r3]
 1413              		.loc 1 560 36
 1414 004c 03F40043 		and	r3, r3, #32768
 1415              		.loc 1 560 8
 1416 0050 002B     		cmp	r3, #0
 1417 0052 55D1     		bne	.L86
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1418              		.loc 1 562 33
 1419 0054 BB68     		ldr	r3, [r7, #8]
 1420 0056 5A01     		lsls	r2, r3, #5
 1421 0058 FB68     		ldr	r3, [r7, #12]
 1422 005a 1344     		add	r3, r3, r2
 1423 005c 03F51063 		add	r3, r3, #2304
 1424 0060 1A68     		ldr	r2, [r3]
 1425              		.loc 1 562 39
 1426 0062 3B68     		ldr	r3, [r7]
 1427 0064 9B68     		ldr	r3, [r3, #8]
 1428              		.loc 1 562 51
 1429 0066 C3F30A01 		ubfx	r1, r3, #0, #11
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1430              		.loc 1 563 49
 1431 006a 3B68     		ldr	r3, [r7]
 1432 006c DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1433              		.loc 1 563 56
 1434 006e 9B04     		lsls	r3, r3, #18
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1435              		.loc 1 562 76
 1436 0070 1943     		orrs	r1, r1, r3
 1437              		.loc 1 563 72
 1438 0072 BB68     		ldr	r3, [r7, #8]
 1439 0074 9B05     		lsls	r3, r3, #22
 1440              		.loc 1 563 63
 1441 0076 0B43     		orrs	r3, r3, r1
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1442              		.loc 1 562 33
 1443 0078 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/ccaXZQ0T.s 			page 36


 1444 007a BA68     		ldr	r2, [r7, #8]
 1445 007c 5101     		lsls	r1, r2, #5
 1446 007e FA68     		ldr	r2, [r7, #12]
 1447 0080 0A44     		add	r2, r2, r1
 1448 0082 02F51062 		add	r2, r2, #2304
 1449 0086 43F08053 		orr	r3, r3, #268435456
 1450 008a 43F40043 		orr	r3, r3, #32768
 1451 008e 1360     		str	r3, [r2]
 1452 0090 36E0     		b	.L86
 1453              	.L84:
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1454              		.loc 1 570 27
 1455 0092 FB68     		ldr	r3, [r7, #12]
 1456 0094 03F50063 		add	r3, r3, #2048
 1457 0098 DA69     		ldr	r2, [r3, #28]
 1458              		.loc 1 570 76
 1459 009a 3B68     		ldr	r3, [r7]
 1460 009c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1461              		.loc 1 570 82
 1462 009e 03F00F03 		and	r3, r3, #15
 1463              		.loc 1 570 55
 1464 00a2 0121     		movs	r1, #1
 1465 00a4 01FA03F3 		lsl	r3, r1, r3
 1466              		.loc 1 570 52
 1467 00a8 1B04     		lsls	r3, r3, #16
 1468              		.loc 1 570 27
 1469 00aa F968     		ldr	r1, [r7, #12]
 1470 00ac 01F50061 		add	r1, r1, #2048
 1471 00b0 1343     		orrs	r3, r3, r2
 1472 00b2 CB61     		str	r3, [r1, #28]
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1473              		.loc 1 572 11
 1474 00b4 BB68     		ldr	r3, [r7, #8]
 1475 00b6 5A01     		lsls	r2, r3, #5
 1476 00b8 FB68     		ldr	r3, [r7, #12]
 1477 00ba 1344     		add	r3, r3, r2
 1478 00bc 03F53063 		add	r3, r3, #2816
 1479              		.loc 1 572 28
 1480 00c0 1B68     		ldr	r3, [r3]
 1481              		.loc 1 572 39
 1482 00c2 03F40043 		and	r3, r3, #32768
 1483              		.loc 1 572 8
 1484 00c6 002B     		cmp	r3, #0
 1485 00c8 1AD1     		bne	.L86
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1486              		.loc 1 574 34
 1487 00ca BB68     		ldr	r3, [r7, #8]
 1488 00cc 5A01     		lsls	r2, r3, #5
 1489 00ce FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 37


 1490 00d0 1344     		add	r3, r3, r2
 1491 00d2 03F53063 		add	r3, r3, #2816
 1492 00d6 1A68     		ldr	r2, [r3]
 1493              		.loc 1 574 40
 1494 00d8 3B68     		ldr	r3, [r7]
 1495 00da 9B68     		ldr	r3, [r3, #8]
 1496              		.loc 1 574 52
 1497 00dc C3F30A01 		ubfx	r1, r3, #0, #11
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1498              		.loc 1 575 50
 1499 00e0 3B68     		ldr	r3, [r7]
 1500 00e2 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1501              		.loc 1 575 57
 1502 00e4 9B04     		lsls	r3, r3, #18
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1503              		.loc 1 574 77
 1504 00e6 0B43     		orrs	r3, r3, r1
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) |
 1505              		.loc 1 574 34
 1506 00e8 1343     		orrs	r3, r3, r2
 1507 00ea BA68     		ldr	r2, [r7, #8]
 1508 00ec 5101     		lsls	r1, r2, #5
 1509 00ee FA68     		ldr	r2, [r7, #12]
 1510 00f0 0A44     		add	r2, r2, r1
 1511 00f2 02F53062 		add	r2, r2, #2816
 1512 00f6 43F08053 		orr	r3, r3, #268435456
 1513 00fa 43F40043 		orr	r3, r3, #32768
 1514 00fe 1360     		str	r3, [r2]
 1515              	.L86:
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1516              		.loc 1 580 10
 1517 0100 0023     		movs	r3, #0
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1518              		.loc 1 581 1
 1519 0102 1846     		mov	r0, r3
 1520 0104 1437     		adds	r7, r7, #20
 1521              	.LCFI66:
 1522              		.cfi_def_cfa_offset 4
 1523 0106 BD46     		mov	sp, r7
 1524              	.LCFI67:
 1525              		.cfi_def_cfa_register 13
 1526              		@ sp needed
 1527 0108 5DF8047B 		ldr	r7, [sp], #4
 1528              	.LCFI68:
 1529              		.cfi_restore 7
 1530              		.cfi_def_cfa_offset 0
 1531 010c 7047     		bx	lr
 1532              		.cfi_endproc
 1533              	.LFE140:
 1535              		.section	.text.USB_ActivateDedicatedEndpoint,"ax",%progbits
 1536              		.align	1
 1537              		.global	USB_ActivateDedicatedEndpoint
 1538              		.syntax unified
ARM GAS  /tmp/ccaXZQ0T.s 			page 38


 1539              		.thumb
 1540              		.thumb_func
 1541              		.fpu fpv4-sp-d16
 1543              	USB_ActivateDedicatedEndpoint:
 1544              	.LFB141:
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate and configure a dedicated endpoint
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1545              		.loc 1 590 1
 1546              		.cfi_startproc
 1547              		@ args = 0, pretend = 0, frame = 16
 1548              		@ frame_needed = 1, uses_anonymous_args = 0
 1549              		@ link register save eliminated.
 1550 0000 80B4     		push	{r7}
 1551              	.LCFI69:
 1552              		.cfi_def_cfa_offset 4
 1553              		.cfi_offset 7, -4
 1554 0002 85B0     		sub	sp, sp, #20
 1555              	.LCFI70:
 1556              		.cfi_def_cfa_offset 24
 1557 0004 00AF     		add	r7, sp, #0
 1558              	.LCFI71:
 1559              		.cfi_def_cfa_register 7
 1560 0006 7860     		str	r0, [r7, #4]
 1561 0008 3960     		str	r1, [r7]
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1562              		.loc 1 591 12
 1563 000a 7B68     		ldr	r3, [r7, #4]
 1564 000c FB60     		str	r3, [r7, #12]
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1565              		.loc 1 592 32
 1566 000e 3B68     		ldr	r3, [r7]
 1567 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1568              		.loc 1 592 12
 1569 0012 BB60     		str	r3, [r7, #8]
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1570              		.loc 1 595 9
 1571 0014 3B68     		ldr	r3, [r7]
 1572 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1573              		.loc 1 595 6
 1574 0018 012B     		cmp	r3, #1
 1575 001a 3AD1     		bne	.L89
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL) & USB_OTG_DIEPCTL_USBAEP) == 0U)
 1576              		.loc 1 597 11
 1577 001c BB68     		ldr	r3, [r7, #8]
 1578 001e 5A01     		lsls	r2, r3, #5
 1579 0020 FB68     		ldr	r3, [r7, #12]
 1580 0022 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccaXZQ0T.s 			page 39


 1581 0024 03F51063 		add	r3, r3, #2304
 1582              		.loc 1 597 27
 1583 0028 1B68     		ldr	r3, [r3]
 1584              		.loc 1 597 38
 1585 002a 03F40043 		and	r3, r3, #32768
 1586              		.loc 1 597 8
 1587 002e 002B     		cmp	r3, #0
 1588 0030 1DD1     		bne	.L90
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (ep->maxpacket & USB_OTG_DIEPCTL_MPSIZ) |
 1589              		.loc 1 599 33
 1590 0032 BB68     		ldr	r3, [r7, #8]
 1591 0034 5A01     		lsls	r2, r3, #5
 1592 0036 FB68     		ldr	r3, [r7, #12]
 1593 0038 1344     		add	r3, r3, r2
 1594 003a 03F51063 		add	r3, r3, #2304
 1595 003e 1A68     		ldr	r2, [r3]
 1596              		.loc 1 599 39
 1597 0040 3B68     		ldr	r3, [r7]
 1598 0042 9B68     		ldr	r3, [r3, #8]
 1599              		.loc 1 599 51
 1600 0044 C3F30A01 		ubfx	r1, r3, #0, #11
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1601              		.loc 1 600 49
 1602 0048 3B68     		ldr	r3, [r7]
 1603 004a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1604              		.loc 1 600 56
 1605 004c 9B04     		lsls	r3, r3, #18
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1606              		.loc 1 599 76
 1607 004e 1943     		orrs	r1, r1, r3
 1608              		.loc 1 600 72
 1609 0050 BB68     		ldr	r3, [r7, #8]
 1610 0052 9B05     		lsls	r3, r3, #22
 1611              		.loc 1 600 63
 1612 0054 0B43     		orrs	r3, r3, r1
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    ((uint32_t)ep->type << 18) | (epnum << 22) |
 1613              		.loc 1 599 33
 1614 0056 1343     		orrs	r3, r3, r2
 1615 0058 BA68     		ldr	r2, [r7, #8]
 1616 005a 5101     		lsls	r1, r2, #5
 1617 005c FA68     		ldr	r2, [r7, #12]
 1618 005e 0A44     		add	r2, r2, r1
 1619 0060 02F51062 		add	r2, r2, #2304
 1620 0064 43F08053 		orr	r3, r3, #268435456
 1621 0068 43F40043 		orr	r3, r3, #32768
 1622 006c 1360     		str	r3, [r2]
 1623              	.L90:
 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_USBAEP;
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK));
 1624              		.loc 1 605 27
 1625 006e FB68     		ldr	r3, [r7, #12]
 1626 0070 03F50063 		add	r3, r3, #2048
 1627 0074 DA6B     		ldr	r2, [r3, #60]
ARM GAS  /tmp/ccaXZQ0T.s 			page 40


 1628              		.loc 1 605 75
 1629 0076 3B68     		ldr	r3, [r7]
 1630 0078 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1631              		.loc 1 605 81
 1632 007a 03F00F03 		and	r3, r3, #15
 1633              		.loc 1 605 54
 1634 007e 0121     		movs	r1, #1
 1635 0080 01FA03F3 		lsl	r3, r1, r3
 1636              		.loc 1 605 52
 1637 0084 9BB2     		uxth	r3, r3
 1638              		.loc 1 605 27
 1639 0086 F968     		ldr	r1, [r7, #12]
 1640 0088 01F50061 		add	r1, r1, #2048
 1641 008c 1343     		orrs	r3, r3, r2
 1642 008e CB63     		str	r3, [r1, #60]
 1643 0090 37E0     		b	.L91
 1644              	.L89:
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL) & USB_OTG_DOEPCTL_USBAEP) == 0U)
 1645              		.loc 1 609 11
 1646 0092 BB68     		ldr	r3, [r7, #8]
 1647 0094 5A01     		lsls	r2, r3, #5
 1648 0096 FB68     		ldr	r3, [r7, #12]
 1649 0098 1344     		add	r3, r3, r2
 1650 009a 03F53063 		add	r3, r3, #2816
 1651              		.loc 1 609 28
 1652 009e 1B68     		ldr	r3, [r3]
 1653              		.loc 1 609 39
 1654 00a0 03F40043 		and	r3, r3, #32768
 1655              		.loc 1 609 8
 1656 00a4 002B     		cmp	r3, #0
 1657 00a6 1BD1     		bne	.L92
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= (ep->maxpacket & USB_OTG_DOEPCTL_MPSIZ) |
 1658              		.loc 1 611 34
 1659 00a8 BB68     		ldr	r3, [r7, #8]
 1660 00aa 5A01     		lsls	r2, r3, #5
 1661 00ac FB68     		ldr	r3, [r7, #12]
 1662 00ae 1344     		add	r3, r3, r2
 1663 00b0 03F53063 		add	r3, r3, #2816
 1664 00b4 1A68     		ldr	r2, [r3]
 1665              		.loc 1 611 40
 1666 00b6 3B68     		ldr	r3, [r7]
 1667 00b8 9B68     		ldr	r3, [r3, #8]
 1668              		.loc 1 611 52
 1669 00ba C3F30A01 		ubfx	r1, r3, #0, #11
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1670              		.loc 1 612 50
 1671 00be 3B68     		ldr	r3, [r7]
 1672 00c0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1673              		.loc 1 612 57
 1674 00c2 9B04     		lsls	r3, r3, #18
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1675              		.loc 1 611 77
 1676 00c4 1943     		orrs	r1, r1, r3
ARM GAS  /tmp/ccaXZQ0T.s 			page 41


 1677              		.loc 1 612 73
 1678 00c6 BB68     		ldr	r3, [r7, #8]
 1679 00c8 9B05     		lsls	r3, r3, #22
 1680              		.loc 1 612 64
 1681 00ca 0B43     		orrs	r3, r3, r1
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     ((uint32_t)ep->type << 18) | (epnum << 22) |
 1682              		.loc 1 611 34
 1683 00cc 1343     		orrs	r3, r3, r2
 1684 00ce BA68     		ldr	r2, [r7, #8]
 1685 00d0 5101     		lsls	r1, r2, #5
 1686 00d2 FA68     		ldr	r2, [r7, #12]
 1687 00d4 0A44     		add	r2, r2, r1
 1688 00d6 02F53062 		add	r2, r2, #2816
 1689 00da 43F40043 		orr	r3, r3, #32768
 1690 00de 1360     		str	r3, [r2]
 1691              	.L92:
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_USBAEP;
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK |= USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) <<
 1692              		.loc 1 616 27
 1693 00e0 FB68     		ldr	r3, [r7, #12]
 1694 00e2 03F50063 		add	r3, r3, #2048
 1695 00e6 DA6B     		ldr	r2, [r3, #60]
 1696              		.loc 1 616 76
 1697 00e8 3B68     		ldr	r3, [r7]
 1698 00ea 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1699              		.loc 1 616 82
 1700 00ec 03F00F03 		and	r3, r3, #15
 1701              		.loc 1 616 55
 1702 00f0 0121     		movs	r1, #1
 1703 00f2 01FA03F3 		lsl	r3, r1, r3
 1704              		.loc 1 616 52
 1705 00f6 1B04     		lsls	r3, r3, #16
 1706              		.loc 1 616 27
 1707 00f8 F968     		ldr	r1, [r7, #12]
 1708 00fa 01F50061 		add	r1, r1, #2048
 1709 00fe 1343     		orrs	r3, r3, r2
 1710 0100 CB63     		str	r3, [r1, #60]
 1711              	.L91:
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1712              		.loc 1 619 10
 1713 0102 0023     		movs	r3, #0
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1714              		.loc 1 620 1
 1715 0104 1846     		mov	r0, r3
 1716 0106 1437     		adds	r7, r7, #20
 1717              	.LCFI72:
 1718              		.cfi_def_cfa_offset 4
 1719 0108 BD46     		mov	sp, r7
 1720              	.LCFI73:
 1721              		.cfi_def_cfa_register 13
 1722              		@ sp needed
 1723 010a 5DF8047B 		ldr	r7, [sp], #4
 1724              	.LCFI74:
ARM GAS  /tmp/ccaXZQ0T.s 			page 42


 1725              		.cfi_restore 7
 1726              		.cfi_def_cfa_offset 0
 1727 010e 7047     		bx	lr
 1728              		.cfi_endproc
 1729              	.LFE141:
 1731              		.section	.text.USB_DeactivateEndpoint,"ax",%progbits
 1732              		.align	1
 1733              		.global	USB_DeactivateEndpoint
 1734              		.syntax unified
 1735              		.thumb
 1736              		.thumb_func
 1737              		.fpu fpv4-sp-d16
 1739              	USB_DeactivateEndpoint:
 1740              	.LFB142:
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize an endpoint
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 1741              		.loc 1 629 1
 1742              		.cfi_startproc
 1743              		@ args = 0, pretend = 0, frame = 16
 1744              		@ frame_needed = 1, uses_anonymous_args = 0
 1745              		@ link register save eliminated.
 1746 0000 80B4     		push	{r7}
 1747              	.LCFI75:
 1748              		.cfi_def_cfa_offset 4
 1749              		.cfi_offset 7, -4
 1750 0002 85B0     		sub	sp, sp, #20
 1751              	.LCFI76:
 1752              		.cfi_def_cfa_offset 24
 1753 0004 00AF     		add	r7, sp, #0
 1754              	.LCFI77:
 1755              		.cfi_def_cfa_register 7
 1756 0006 7860     		str	r0, [r7, #4]
 1757 0008 3960     		str	r1, [r7]
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 1758              		.loc 1 630 12
 1759 000a 7B68     		ldr	r3, [r7, #4]
 1760 000c FB60     		str	r3, [r7, #12]
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 1761              		.loc 1 631 32
 1762 000e 3B68     		ldr	r3, [r7]
 1763 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1764              		.loc 1 631 12
 1765 0012 BB60     		str	r3, [r7, #8]
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 1766              		.loc 1 634 9
 1767 0014 3B68     		ldr	r3, [r7]
 1768 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1769              		.loc 1 634 6
ARM GAS  /tmp/ccaXZQ0T.s 			page 43


 1770 0018 012B     		cmp	r3, #1
 1771 001a 61D1     		bne	.L95
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 1772              		.loc 1 636 10
 1773 001c BB68     		ldr	r3, [r7, #8]
 1774 001e 5A01     		lsls	r2, r3, #5
 1775 0020 FB68     		ldr	r3, [r7, #12]
 1776 0022 1344     		add	r3, r3, r2
 1777 0024 03F51063 		add	r3, r3, #2304
 1778              		.loc 1 636 26
 1779 0028 1B68     		ldr	r3, [r3]
 1780              		.loc 1 636 36
 1781 002a 03F00043 		and	r3, r3, #-2147483648
 1782              		.loc 1 636 8
 1783 002e B3F1004F 		cmp	r3, #-2147483648
 1784 0032 1FD1     		bne	.L96
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SNAK;
 1785              		.loc 1 638 33
 1786 0034 BB68     		ldr	r3, [r7, #8]
 1787 0036 5A01     		lsls	r2, r3, #5
 1788 0038 FB68     		ldr	r3, [r7, #12]
 1789 003a 1344     		add	r3, r3, r2
 1790 003c 03F51063 		add	r3, r3, #2304
 1791 0040 1B68     		ldr	r3, [r3]
 1792 0042 BA68     		ldr	r2, [r7, #8]
 1793 0044 5101     		lsls	r1, r2, #5
 1794 0046 FA68     		ldr	r2, [r7, #12]
 1795 0048 0A44     		add	r2, r2, r1
 1796 004a 02F51062 		add	r2, r2, #2304
 1797 004e 43F00063 		orr	r3, r3, #134217728
 1798 0052 1360     		str	r3, [r2]
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_EPDIS;
 1799              		.loc 1 639 33
 1800 0054 BB68     		ldr	r3, [r7, #8]
 1801 0056 5A01     		lsls	r2, r3, #5
 1802 0058 FB68     		ldr	r3, [r7, #12]
 1803 005a 1344     		add	r3, r3, r2
 1804 005c 03F51063 		add	r3, r3, #2304
 1805 0060 1B68     		ldr	r3, [r3]
 1806 0062 BA68     		ldr	r2, [r7, #8]
 1807 0064 5101     		lsls	r1, r2, #5
 1808 0066 FA68     		ldr	r2, [r7, #12]
 1809 0068 0A44     		add	r2, r2, r1
 1810 006a 02F51062 		add	r2, r2, #2304
 1811 006e 43F08043 		orr	r3, r3, #1073741824
 1812 0072 1360     		str	r3, [r2]
 1813              	.L96:
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1814              		.loc 1 642 27
 1815 0074 FB68     		ldr	r3, [r7, #12]
 1816 0076 03F50063 		add	r3, r3, #2048
 1817 007a DA6B     		ldr	r2, [r3, #60]
 1818              		.loc 1 642 77
ARM GAS  /tmp/ccaXZQ0T.s 			page 44


 1819 007c 3B68     		ldr	r3, [r7]
 1820 007e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1821              		.loc 1 642 83
 1822 0080 03F00F03 		and	r3, r3, #15
 1823              		.loc 1 642 56
 1824 0084 0121     		movs	r1, #1
 1825 0086 01FA03F3 		lsl	r3, r1, r3
 1826              		.loc 1 642 54
 1827 008a 9BB2     		uxth	r3, r3
 1828              		.loc 1 642 30
 1829 008c DB43     		mvns	r3, r3
 1830              		.loc 1 642 27
 1831 008e F968     		ldr	r1, [r7, #12]
 1832 0090 01F50061 		add	r1, r1, #2048
 1833 0094 1340     		ands	r3, r3, r2
 1834 0096 CB63     		str	r3, [r1, #60]
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 1835              		.loc 1 643 27
 1836 0098 FB68     		ldr	r3, [r7, #12]
 1837 009a 03F50063 		add	r3, r3, #2048
 1838 009e DA69     		ldr	r2, [r3, #28]
 1839              		.loc 1 643 77
 1840 00a0 3B68     		ldr	r3, [r7]
 1841 00a2 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1842              		.loc 1 643 83
 1843 00a4 03F00F03 		and	r3, r3, #15
 1844              		.loc 1 643 56
 1845 00a8 0121     		movs	r1, #1
 1846 00aa 01FA03F3 		lsl	r3, r1, r3
 1847              		.loc 1 643 54
 1848 00ae 9BB2     		uxth	r3, r3
 1849              		.loc 1 643 30
 1850 00b0 DB43     		mvns	r3, r3
 1851              		.loc 1 643 27
 1852 00b2 F968     		ldr	r1, [r7, #12]
 1853 00b4 01F50061 		add	r1, r1, #2048
 1854 00b8 1340     		ands	r3, r3, r2
 1855 00ba CB61     		str	r3, [r1, #28]
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_USBAEP |
 1856              		.loc 1 644 31
 1857 00bc BB68     		ldr	r3, [r7, #8]
 1858 00be 5A01     		lsls	r2, r3, #5
 1859 00c0 FB68     		ldr	r3, [r7, #12]
 1860 00c2 1344     		add	r3, r3, r2
 1861 00c4 03F51063 		add	r3, r3, #2304
 1862 00c8 1A68     		ldr	r2, [r3]
 1863 00ca BB68     		ldr	r3, [r7, #8]
 1864 00cc 5901     		lsls	r1, r3, #5
 1865 00ce FB68     		ldr	r3, [r7, #12]
 1866 00d0 0B44     		add	r3, r3, r1
 1867 00d2 03F51063 		add	r3, r3, #2304
 1868 00d6 1946     		mov	r1, r3
 1869 00d8 354B     		ldr	r3, .L100
 1870 00da 1340     		ands	r3, r3, r2
 1871 00dc 0B60     		str	r3, [r1]
 1872 00de 60E0     		b	.L97
 1873              	.L95:
ARM GAS  /tmp/ccaXZQ0T.s 			page 45


 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_MPSIZ |
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_TXFNUM |
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_SD0PID_SEVNFRM |
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                    USB_OTG_DIEPCTL_EPTYP);
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 1874              		.loc 1 652 10
 1875 00e0 BB68     		ldr	r3, [r7, #8]
 1876 00e2 5A01     		lsls	r2, r3, #5
 1877 00e4 FB68     		ldr	r3, [r7, #12]
 1878 00e6 1344     		add	r3, r3, r2
 1879 00e8 03F53063 		add	r3, r3, #2816
 1880              		.loc 1 652 27
 1881 00ec 1B68     		ldr	r3, [r3]
 1882              		.loc 1 652 37
 1883 00ee 03F00043 		and	r3, r3, #-2147483648
 1884              		.loc 1 652 8
 1885 00f2 B3F1004F 		cmp	r3, #-2147483648
 1886 00f6 1FD1     		bne	.L98
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SNAK;
 1887              		.loc 1 654 34
 1888 00f8 BB68     		ldr	r3, [r7, #8]
 1889 00fa 5A01     		lsls	r2, r3, #5
 1890 00fc FB68     		ldr	r3, [r7, #12]
 1891 00fe 1344     		add	r3, r3, r2
 1892 0100 03F53063 		add	r3, r3, #2816
 1893 0104 1B68     		ldr	r3, [r3]
 1894 0106 BA68     		ldr	r2, [r7, #8]
 1895 0108 5101     		lsls	r1, r2, #5
 1896 010a FA68     		ldr	r2, [r7, #12]
 1897 010c 0A44     		add	r2, r2, r1
 1898 010e 02F53062 		add	r2, r2, #2816
 1899 0112 43F00063 		orr	r3, r3, #134217728
 1900 0116 1360     		str	r3, [r2]
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_EPDIS;
 1901              		.loc 1 655 34
 1902 0118 BB68     		ldr	r3, [r7, #8]
 1903 011a 5A01     		lsls	r2, r3, #5
 1904 011c FB68     		ldr	r3, [r7, #12]
 1905 011e 1344     		add	r3, r3, r2
 1906 0120 03F53063 		add	r3, r3, #2816
 1907 0124 1B68     		ldr	r3, [r3]
 1908 0126 BA68     		ldr	r2, [r7, #8]
 1909 0128 5101     		lsls	r1, r2, #5
 1910 012a FA68     		ldr	r2, [r7, #12]
 1911 012c 0A44     		add	r2, r2, r1
 1912 012e 02F53062 		add	r2, r2, #2816
 1913 0132 43F08043 		orr	r3, r3, #1073741824
 1914 0136 1360     		str	r3, [r2]
 1915              	.L98:
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DEACHMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1916              		.loc 1 658 27
ARM GAS  /tmp/ccaXZQ0T.s 			page 46


 1917 0138 FB68     		ldr	r3, [r7, #12]
 1918 013a 03F50063 		add	r3, r3, #2048
 1919 013e DA6B     		ldr	r2, [r3, #60]
 1920              		.loc 1 658 78
 1921 0140 3B68     		ldr	r3, [r7]
 1922 0142 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1923              		.loc 1 658 84
 1924 0144 03F00F03 		and	r3, r3, #15
 1925              		.loc 1 658 57
 1926 0148 0121     		movs	r1, #1
 1927 014a 01FA03F3 		lsl	r3, r1, r3
 1928              		.loc 1 658 54
 1929 014e 1B04     		lsls	r3, r3, #16
 1930              		.loc 1 658 30
 1931 0150 DB43     		mvns	r3, r3
 1932              		.loc 1 658 27
 1933 0152 F968     		ldr	r1, [r7, #12]
 1934 0154 01F50061 		add	r1, r1, #2048
 1935 0158 1340     		ands	r3, r3, r2
 1936 015a CB63     		str	r3, [r1, #60]
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 1937              		.loc 1 659 27
 1938 015c FB68     		ldr	r3, [r7, #12]
 1939 015e 03F50063 		add	r3, r3, #2048
 1940 0162 DA69     		ldr	r2, [r3, #28]
 1941              		.loc 1 659 78
 1942 0164 3B68     		ldr	r3, [r7]
 1943 0166 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1944              		.loc 1 659 84
 1945 0168 03F00F03 		and	r3, r3, #15
 1946              		.loc 1 659 57
 1947 016c 0121     		movs	r1, #1
 1948 016e 01FA03F3 		lsl	r3, r1, r3
 1949              		.loc 1 659 54
 1950 0172 1B04     		lsls	r3, r3, #16
 1951              		.loc 1 659 30
 1952 0174 DB43     		mvns	r3, r3
 1953              		.loc 1 659 27
 1954 0176 F968     		ldr	r1, [r7, #12]
 1955 0178 01F50061 		add	r1, r1, #2048
 1956 017c 1340     		ands	r3, r3, r2
 1957 017e CB61     		str	r3, [r1, #28]
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_USBAEP |
 1958              		.loc 1 660 32
 1959 0180 BB68     		ldr	r3, [r7, #8]
 1960 0182 5A01     		lsls	r2, r3, #5
 1961 0184 FB68     		ldr	r3, [r7, #12]
 1962 0186 1344     		add	r3, r3, r2
 1963 0188 03F53063 		add	r3, r3, #2816
 1964 018c 1A68     		ldr	r2, [r3]
 1965 018e BB68     		ldr	r3, [r7, #8]
 1966 0190 5901     		lsls	r1, r3, #5
 1967 0192 FB68     		ldr	r3, [r7, #12]
 1968 0194 0B44     		add	r3, r3, r1
 1969 0196 03F53063 		add	r3, r3, #2816
 1970 019a 1946     		mov	r1, r3
 1971 019c 054B     		ldr	r3, .L100+4
ARM GAS  /tmp/ccaXZQ0T.s 			page 47


 1972 019e 1340     		ands	r3, r3, r2
 1973 01a0 0B60     		str	r3, [r1]
 1974              	.L97:
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_MPSIZ |
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_SD0PID_SEVNFRM |
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                     USB_OTG_DOEPCTL_EPTYP);
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 1975              		.loc 1 666 10
 1976 01a2 0023     		movs	r3, #0
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 1977              		.loc 1 667 1
 1978 01a4 1846     		mov	r0, r3
 1979 01a6 1437     		adds	r7, r7, #20
 1980              	.LCFI78:
 1981              		.cfi_def_cfa_offset 4
 1982 01a8 BD46     		mov	sp, r7
 1983              	.LCFI79:
 1984              		.cfi_def_cfa_register 13
 1985              		@ sp needed
 1986 01aa 5DF8047B 		ldr	r7, [sp], #4
 1987              	.LCFI80:
 1988              		.cfi_restore 7
 1989              		.cfi_def_cfa_offset 0
 1990 01ae 7047     		bx	lr
 1991              	.L101:
 1992              		.align	2
 1993              	.L100:
 1994 01b0 007833EC 		.word	-332171264
 1995 01b4 0078F3EF 		.word	-269256704
 1996              		.cfi_endproc
 1997              	.LFE142:
 1999              		.section	.text.USB_DeactivateDedicatedEndpoint,"ax",%progbits
 2000              		.align	1
 2001              		.global	USB_DeactivateDedicatedEndpoint
 2002              		.syntax unified
 2003              		.thumb
 2004              		.thumb_func
 2005              		.fpu fpv4-sp-d16
 2007              	USB_DeactivateDedicatedEndpoint:
 2008              	.LFB143:
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  De-activate and de-initialize a dedicated endpoint
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeactivateDedicatedEndpoint(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *e
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2009              		.loc 1 676 1
 2010              		.cfi_startproc
 2011              		@ args = 0, pretend = 0, frame = 16
 2012              		@ frame_needed = 1, uses_anonymous_args = 0
 2013              		@ link register save eliminated.
 2014 0000 80B4     		push	{r7}
ARM GAS  /tmp/ccaXZQ0T.s 			page 48


 2015              	.LCFI81:
 2016              		.cfi_def_cfa_offset 4
 2017              		.cfi_offset 7, -4
 2018 0002 85B0     		sub	sp, sp, #20
 2019              	.LCFI82:
 2020              		.cfi_def_cfa_offset 24
 2021 0004 00AF     		add	r7, sp, #0
 2022              	.LCFI83:
 2023              		.cfi_def_cfa_register 7
 2024 0006 7860     		str	r0, [r7, #4]
 2025 0008 3960     		str	r1, [r7]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2026              		.loc 1 677 12
 2027 000a 7B68     		ldr	r3, [r7, #4]
 2028 000c FB60     		str	r3, [r7, #12]
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2029              		.loc 1 678 32
 2030 000e 3B68     		ldr	r3, [r7]
 2031 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2032              		.loc 1 678 12
 2033 0012 BB60     		str	r3, [r7, #8]
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Read DEPCTLn register */
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2034              		.loc 1 681 9
 2035 0014 3B68     		ldr	r3, [r7]
 2036 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2037              		.loc 1 681 6
 2038 0018 012B     		cmp	r3, #1
 2039 001a 4ED1     		bne	.L103
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == USB_OTG_DIEPCTL_EPENA)
 2040              		.loc 1 683 10
 2041 001c BB68     		ldr	r3, [r7, #8]
 2042 001e 5A01     		lsls	r2, r3, #5
 2043 0020 FB68     		ldr	r3, [r7, #12]
 2044 0022 1344     		add	r3, r3, r2
 2045 0024 03F51063 		add	r3, r3, #2304
 2046              		.loc 1 683 26
 2047 0028 1B68     		ldr	r3, [r3]
 2048              		.loc 1 683 36
 2049 002a 03F00043 		and	r3, r3, #-2147483648
 2050              		.loc 1 683 8
 2051 002e B3F1004F 		cmp	r3, #-2147483648
 2052 0032 1FD1     		bne	.L104
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_SNAK;
 2053              		.loc 1 685 34
 2054 0034 BB68     		ldr	r3, [r7, #8]
 2055 0036 5A01     		lsls	r2, r3, #5
 2056 0038 FB68     		ldr	r3, [r7, #12]
 2057 003a 1344     		add	r3, r3, r2
 2058 003c 03F51063 		add	r3, r3, #2304
 2059 0040 1B68     		ldr	r3, [r3]
 2060 0042 BA68     		ldr	r2, [r7, #8]
 2061 0044 5101     		lsls	r1, r2, #5
 2062 0046 FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 49


 2063 0048 0A44     		add	r2, r2, r1
 2064 004a 02F51062 		add	r2, r2, #2304
 2065 004e 43F00063 		orr	r3, r3, #134217728
 2066 0052 1360     		str	r3, [r2]
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL  |= USB_OTG_DIEPCTL_EPDIS;
 2067              		.loc 1 686 34
 2068 0054 BB68     		ldr	r3, [r7, #8]
 2069 0056 5A01     		lsls	r2, r3, #5
 2070 0058 FB68     		ldr	r3, [r7, #12]
 2071 005a 1344     		add	r3, r3, r2
 2072 005c 03F51063 		add	r3, r3, #2304
 2073 0060 1B68     		ldr	r3, [r3]
 2074 0062 BA68     		ldr	r2, [r7, #8]
 2075 0064 5101     		lsls	r1, r2, #5
 2076 0066 FA68     		ldr	r2, [r7, #12]
 2077 0068 0A44     		add	r2, r2, r1
 2078 006a 02F51062 		add	r2, r2, #2304
 2079 006e 43F08043 		orr	r3, r3, #1073741824
 2080 0072 1360     		str	r3, [r2]
 2081              	.L104:
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~ USB_OTG_DIEPCTL_USBAEP;
 2082              		.loc 1 689 31
 2083 0074 BB68     		ldr	r3, [r7, #8]
 2084 0076 5A01     		lsls	r2, r3, #5
 2085 0078 FB68     		ldr	r3, [r7, #12]
 2086 007a 1344     		add	r3, r3, r2
 2087 007c 03F51063 		add	r3, r3, #2304
 2088 0080 1B68     		ldr	r3, [r3]
 2089 0082 BA68     		ldr	r2, [r7, #8]
 2090 0084 5101     		lsls	r1, r2, #5
 2091 0086 FA68     		ldr	r2, [r7, #12]
 2092 0088 0A44     		add	r2, r2, r1
 2093 008a 02F51062 		add	r2, r2, #2304
 2094 008e 23F40043 		bic	r3, r3, #32768
 2095 0092 1360     		str	r3, [r2]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_IEPM & (uint32_t)(1UL << (ep->num & EP_ADDR_MSK)));
 2096              		.loc 1 690 27
 2097 0094 FB68     		ldr	r3, [r7, #12]
 2098 0096 03F50063 		add	r3, r3, #2048
 2099 009a DA69     		ldr	r2, [r3, #28]
 2100              		.loc 1 690 77
 2101 009c 3B68     		ldr	r3, [r7]
 2102 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2103              		.loc 1 690 83
 2104 00a0 03F00F03 		and	r3, r3, #15
 2105              		.loc 1 690 56
 2106 00a4 0121     		movs	r1, #1
 2107 00a6 01FA03F3 		lsl	r3, r1, r3
 2108              		.loc 1 690 54
 2109 00aa 9BB2     		uxth	r3, r3
 2110              		.loc 1 690 30
 2111 00ac DB43     		mvns	r3, r3
 2112              		.loc 1 690 27
 2113 00ae F968     		ldr	r1, [r7, #12]
 2114 00b0 01F50061 		add	r1, r1, #2048
ARM GAS  /tmp/ccaXZQ0T.s 			page 50


 2115 00b4 1340     		ands	r3, r3, r2
 2116 00b6 CB61     		str	r3, [r1, #28]
 2117 00b8 4DE0     		b	.L105
 2118              	.L103:
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 2119              		.loc 1 694 10
 2120 00ba BB68     		ldr	r3, [r7, #8]
 2121 00bc 5A01     		lsls	r2, r3, #5
 2122 00be FB68     		ldr	r3, [r7, #12]
 2123 00c0 1344     		add	r3, r3, r2
 2124 00c2 03F53063 		add	r3, r3, #2816
 2125              		.loc 1 694 27
 2126 00c6 1B68     		ldr	r3, [r3]
 2127              		.loc 1 694 37
 2128 00c8 03F00043 		and	r3, r3, #-2147483648
 2129              		.loc 1 694 8
 2130 00cc B3F1004F 		cmp	r3, #-2147483648
 2131 00d0 1FD1     		bne	.L106
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_SNAK;
 2132              		.loc 1 696 35
 2133 00d2 BB68     		ldr	r3, [r7, #8]
 2134 00d4 5A01     		lsls	r2, r3, #5
 2135 00d6 FB68     		ldr	r3, [r7, #12]
 2136 00d8 1344     		add	r3, r3, r2
 2137 00da 03F53063 		add	r3, r3, #2816
 2138 00de 1B68     		ldr	r3, [r3]
 2139 00e0 BA68     		ldr	r2, [r7, #8]
 2140 00e2 5101     		lsls	r1, r2, #5
 2141 00e4 FA68     		ldr	r2, [r7, #12]
 2142 00e6 0A44     		add	r2, r2, r1
 2143 00e8 02F53062 		add	r2, r2, #2816
 2144 00ec 43F00063 		orr	r3, r3, #134217728
 2145 00f0 1360     		str	r3, [r2]
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL  |= USB_OTG_DOEPCTL_EPDIS;
 2146              		.loc 1 697 35
 2147 00f2 BB68     		ldr	r3, [r7, #8]
 2148 00f4 5A01     		lsls	r2, r3, #5
 2149 00f6 FB68     		ldr	r3, [r7, #12]
 2150 00f8 1344     		add	r3, r3, r2
 2151 00fa 03F53063 		add	r3, r3, #2816
 2152 00fe 1B68     		ldr	r3, [r3]
 2153 0100 BA68     		ldr	r2, [r7, #8]
 2154 0102 5101     		lsls	r1, r2, #5
 2155 0104 FA68     		ldr	r2, [r7, #12]
 2156 0106 0A44     		add	r2, r2, r1
 2157 0108 02F53062 		add	r2, r2, #2816
 2158 010c 43F08043 		orr	r3, r3, #1073741824
 2159 0110 1360     		str	r3, [r2]
 2160              	.L106:
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_USBAEP;
 2161              		.loc 1 700 32
ARM GAS  /tmp/ccaXZQ0T.s 			page 51


 2162 0112 BB68     		ldr	r3, [r7, #8]
 2163 0114 5A01     		lsls	r2, r3, #5
 2164 0116 FB68     		ldr	r3, [r7, #12]
 2165 0118 1344     		add	r3, r3, r2
 2166 011a 03F53063 		add	r3, r3, #2816
 2167 011e 1B68     		ldr	r3, [r3]
 2168 0120 BA68     		ldr	r2, [r7, #8]
 2169 0122 5101     		lsls	r1, r2, #5
 2170 0124 FA68     		ldr	r2, [r7, #12]
 2171 0126 0A44     		add	r2, r2, r1
 2172 0128 02F53062 		add	r2, r2, #2816
 2173 012c 23F40043 		bic	r3, r3, #32768
 2174 0130 1360     		str	r3, [r2]
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DAINTMSK &= ~(USB_OTG_DAINTMSK_OEPM & ((uint32_t)(1UL << (ep->num & EP_ADDR_MSK)) 
 2175              		.loc 1 701 27
 2176 0132 FB68     		ldr	r3, [r7, #12]
 2177 0134 03F50063 		add	r3, r3, #2048
 2178 0138 DA69     		ldr	r2, [r3, #28]
 2179              		.loc 1 701 78
 2180 013a 3B68     		ldr	r3, [r7]
 2181 013c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2182              		.loc 1 701 84
 2183 013e 03F00F03 		and	r3, r3, #15
 2184              		.loc 1 701 57
 2185 0142 0121     		movs	r1, #1
 2186 0144 01FA03F3 		lsl	r3, r1, r3
 2187              		.loc 1 701 54
 2188 0148 1B04     		lsls	r3, r3, #16
 2189              		.loc 1 701 30
 2190 014a DB43     		mvns	r3, r3
 2191              		.loc 1 701 27
 2192 014c F968     		ldr	r1, [r7, #12]
 2193 014e 01F50061 		add	r1, r1, #2048
 2194 0152 1340     		ands	r3, r3, r2
 2195 0154 CB61     		str	r3, [r1, #28]
 2196              	.L105:
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2197              		.loc 1 704 10
 2198 0156 0023     		movs	r3, #0
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2199              		.loc 1 705 1
 2200 0158 1846     		mov	r0, r3
 2201 015a 1437     		adds	r7, r7, #20
 2202              	.LCFI84:
 2203              		.cfi_def_cfa_offset 4
 2204 015c BD46     		mov	sp, r7
 2205              	.LCFI85:
 2206              		.cfi_def_cfa_register 13
 2207              		@ sp needed
 2208 015e 5DF8047B 		ldr	r7, [sp], #4
 2209              	.LCFI86:
 2210              		.cfi_restore 7
 2211              		.cfi_def_cfa_offset 0
 2212 0162 7047     		bx	lr
 2213              		.cfi_endproc
ARM GAS  /tmp/ccaXZQ0T.s 			page 52


 2214              	.LFE143:
 2216              		.section	.text.USB_EPStartXfer,"ax",%progbits
 2217              		.align	1
 2218              		.global	USB_EPStartXfer
 2219              		.syntax unified
 2220              		.thumb
 2221              		.thumb_func
 2222              		.fpu fpv4-sp-d16
 2224              	USB_EPStartXfer:
 2225              	.LFB144:
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPStartXfer : setup and starts a transfer over an EP
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPStartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2226              		.loc 1 718 1
 2227              		.cfi_startproc
 2228              		@ args = 0, pretend = 0, frame = 32
 2229              		@ frame_needed = 1, uses_anonymous_args = 0
 2230 0000 80B5     		push	{r7, lr}
 2231              	.LCFI87:
 2232              		.cfi_def_cfa_offset 8
 2233              		.cfi_offset 7, -8
 2234              		.cfi_offset 14, -4
 2235 0002 8AB0     		sub	sp, sp, #40
 2236              	.LCFI88:
 2237              		.cfi_def_cfa_offset 48
 2238 0004 02AF     		add	r7, sp, #8
 2239              	.LCFI89:
 2240              		.cfi_def_cfa 7, 40
 2241 0006 F860     		str	r0, [r7, #12]
 2242 0008 B960     		str	r1, [r7, #8]
 2243 000a 1346     		mov	r3, r2
 2244 000c FB71     		strb	r3, [r7, #7]
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2245              		.loc 1 719 12
 2246 000e FB68     		ldr	r3, [r7, #12]
 2247 0010 FB61     		str	r3, [r7, #28]
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2248              		.loc 1 720 32
 2249 0012 BB68     		ldr	r3, [r7, #8]
 2250 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2251              		.loc 1 720 12
 2252 0016 BB61     		str	r3, [r7, #24]
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t pktcnt;
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2253              		.loc 1 724 9
ARM GAS  /tmp/ccaXZQ0T.s 			page 53


 2254 0018 BB68     		ldr	r3, [r7, #8]
 2255 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2256              		.loc 1 724 6
 2257 001c 012B     		cmp	r3, #1
 2258 001e 40F05C81 		bne	.L109
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2259              		.loc 1 727 11
 2260 0022 BB68     		ldr	r3, [r7, #8]
 2261 0024 5B69     		ldr	r3, [r3, #20]
 2262              		.loc 1 727 8
 2263 0026 002B     		cmp	r3, #0
 2264 0028 32D1     		bne	.L110
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2265              		.loc 1 729 34
 2266 002a BB69     		ldr	r3, [r7, #24]
 2267 002c 5A01     		lsls	r2, r3, #5
 2268 002e FB69     		ldr	r3, [r7, #28]
 2269 0030 1344     		add	r3, r3, r2
 2270 0032 03F51063 		add	r3, r3, #2304
 2271 0036 1B69     		ldr	r3, [r3, #16]
 2272 0038 BA69     		ldr	r2, [r7, #24]
 2273 003a 5101     		lsls	r1, r2, #5
 2274 003c FA69     		ldr	r2, [r7, #28]
 2275 003e 0A44     		add	r2, r2, r1
 2276 0040 02F51062 		add	r2, r2, #2304
 2277 0044 23F0FF53 		bic	r3, r3, #534773760
 2278 0048 23F4C013 		bic	r3, r3, #1572864
 2279 004c 1361     		str	r3, [r2, #16]
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2280              		.loc 1 730 34
 2281 004e BB69     		ldr	r3, [r7, #24]
 2282 0050 5A01     		lsls	r2, r3, #5
 2283 0052 FB69     		ldr	r3, [r7, #28]
 2284 0054 1344     		add	r3, r3, r2
 2285 0056 03F51063 		add	r3, r3, #2304
 2286 005a 1B69     		ldr	r3, [r3, #16]
 2287 005c BA69     		ldr	r2, [r7, #24]
 2288 005e 5101     		lsls	r1, r2, #5
 2289 0060 FA69     		ldr	r2, [r7, #28]
 2290 0062 0A44     		add	r2, r2, r1
 2291 0064 02F51062 		add	r2, r2, #2304
 2292 0068 43F40023 		orr	r3, r3, #524288
 2293 006c 1361     		str	r3, [r2, #16]
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2294              		.loc 1 731 34
 2295 006e BB69     		ldr	r3, [r7, #24]
 2296 0070 5A01     		lsls	r2, r3, #5
 2297 0072 FB69     		ldr	r3, [r7, #28]
 2298 0074 1344     		add	r3, r3, r2
 2299 0076 03F51063 		add	r3, r3, #2304
 2300 007a 1B69     		ldr	r3, [r3, #16]
 2301 007c BA69     		ldr	r2, [r7, #24]
 2302 007e 5101     		lsls	r1, r2, #5
 2303 0080 FA69     		ldr	r2, [r7, #28]
ARM GAS  /tmp/ccaXZQ0T.s 			page 54


 2304 0082 0A44     		add	r2, r2, r1
 2305 0084 02F51062 		add	r2, r2, #2304
 2306 0088 DB0C     		lsrs	r3, r3, #19
 2307 008a DB04     		lsls	r3, r3, #19
 2308 008c 1361     		str	r3, [r2, #16]
 2309 008e 74E0     		b	.L111
 2310              	.L110:
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2311              		.loc 1 740 34
 2312 0090 BB69     		ldr	r3, [r7, #24]
 2313 0092 5A01     		lsls	r2, r3, #5
 2314 0094 FB69     		ldr	r3, [r7, #28]
 2315 0096 1344     		add	r3, r3, r2
 2316 0098 03F51063 		add	r3, r3, #2304
 2317 009c 1B69     		ldr	r3, [r3, #16]
 2318 009e BA69     		ldr	r2, [r7, #24]
 2319 00a0 5101     		lsls	r1, r2, #5
 2320 00a2 FA69     		ldr	r2, [r7, #28]
 2321 00a4 0A44     		add	r2, r2, r1
 2322 00a6 02F51062 		add	r2, r2, #2304
 2323 00aa DB0C     		lsrs	r3, r3, #19
 2324 00ac DB04     		lsls	r3, r3, #19
 2325 00ae 1361     		str	r3, [r2, #16]
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2326              		.loc 1 741 34
 2327 00b0 BB69     		ldr	r3, [r7, #24]
 2328 00b2 5A01     		lsls	r2, r3, #5
 2329 00b4 FB69     		ldr	r3, [r7, #28]
 2330 00b6 1344     		add	r3, r3, r2
 2331 00b8 03F51063 		add	r3, r3, #2304
 2332 00bc 1B69     		ldr	r3, [r3, #16]
 2333 00be BA69     		ldr	r2, [r7, #24]
 2334 00c0 5101     		lsls	r1, r2, #5
 2335 00c2 FA69     		ldr	r2, [r7, #28]
 2336 00c4 0A44     		add	r2, r2, r1
 2337 00c6 02F51062 		add	r2, r2, #2304
 2338 00ca 23F0FF53 		bic	r3, r3, #534773760
 2339 00ce 23F4C013 		bic	r3, r3, #1572864
 2340 00d2 1361     		str	r3, [r2, #16]
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (((ep->xfer_len + ep->maxpacket - 1U
 2341              		.loc 1 742 34
 2342 00d4 BB69     		ldr	r3, [r7, #24]
 2343 00d6 5A01     		lsls	r2, r3, #5
 2344 00d8 FB69     		ldr	r3, [r7, #28]
 2345 00da 1344     		add	r3, r3, r2
 2346 00dc 03F51063 		add	r3, r3, #2304
 2347 00e0 1A69     		ldr	r2, [r3, #16]
 2348              		.loc 1 742 69
 2349 00e2 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccaXZQ0T.s 			page 55


 2350 00e4 5969     		ldr	r1, [r3, #20]
 2351              		.loc 1 742 84
 2352 00e6 BB68     		ldr	r3, [r7, #8]
 2353 00e8 9B68     		ldr	r3, [r3, #8]
 2354              		.loc 1 742 80
 2355 00ea 0B44     		add	r3, r3, r1
 2356              		.loc 1 742 96
 2357 00ec 591E     		subs	r1, r3, #1
 2358              		.loc 1 742 106
 2359 00ee BB68     		ldr	r3, [r7, #8]
 2360 00f0 9B68     		ldr	r3, [r3, #8]
 2361              		.loc 1 742 102
 2362 00f2 B1FBF3F3 		udiv	r3, r1, r3
 2363              		.loc 1 742 119
 2364 00f6 D904     		lsls	r1, r3, #19
 2365              		.loc 1 742 62
 2366 00f8 9D4B     		ldr	r3, .L128
 2367 00fa 0B40     		ands	r3, r3, r1
 2368              		.loc 1 742 34
 2369 00fc B969     		ldr	r1, [r7, #24]
 2370 00fe 4801     		lsls	r0, r1, #5
 2371 0100 F969     		ldr	r1, [r7, #28]
 2372 0102 0144     		add	r1, r1, r0
 2373 0104 01F51061 		add	r1, r1, #2304
 2374 0108 1343     		orrs	r3, r3, r2
 2375 010a 0B61     		str	r3, [r1, #16]
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 2376              		.loc 1 743 34
 2377 010c BB69     		ldr	r3, [r7, #24]
 2378 010e 5A01     		lsls	r2, r3, #5
 2379 0110 FB69     		ldr	r3, [r7, #28]
 2380 0112 1344     		add	r3, r3, r2
 2381 0114 03F51063 		add	r3, r3, #2304
 2382 0118 1A69     		ldr	r2, [r3, #16]
 2383              		.loc 1 743 66
 2384 011a BB68     		ldr	r3, [r7, #8]
 2385 011c 5B69     		ldr	r3, [r3, #20]
 2386              		.loc 1 743 62
 2387 011e C3F31203 		ubfx	r3, r3, #0, #19
 2388              		.loc 1 743 34
 2389 0122 B969     		ldr	r1, [r7, #24]
 2390 0124 4801     		lsls	r0, r1, #5
 2391 0126 F969     		ldr	r1, [r7, #28]
 2392 0128 0144     		add	r1, r1, r0
 2393 012a 01F51061 		add	r1, r1, #2304
 2394 012e 1343     		orrs	r3, r3, r2
 2395 0130 0B61     		str	r3, [r1, #16]
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2396              		.loc 1 745 13
 2397 0132 BB68     		ldr	r3, [r7, #8]
 2398 0134 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2399              		.loc 1 745 10
 2400 0136 012B     		cmp	r3, #1
 2401 0138 1FD1     		bne	.L111
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_MULCNT);
ARM GAS  /tmp/ccaXZQ0T.s 			page 56


 2402              		.loc 1 747 36
 2403 013a BB69     		ldr	r3, [r7, #24]
 2404 013c 5A01     		lsls	r2, r3, #5
 2405 013e FB69     		ldr	r3, [r7, #28]
 2406 0140 1344     		add	r3, r3, r2
 2407 0142 03F51063 		add	r3, r3, #2304
 2408 0146 1B69     		ldr	r3, [r3, #16]
 2409 0148 BA69     		ldr	r2, [r7, #24]
 2410 014a 5101     		lsls	r1, r2, #5
 2411 014c FA69     		ldr	r2, [r7, #28]
 2412 014e 0A44     		add	r2, r2, r1
 2413 0150 02F51062 		add	r2, r2, #2304
 2414 0154 23F0C043 		bic	r3, r3, #1610612736
 2415 0158 1361     		str	r3, [r2, #16]
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_MULCNT & (1U << 29));
 2416              		.loc 1 748 36
 2417 015a BB69     		ldr	r3, [r7, #24]
 2418 015c 5A01     		lsls	r2, r3, #5
 2419 015e FB69     		ldr	r3, [r7, #28]
 2420 0160 1344     		add	r3, r3, r2
 2421 0162 03F51063 		add	r3, r3, #2304
 2422 0166 1B69     		ldr	r3, [r3, #16]
 2423 0168 BA69     		ldr	r2, [r7, #24]
 2424 016a 5101     		lsls	r1, r2, #5
 2425 016c FA69     		ldr	r2, [r7, #28]
 2426 016e 0A44     		add	r2, r2, r1
 2427 0170 02F51062 		add	r2, r2, #2304
 2428 0174 43F00053 		orr	r3, r3, #536870912
 2429 0178 1361     		str	r3, [r2, #16]
 2430              	.L111:
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2431              		.loc 1 752 8
 2432 017a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2433 017c 012B     		cmp	r3, #1
 2434 017e 4BD1     		bne	.L112
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 2435              		.loc 1 754 23
 2436 0180 BB68     		ldr	r3, [r7, #8]
 2437 0182 1B69     		ldr	r3, [r3, #16]
 2438              		.loc 1 754 10
 2439 0184 002B     		cmp	r3, #0
 2440 0186 09D0     		beq	.L113
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 2441              		.loc 1 756 9
 2442 0188 BB69     		ldr	r3, [r7, #24]
 2443 018a 5A01     		lsls	r2, r3, #5
 2444 018c FB69     		ldr	r3, [r7, #28]
 2445 018e 1344     		add	r3, r3, r2
 2446 0190 03F51063 		add	r3, r3, #2304
 2447 0194 1A46     		mov	r2, r3
 2448              		.loc 1 756 50
 2449 0196 BB68     		ldr	r3, [r7, #8]
ARM GAS  /tmp/ccaXZQ0T.s 			page 57


 2450 0198 1B69     		ldr	r3, [r3, #16]
 2451              		.loc 1 756 35
 2452 019a 5361     		str	r3, [r2, #20]
 2453              	.L113:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type == EP_TYPE_ISOC)
 2454              		.loc 1 759 13
 2455 019c BB68     		ldr	r3, [r7, #8]
 2456 019e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2457              		.loc 1 759 10
 2458 01a0 012B     		cmp	r3, #1
 2459 01a2 28D1     		bne	.L114
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2460              		.loc 1 761 14
 2461 01a4 FB69     		ldr	r3, [r7, #28]
 2462 01a6 03F50063 		add	r3, r3, #2048
 2463              		.loc 1 761 25
 2464 01aa 9B68     		ldr	r3, [r3, #8]
 2465              		.loc 1 761 32
 2466 01ac 03F48073 		and	r3, r3, #256
 2467              		.loc 1 761 12
 2468 01b0 002B     		cmp	r3, #0
 2469 01b2 10D1     		bne	.L115
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2470              		.loc 1 763 37
 2471 01b4 BB69     		ldr	r3, [r7, #24]
 2472 01b6 5A01     		lsls	r2, r3, #5
 2473 01b8 FB69     		ldr	r3, [r7, #28]
 2474 01ba 1344     		add	r3, r3, r2
 2475 01bc 03F51063 		add	r3, r3, #2304
 2476 01c0 1B68     		ldr	r3, [r3]
 2477 01c2 BA69     		ldr	r2, [r7, #24]
 2478 01c4 5101     		lsls	r1, r2, #5
 2479 01c6 FA69     		ldr	r2, [r7, #28]
 2480 01c8 0A44     		add	r2, r2, r1
 2481 01ca 02F51062 		add	r2, r2, #2304
 2482 01ce 43F00053 		orr	r3, r3, #536870912
 2483 01d2 1360     		str	r3, [r2]
 2484 01d4 0FE0     		b	.L114
 2485              	.L115:
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2486              		.loc 1 767 37
 2487 01d6 BB69     		ldr	r3, [r7, #24]
 2488 01d8 5A01     		lsls	r2, r3, #5
 2489 01da FB69     		ldr	r3, [r7, #28]
 2490 01dc 1344     		add	r3, r3, r2
 2491 01de 03F51063 		add	r3, r3, #2304
 2492 01e2 1B68     		ldr	r3, [r3]
 2493 01e4 BA69     		ldr	r2, [r7, #24]
 2494 01e6 5101     		lsls	r1, r2, #5
 2495 01e8 FA69     		ldr	r2, [r7, #28]
ARM GAS  /tmp/ccaXZQ0T.s 			page 58


 2496 01ea 0A44     		add	r2, r2, r1
 2497 01ec 02F51062 		add	r2, r2, #2304
 2498 01f0 43F08053 		orr	r3, r3, #268435456
 2499 01f4 1360     		str	r3, [r2]
 2500              	.L114:
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2501              		.loc 1 772 33
 2502 01f6 BB69     		ldr	r3, [r7, #24]
 2503 01f8 5A01     		lsls	r2, r3, #5
 2504 01fa FB69     		ldr	r3, [r7, #28]
 2505 01fc 1344     		add	r3, r3, r2
 2506 01fe 03F51063 		add	r3, r3, #2304
 2507 0202 1B68     		ldr	r3, [r3]
 2508 0204 BA69     		ldr	r2, [r7, #24]
 2509 0206 5101     		lsls	r1, r2, #5
 2510 0208 FA69     		ldr	r2, [r7, #28]
 2511 020a 0A44     		add	r2, r2, r1
 2512 020c 02F51062 		add	r2, r2, #2304
 2513 0210 43F00443 		orr	r3, r3, #-2080374784
 2514 0214 1360     		str	r3, [r2]
 2515 0216 2FE1     		b	.L121
 2516              	.L112:
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 2517              		.loc 1 777 33
 2518 0218 BB69     		ldr	r3, [r7, #24]
 2519 021a 5A01     		lsls	r2, r3, #5
 2520 021c FB69     		ldr	r3, [r7, #28]
 2521 021e 1344     		add	r3, r3, r2
 2522 0220 03F51063 		add	r3, r3, #2304
 2523 0224 1B68     		ldr	r3, [r3]
 2524 0226 BA69     		ldr	r2, [r7, #24]
 2525 0228 5101     		lsls	r1, r2, #5
 2526 022a FA69     		ldr	r2, [r7, #28]
 2527 022c 0A44     		add	r2, r2, r1
 2528 022e 02F51062 		add	r2, r2, #2304
 2529 0232 43F00443 		orr	r3, r3, #-2080374784
 2530 0236 1360     		str	r3, [r2]
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->type != EP_TYPE_ISOC)
 2531              		.loc 1 779 13
 2532 0238 BB68     		ldr	r3, [r7, #8]
 2533 023a DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2534              		.loc 1 779 10
 2535 023c 012B     		cmp	r3, #1
 2536 023e 15D0     		beq	.L117
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Enable the Tx FIFO Empty Interrupt for this EP */
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (ep->xfer_len > 0U)
 2537              		.loc 1 782 15
ARM GAS  /tmp/ccaXZQ0T.s 			page 59


 2538 0240 BB68     		ldr	r3, [r7, #8]
 2539 0242 5B69     		ldr	r3, [r3, #20]
 2540              		.loc 1 782 12
 2541 0244 002B     		cmp	r3, #0
 2542 0246 00F01781 		beq	.L121
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 2543              		.loc 1 784 35
 2544 024a FB69     		ldr	r3, [r7, #28]
 2545 024c 03F50063 		add	r3, r3, #2048
 2546 0250 5A6B     		ldr	r2, [r3, #52]
 2547              		.loc 1 784 48
 2548 0252 BB68     		ldr	r3, [r7, #8]
 2549 0254 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2550              		.loc 1 784 54
 2551 0256 03F00F03 		and	r3, r3, #15
 2552              		.loc 1 784 42
 2553 025a 0121     		movs	r1, #1
 2554 025c 01FA03F3 		lsl	r3, r1, r3
 2555              		.loc 1 784 35
 2556 0260 F969     		ldr	r1, [r7, #28]
 2557 0262 01F50061 		add	r1, r1, #2048
 2558 0266 1343     		orrs	r3, r3, r2
 2559 0268 4B63     		str	r3, [r1, #52]
 2560 026a 05E1     		b	.L121
 2561              	.L117:
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2562              		.loc 1 789 14
 2563 026c FB69     		ldr	r3, [r7, #28]
 2564 026e 03F50063 		add	r3, r3, #2048
 2565              		.loc 1 789 25
 2566 0272 9B68     		ldr	r3, [r3, #8]
 2567              		.loc 1 789 32
 2568 0274 03F48073 		and	r3, r3, #256
 2569              		.loc 1 789 12
 2570 0278 002B     		cmp	r3, #0
 2571 027a 10D1     		bne	.L119
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SODDFRM;
 2572              		.loc 1 791 37
 2573 027c BB69     		ldr	r3, [r7, #24]
 2574 027e 5A01     		lsls	r2, r3, #5
 2575 0280 FB69     		ldr	r3, [r7, #28]
 2576 0282 1344     		add	r3, r3, r2
 2577 0284 03F51063 		add	r3, r3, #2304
 2578 0288 1B68     		ldr	r3, [r3]
 2579 028a BA69     		ldr	r2, [r7, #24]
 2580 028c 5101     		lsls	r1, r2, #5
 2581 028e FA69     		ldr	r2, [r7, #28]
 2582 0290 0A44     		add	r2, r2, r1
 2583 0292 02F51062 		add	r2, r2, #2304
 2584 0296 43F00053 		orr	r3, r3, #536870912
 2585 029a 1360     		str	r3, [r2]
ARM GAS  /tmp/ccaXZQ0T.s 			page 60


 2586 029c 0FE0     		b	.L120
 2587              	.L119:
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         else
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM;
 2588              		.loc 1 795 37
 2589 029e BB69     		ldr	r3, [r7, #24]
 2590 02a0 5A01     		lsls	r2, r3, #5
 2591 02a2 FB69     		ldr	r3, [r7, #28]
 2592 02a4 1344     		add	r3, r3, r2
 2593 02a6 03F51063 		add	r3, r3, #2304
 2594 02aa 1B68     		ldr	r3, [r3]
 2595 02ac BA69     		ldr	r2, [r7, #24]
 2596 02ae 5101     		lsls	r1, r2, #5
 2597 02b0 FA69     		ldr	r2, [r7, #28]
 2598 02b2 0A44     		add	r2, r2, r1
 2599 02b4 02F51062 		add	r2, r2, #2304
 2600 02b8 43F08053 		orr	r3, r3, #268435456
 2601 02bc 1360     		str	r3, [r2]
 2602              	.L120:
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         (void)USB_WritePacket(USBx, ep->xfer_buff, ep->num, (uint16_t)ep->xfer_len, dma);
 2603              		.loc 1 798 15
 2604 02be BB68     		ldr	r3, [r7, #8]
 2605 02c0 D968     		ldr	r1, [r3, #12]
 2606 02c2 BB68     		ldr	r3, [r7, #8]
 2607 02c4 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 2608              		.loc 1 798 73
 2609 02c6 BB68     		ldr	r3, [r7, #8]
 2610 02c8 5B69     		ldr	r3, [r3, #20]
 2611              		.loc 1 798 15
 2612 02ca 98B2     		uxth	r0, r3
 2613 02cc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2614 02ce 0093     		str	r3, [sp]
 2615 02d0 0346     		mov	r3, r0
 2616 02d2 F868     		ldr	r0, [r7, #12]
 2617 02d4 FFF7FEFF 		bl	USB_WritePacket
 2618 02d8 CEE0     		b	.L121
 2619              	.L109:
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 2620              		.loc 1 808 33
 2621 02da BB69     		ldr	r3, [r7, #24]
 2622 02dc 5A01     		lsls	r2, r3, #5
 2623 02de FB69     		ldr	r3, [r7, #28]
 2624 02e0 1344     		add	r3, r3, r2
 2625 02e2 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/ccaXZQ0T.s 			page 61


 2626 02e6 1B69     		ldr	r3, [r3, #16]
 2627 02e8 BA69     		ldr	r2, [r7, #24]
 2628 02ea 5101     		lsls	r1, r2, #5
 2629 02ec FA69     		ldr	r2, [r7, #28]
 2630 02ee 0A44     		add	r2, r2, r1
 2631 02f0 02F53062 		add	r2, r2, #2816
 2632 02f4 DB0C     		lsrs	r3, r3, #19
 2633 02f6 DB04     		lsls	r3, r3, #19
 2634 02f8 1361     		str	r3, [r2, #16]
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 2635              		.loc 1 809 33
 2636 02fa BB69     		ldr	r3, [r7, #24]
 2637 02fc 5A01     		lsls	r2, r3, #5
 2638 02fe FB69     		ldr	r3, [r7, #28]
 2639 0300 1344     		add	r3, r3, r2
 2640 0302 03F53063 		add	r3, r3, #2816
 2641 0306 1B69     		ldr	r3, [r3, #16]
 2642 0308 BA69     		ldr	r2, [r7, #24]
 2643 030a 5101     		lsls	r1, r2, #5
 2644 030c FA69     		ldr	r2, [r7, #28]
 2645 030e 0A44     		add	r2, r2, r1
 2646 0310 02F53062 		add	r2, r2, #2816
 2647 0314 23F0FF53 		bic	r3, r3, #534773760
 2648 0318 23F4C013 		bic	r3, r3, #1572864
 2649 031c 1361     		str	r3, [r2, #16]
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2650              		.loc 1 811 11
 2651 031e BB68     		ldr	r3, [r7, #8]
 2652 0320 5B69     		ldr	r3, [r3, #20]
 2653              		.loc 1 811 8
 2654 0322 002B     		cmp	r3, #0
 2655 0324 26D1     		bne	.L122
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & ep->maxpacket);
 2656              		.loc 1 813 35
 2657 0326 BB69     		ldr	r3, [r7, #24]
 2658 0328 5A01     		lsls	r2, r3, #5
 2659 032a FB69     		ldr	r3, [r7, #28]
 2660 032c 1344     		add	r3, r3, r2
 2661 032e 03F53063 		add	r3, r3, #2816
 2662 0332 1A69     		ldr	r2, [r3, #16]
 2663              		.loc 1 813 67
 2664 0334 BB68     		ldr	r3, [r7, #8]
 2665 0336 9B68     		ldr	r3, [r3, #8]
 2666              		.loc 1 813 63
 2667 0338 C3F31203 		ubfx	r3, r3, #0, #19
 2668              		.loc 1 813 35
 2669 033c B969     		ldr	r1, [r7, #24]
 2670 033e 4801     		lsls	r0, r1, #5
 2671 0340 F969     		ldr	r1, [r7, #28]
 2672 0342 0144     		add	r1, r1, r0
 2673 0344 01F53061 		add	r1, r1, #2816
 2674 0348 1343     		orrs	r3, r3, r2
 2675 034a 0B61     		str	r3, [r1, #16]
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 2676              		.loc 1 814 35
ARM GAS  /tmp/ccaXZQ0T.s 			page 62


 2677 034c BB69     		ldr	r3, [r7, #24]
 2678 034e 5A01     		lsls	r2, r3, #5
 2679 0350 FB69     		ldr	r3, [r7, #28]
 2680 0352 1344     		add	r3, r3, r2
 2681 0354 03F53063 		add	r3, r3, #2816
 2682 0358 1B69     		ldr	r3, [r3, #16]
 2683 035a BA69     		ldr	r2, [r7, #24]
 2684 035c 5101     		lsls	r1, r2, #5
 2685 035e FA69     		ldr	r2, [r7, #28]
 2686 0360 0A44     		add	r2, r2, r1
 2687 0362 02F53062 		add	r2, r2, #2816
 2688 0366 43F40023 		orr	r3, r3, #524288
 2689 036a 1361     		str	r3, [r2, #16]
 2690 036c 36E0     		b	.L123
 2691              	.L129:
 2692 036e 00BF     		.align	2
 2693              	.L128:
 2694 0370 0000F81F 		.word	536346624
 2695              	.L122:
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pktcnt = (uint16_t)((ep->xfer_len + ep->maxpacket - 1U) / ep->maxpacket);
 2696              		.loc 1 818 30
 2697 0374 BB68     		ldr	r3, [r7, #8]
 2698 0376 5A69     		ldr	r2, [r3, #20]
 2699              		.loc 1 818 45
 2700 0378 BB68     		ldr	r3, [r7, #8]
 2701 037a 9B68     		ldr	r3, [r3, #8]
 2702              		.loc 1 818 41
 2703 037c 1344     		add	r3, r3, r2
 2704              		.loc 1 818 57
 2705 037e 5A1E     		subs	r2, r3, #1
 2706              		.loc 1 818 67
 2707 0380 BB68     		ldr	r3, [r7, #8]
 2708 0382 9B68     		ldr	r3, [r3, #8]
 2709              		.loc 1 818 63
 2710 0384 B2FBF3F3 		udiv	r3, r2, r3
 2711              		.loc 1 818 14
 2712 0388 FB82     		strh	r3, [r7, #22]	@ movhi
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_PKTCNT & ((uint32_t)pktcnt << 19);
 2713              		.loc 1 819 35
 2714 038a BB69     		ldr	r3, [r7, #24]
 2715 038c 5A01     		lsls	r2, r3, #5
 2716 038e FB69     		ldr	r3, [r7, #28]
 2717 0390 1344     		add	r3, r3, r2
 2718 0392 03F53063 		add	r3, r3, #2816
 2719 0396 1A69     		ldr	r2, [r3, #16]
 2720              		.loc 1 819 65
 2721 0398 FB8A     		ldrh	r3, [r7, #22]
 2722              		.loc 1 819 82
 2723 039a D904     		lsls	r1, r3, #19
 2724              		.loc 1 819 62
 2725 039c 394B     		ldr	r3, .L130
 2726 039e 0B40     		ands	r3, r3, r1
 2727              		.loc 1 819 35
 2728 03a0 B969     		ldr	r1, [r7, #24]
ARM GAS  /tmp/ccaXZQ0T.s 			page 63


 2729 03a2 4801     		lsls	r0, r1, #5
 2730 03a4 F969     		ldr	r1, [r7, #28]
 2731 03a6 0144     		add	r1, r1, r0
 2732 03a8 01F53061 		add	r1, r1, #2816
 2733 03ac 1343     		orrs	r3, r3, r2
 2734 03ae 0B61     		str	r3, [r1, #16]
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPTSIZ |= USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket * pktcnt);
 2735              		.loc 1 820 35
 2736 03b0 BB69     		ldr	r3, [r7, #24]
 2737 03b2 5A01     		lsls	r2, r3, #5
 2738 03b4 FB69     		ldr	r3, [r7, #28]
 2739 03b6 1344     		add	r3, r3, r2
 2740 03b8 03F53063 		add	r3, r3, #2816
 2741 03bc 1A69     		ldr	r2, [r3, #16]
 2742              		.loc 1 820 67
 2743 03be BB68     		ldr	r3, [r7, #8]
 2744 03c0 9B68     		ldr	r3, [r3, #8]
 2745              		.loc 1 820 79
 2746 03c2 F98A     		ldrh	r1, [r7, #22]
 2747 03c4 01FB03F3 		mul	r3, r1, r3
 2748              		.loc 1 820 62
 2749 03c8 C3F31203 		ubfx	r3, r3, #0, #19
 2750              		.loc 1 820 35
 2751 03cc B969     		ldr	r1, [r7, #24]
 2752 03ce 4801     		lsls	r0, r1, #5
 2753 03d0 F969     		ldr	r1, [r7, #28]
 2754 03d2 0144     		add	r1, r1, r0
 2755 03d4 01F53061 		add	r1, r1, #2816
 2756 03d8 1343     		orrs	r3, r3, r2
 2757 03da 0B61     		str	r3, [r1, #16]
 2758              	.L123:
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 2759              		.loc 1 823 8
 2760 03dc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 2761 03de 012B     		cmp	r3, #1
 2762 03e0 0DD1     		bne	.L124
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 2763              		.loc 1 825 23
 2764 03e2 BB68     		ldr	r3, [r7, #8]
 2765 03e4 DB68     		ldr	r3, [r3, #12]
 2766              		.loc 1 825 10
 2767 03e6 002B     		cmp	r3, #0
 2768 03e8 09D0     		beq	.L124
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 2769              		.loc 1 827 51
 2770 03ea BB68     		ldr	r3, [r7, #8]
 2771 03ec D968     		ldr	r1, [r3, #12]
 2772              		.loc 1 827 9
 2773 03ee BB69     		ldr	r3, [r7, #24]
 2774 03f0 5A01     		lsls	r2, r3, #5
 2775 03f2 FB69     		ldr	r3, [r7, #28]
 2776 03f4 1344     		add	r3, r3, r2
 2777 03f6 03F53063 		add	r3, r3, #2816
ARM GAS  /tmp/ccaXZQ0T.s 			page 64


 2778              		.loc 1 827 38
 2779 03fa 0A46     		mov	r2, r1
 2780              		.loc 1 827 36
 2781 03fc 5A61     		str	r2, [r3, #20]
 2782              	.L124:
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->type == EP_TYPE_ISOC)
 2783              		.loc 1 831 11
 2784 03fe BB68     		ldr	r3, [r7, #8]
 2785 0400 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2786              		.loc 1 831 8
 2787 0402 012B     		cmp	r3, #1
 2788 0404 28D1     		bne	.L125
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((USBx_DEVICE->DSTS & (1U << 8)) == 0U)
 2789              		.loc 1 833 12
 2790 0406 FB69     		ldr	r3, [r7, #28]
 2791 0408 03F50063 		add	r3, r3, #2048
 2792              		.loc 1 833 23
 2793 040c 9B68     		ldr	r3, [r3, #8]
 2794              		.loc 1 833 30
 2795 040e 03F48073 		and	r3, r3, #256
 2796              		.loc 1 833 10
 2797 0412 002B     		cmp	r3, #0
 2798 0414 10D1     		bne	.L126
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SODDFRM;
 2799              		.loc 1 835 36
 2800 0416 BB69     		ldr	r3, [r7, #24]
 2801 0418 5A01     		lsls	r2, r3, #5
 2802 041a FB69     		ldr	r3, [r7, #28]
 2803 041c 1344     		add	r3, r3, r2
 2804 041e 03F53063 		add	r3, r3, #2816
 2805 0422 1B68     		ldr	r3, [r3]
 2806 0424 BA69     		ldr	r2, [r7, #24]
 2807 0426 5101     		lsls	r1, r2, #5
 2808 0428 FA69     		ldr	r2, [r7, #28]
 2809 042a 0A44     		add	r2, r2, r1
 2810 042c 02F53062 		add	r2, r2, #2816
 2811 0430 43F00053 		orr	r3, r3, #536870912
 2812 0434 1360     		str	r3, [r2]
 2813 0436 0FE0     		b	.L125
 2814              	.L126:
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM;
 2815              		.loc 1 839 36
 2816 0438 BB69     		ldr	r3, [r7, #24]
 2817 043a 5A01     		lsls	r2, r3, #5
 2818 043c FB69     		ldr	r3, [r7, #28]
 2819 043e 1344     		add	r3, r3, r2
 2820 0440 03F53063 		add	r3, r3, #2816
 2821 0444 1B68     		ldr	r3, [r3]
 2822 0446 BA69     		ldr	r2, [r7, #24]
ARM GAS  /tmp/ccaXZQ0T.s 			page 65


 2823 0448 5101     		lsls	r1, r2, #5
 2824 044a FA69     		ldr	r2, [r7, #28]
 2825 044c 0A44     		add	r2, r2, r1
 2826 044e 02F53062 		add	r2, r2, #2816
 2827 0452 43F08053 		orr	r3, r3, #268435456
 2828 0456 1360     		str	r3, [r2]
 2829              	.L125:
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 2830              		.loc 1 843 32
 2831 0458 BB69     		ldr	r3, [r7, #24]
 2832 045a 5A01     		lsls	r2, r3, #5
 2833 045c FB69     		ldr	r3, [r7, #28]
 2834 045e 1344     		add	r3, r3, r2
 2835 0460 03F53063 		add	r3, r3, #2816
 2836 0464 1B68     		ldr	r3, [r3]
 2837 0466 BA69     		ldr	r2, [r7, #24]
 2838 0468 5101     		lsls	r1, r2, #5
 2839 046a FA69     		ldr	r2, [r7, #28]
 2840 046c 0A44     		add	r2, r2, r1
 2841 046e 02F53062 		add	r2, r2, #2816
 2842 0472 43F00443 		orr	r3, r3, #-2080374784
 2843 0476 1360     		str	r3, [r2]
 2844              	.L121:
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 2845              		.loc 1 846 10
 2846 0478 0023     		movs	r3, #0
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 2847              		.loc 1 847 1
 2848 047a 1846     		mov	r0, r3
 2849 047c 2037     		adds	r7, r7, #32
 2850              	.LCFI90:
 2851              		.cfi_def_cfa_offset 8
 2852 047e BD46     		mov	sp, r7
 2853              	.LCFI91:
 2854              		.cfi_def_cfa_register 13
 2855              		@ sp needed
 2856 0480 80BD     		pop	{r7, pc}
 2857              	.L131:
 2858 0482 00BF     		.align	2
 2859              	.L130:
 2860 0484 0000F81F 		.word	536346624
 2861              		.cfi_endproc
 2862              	.LFE144:
 2864              		.section	.text.USB_EP0StartXfer,"ax",%progbits
 2865              		.align	1
 2866              		.global	USB_EP0StartXfer
 2867              		.syntax unified
 2868              		.thumb
 2869              		.thumb_func
 2870              		.fpu fpv4-sp-d16
 2872              	USB_EP0StartXfer:
 2873              	.LFB145:
ARM GAS  /tmp/ccaXZQ0T.s 			page 66


 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EP0StartXfer : setup and starts a transfer over the EP  0
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep, uint8_t dma)
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 2874              		.loc 1 860 1
 2875              		.cfi_startproc
 2876              		@ args = 0, pretend = 0, frame = 24
 2877              		@ frame_needed = 1, uses_anonymous_args = 0
 2878              		@ link register save eliminated.
 2879 0000 80B4     		push	{r7}
 2880              	.LCFI92:
 2881              		.cfi_def_cfa_offset 4
 2882              		.cfi_offset 7, -4
 2883 0002 87B0     		sub	sp, sp, #28
 2884              	.LCFI93:
 2885              		.cfi_def_cfa_offset 32
 2886 0004 00AF     		add	r7, sp, #0
 2887              	.LCFI94:
 2888              		.cfi_def_cfa_register 7
 2889 0006 F860     		str	r0, [r7, #12]
 2890 0008 B960     		str	r1, [r7, #8]
 2891 000a 1346     		mov	r3, r2
 2892 000c FB71     		strb	r3, [r7, #7]
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 2893              		.loc 1 861 12
 2894 000e FB68     		ldr	r3, [r7, #12]
 2895 0010 7B61     		str	r3, [r7, #20]
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 2896              		.loc 1 862 32
 2897 0012 BB68     		ldr	r3, [r7, #8]
 2898 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 2899              		.loc 1 862 12
 2900 0016 3B61     		str	r3, [r7, #16]
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* IN endpoint */
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 2901              		.loc 1 865 9
 2902 0018 BB68     		ldr	r3, [r7, #8]
 2903 001a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 2904              		.loc 1 865 6
 2905 001c 012B     		cmp	r3, #1
 2906 001e 40F0CD80 		bne	.L133
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Zero Length Packet? */
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len == 0U)
 2907              		.loc 1 868 11
 2908 0022 BB68     		ldr	r3, [r7, #8]
 2909 0024 5B69     		ldr	r3, [r3, #20]
ARM GAS  /tmp/ccaXZQ0T.s 			page 67


 2910              		.loc 1 868 8
 2911 0026 002B     		cmp	r3, #0
 2912 0028 32D1     		bne	.L134
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2913              		.loc 1 870 34
 2914 002a 3B69     		ldr	r3, [r7, #16]
 2915 002c 5A01     		lsls	r2, r3, #5
 2916 002e 7B69     		ldr	r3, [r7, #20]
 2917 0030 1344     		add	r3, r3, r2
 2918 0032 03F51063 		add	r3, r3, #2304
 2919 0036 1B69     		ldr	r3, [r3, #16]
 2920 0038 3A69     		ldr	r2, [r7, #16]
 2921 003a 5101     		lsls	r1, r2, #5
 2922 003c 7A69     		ldr	r2, [r7, #20]
 2923 003e 0A44     		add	r2, r2, r1
 2924 0040 02F51062 		add	r2, r2, #2304
 2925 0044 23F0FF53 		bic	r3, r3, #534773760
 2926 0048 23F4C013 		bic	r3, r3, #1572864
 2927 004c 1361     		str	r3, [r2, #16]
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 2928              		.loc 1 871 34
 2929 004e 3B69     		ldr	r3, [r7, #16]
 2930 0050 5A01     		lsls	r2, r3, #5
 2931 0052 7B69     		ldr	r3, [r7, #20]
 2932 0054 1344     		add	r3, r3, r2
 2933 0056 03F51063 		add	r3, r3, #2304
 2934 005a 1B69     		ldr	r3, [r3, #16]
 2935 005c 3A69     		ldr	r2, [r7, #16]
 2936 005e 5101     		lsls	r1, r2, #5
 2937 0060 7A69     		ldr	r2, [r7, #20]
 2938 0062 0A44     		add	r2, r2, r1
 2939 0064 02F51062 		add	r2, r2, #2304
 2940 0068 43F40023 		orr	r3, r3, #524288
 2941 006c 1361     		str	r3, [r2, #16]
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2942              		.loc 1 872 34
 2943 006e 3B69     		ldr	r3, [r7, #16]
 2944 0070 5A01     		lsls	r2, r3, #5
 2945 0072 7B69     		ldr	r3, [r7, #20]
 2946 0074 1344     		add	r3, r3, r2
 2947 0076 03F51063 		add	r3, r3, #2304
 2948 007a 1B69     		ldr	r3, [r3, #16]
 2949 007c 3A69     		ldr	r2, [r7, #16]
 2950 007e 5101     		lsls	r1, r2, #5
 2951 0080 7A69     		ldr	r2, [r7, #20]
 2952 0082 0A44     		add	r2, r2, r1
 2953 0084 02F51062 		add	r2, r2, #2304
 2954 0088 DB0C     		lsrs	r3, r3, #19
 2955 008a DB04     		lsls	r3, r3, #19
 2956 008c 1361     		str	r3, [r2, #16]
 2957 008e 4EE0     		b	.L135
 2958              	.L134:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Program the transfer size and packet count
ARM GAS  /tmp/ccaXZQ0T.s 			page 68


 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * as follows: xfersize = N * maxpacket +
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * short_packet pktcnt = N + (short_packet
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       * exist ? 1 : 0)
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       */
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_XFRSIZ);
 2959              		.loc 1 881 34
 2960 0090 3B69     		ldr	r3, [r7, #16]
 2961 0092 5A01     		lsls	r2, r3, #5
 2962 0094 7B69     		ldr	r3, [r7, #20]
 2963 0096 1344     		add	r3, r3, r2
 2964 0098 03F51063 		add	r3, r3, #2304
 2965 009c 1B69     		ldr	r3, [r3, #16]
 2966 009e 3A69     		ldr	r2, [r7, #16]
 2967 00a0 5101     		lsls	r1, r2, #5
 2968 00a2 7A69     		ldr	r2, [r7, #20]
 2969 00a4 0A44     		add	r2, r2, r1
 2970 00a6 02F51062 		add	r2, r2, #2304
 2971 00aa DB0C     		lsrs	r3, r3, #19
 2972 00ac DB04     		lsls	r3, r3, #19
 2973 00ae 1361     		str	r3, [r2, #16]
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ &= ~(USB_OTG_DIEPTSIZ_PKTCNT);
 2974              		.loc 1 882 34
 2975 00b0 3B69     		ldr	r3, [r7, #16]
 2976 00b2 5A01     		lsls	r2, r3, #5
 2977 00b4 7B69     		ldr	r3, [r7, #20]
 2978 00b6 1344     		add	r3, r3, r2
 2979 00b8 03F51063 		add	r3, r3, #2304
 2980 00bc 1B69     		ldr	r3, [r3, #16]
 2981 00be 3A69     		ldr	r2, [r7, #16]
 2982 00c0 5101     		lsls	r1, r2, #5
 2983 00c2 7A69     		ldr	r2, [r7, #20]
 2984 00c4 0A44     		add	r2, r2, r1
 2985 00c6 02F51062 		add	r2, r2, #2304
 2986 00ca 23F0FF53 		bic	r3, r3, #534773760
 2987 00ce 23F4C013 		bic	r3, r3, #1572864
 2988 00d2 1361     		str	r3, [r2, #16]
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > ep->maxpacket)
 2989              		.loc 1 884 13
 2990 00d4 BB68     		ldr	r3, [r7, #8]
 2991 00d6 5A69     		ldr	r2, [r3, #20]
 2992              		.loc 1 884 28
 2993 00d8 BB68     		ldr	r3, [r7, #8]
 2994 00da 9B68     		ldr	r3, [r3, #8]
 2995              		.loc 1 884 10
 2996 00dc 9A42     		cmp	r2, r3
 2997 00de 03D9     		bls	.L136
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         ep->xfer_len = ep->maxpacket;
 2998              		.loc 1 886 26
 2999 00e0 BB68     		ldr	r3, [r7, #8]
 3000 00e2 9A68     		ldr	r2, [r3, #8]
 3001              		.loc 1 886 22
 3002 00e4 BB68     		ldr	r3, [r7, #8]
 3003 00e6 5A61     		str	r2, [r3, #20]
 3004              	.L136:
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
ARM GAS  /tmp/ccaXZQ0T.s 			page 69


 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_PKTCNT & (1U << 19));
 3005              		.loc 1 888 34
 3006 00e8 3B69     		ldr	r3, [r7, #16]
 3007 00ea 5A01     		lsls	r2, r3, #5
 3008 00ec 7B69     		ldr	r3, [r7, #20]
 3009 00ee 1344     		add	r3, r3, r2
 3010 00f0 03F51063 		add	r3, r3, #2304
 3011 00f4 1B69     		ldr	r3, [r3, #16]
 3012 00f6 3A69     		ldr	r2, [r7, #16]
 3013 00f8 5101     		lsls	r1, r2, #5
 3014 00fa 7A69     		ldr	r2, [r7, #20]
 3015 00fc 0A44     		add	r2, r2, r1
 3016 00fe 02F51062 		add	r2, r2, #2304
 3017 0102 43F40023 		orr	r3, r3, #524288
 3018 0106 1361     		str	r3, [r2, #16]
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPTSIZ |= (USB_OTG_DIEPTSIZ_XFRSIZ & ep->xfer_len);
 3019              		.loc 1 889 34
 3020 0108 3B69     		ldr	r3, [r7, #16]
 3021 010a 5A01     		lsls	r2, r3, #5
 3022 010c 7B69     		ldr	r3, [r7, #20]
 3023 010e 1344     		add	r3, r3, r2
 3024 0110 03F51063 		add	r3, r3, #2304
 3025 0114 1A69     		ldr	r2, [r3, #16]
 3026              		.loc 1 889 66
 3027 0116 BB68     		ldr	r3, [r7, #8]
 3028 0118 5B69     		ldr	r3, [r3, #20]
 3029              		.loc 1 889 62
 3030 011a C3F31203 		ubfx	r3, r3, #0, #19
 3031              		.loc 1 889 34
 3032 011e 3969     		ldr	r1, [r7, #16]
 3033 0120 4801     		lsls	r0, r1, #5
 3034 0122 7969     		ldr	r1, [r7, #20]
 3035 0124 0144     		add	r1, r1, r0
 3036 0126 01F51061 		add	r1, r1, #2304
 3037 012a 1343     		orrs	r3, r3, r2
 3038 012c 0B61     		str	r3, [r1, #16]
 3039              	.L135:
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3040              		.loc 1 892 8
 3041 012e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3042 0130 012B     		cmp	r3, #1
 3043 0132 1ED1     		bne	.L137
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->dma_addr != 0U)
 3044              		.loc 1 894 23
 3045 0134 BB68     		ldr	r3, [r7, #8]
 3046 0136 1B69     		ldr	r3, [r3, #16]
 3047              		.loc 1 894 10
 3048 0138 002B     		cmp	r3, #0
 3049 013a 09D0     		beq	.L138
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_INEP(epnum)->DIEPDMA = (uint32_t)(ep->dma_addr);
 3050              		.loc 1 896 9
 3051 013c 3B69     		ldr	r3, [r7, #16]
 3052 013e 5A01     		lsls	r2, r3, #5
ARM GAS  /tmp/ccaXZQ0T.s 			page 70


 3053 0140 7B69     		ldr	r3, [r7, #20]
 3054 0142 1344     		add	r3, r3, r2
 3055 0144 03F51063 		add	r3, r3, #2304
 3056 0148 1A46     		mov	r2, r3
 3057              		.loc 1 896 50
 3058 014a BB68     		ldr	r3, [r7, #8]
 3059 014c 1B69     		ldr	r3, [r3, #16]
 3060              		.loc 1 896 35
 3061 014e 5361     		str	r3, [r2, #20]
 3062              	.L138:
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3063              		.loc 1 900 33
 3064 0150 3B69     		ldr	r3, [r7, #16]
 3065 0152 5A01     		lsls	r2, r3, #5
 3066 0154 7B69     		ldr	r3, [r7, #20]
 3067 0156 1344     		add	r3, r3, r2
 3068 0158 03F51063 		add	r3, r3, #2304
 3069 015c 1B68     		ldr	r3, [r3]
 3070 015e 3A69     		ldr	r2, [r7, #16]
 3071 0160 5101     		lsls	r1, r2, #5
 3072 0162 7A69     		ldr	r2, [r7, #20]
 3073 0164 0A44     		add	r2, r2, r1
 3074 0166 02F51062 		add	r2, r2, #2304
 3075 016a 43F00443 		orr	r3, r3, #-2080374784
 3076 016e 1360     		str	r3, [r2]
 3077 0170 92E0     		b	.L140
 3078              	.L137:
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* EP enable, IN data in FIFO */
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= (USB_OTG_DIEPCTL_CNAK | USB_OTG_DIEPCTL_EPENA);
 3079              		.loc 1 905 33
 3080 0172 3B69     		ldr	r3, [r7, #16]
 3081 0174 5A01     		lsls	r2, r3, #5
 3082 0176 7B69     		ldr	r3, [r7, #20]
 3083 0178 1344     		add	r3, r3, r2
 3084 017a 03F51063 		add	r3, r3, #2304
 3085 017e 1B68     		ldr	r3, [r3]
 3086 0180 3A69     		ldr	r2, [r7, #16]
 3087 0182 5101     		lsls	r1, r2, #5
 3088 0184 7A69     		ldr	r2, [r7, #20]
 3089 0186 0A44     		add	r2, r2, r1
 3090 0188 02F51062 		add	r2, r2, #2304
 3091 018c 43F00443 		orr	r3, r3, #-2080374784
 3092 0190 1360     		str	r3, [r2]
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Enable the Tx FIFO Empty Interrupt for this EP */
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (ep->xfer_len > 0U)
 3093              		.loc 1 908 13
 3094 0192 BB68     		ldr	r3, [r7, #8]
 3095 0194 5B69     		ldr	r3, [r3, #20]
 3096              		.loc 1 908 10
 3097 0196 002B     		cmp	r3, #0
ARM GAS  /tmp/ccaXZQ0T.s 			page 71


 3098 0198 7ED0     		beq	.L140
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_DEVICE->DIEPEMPMSK |= 1UL << (ep->num & EP_ADDR_MSK);
 3099              		.loc 1 910 33
 3100 019a 7B69     		ldr	r3, [r7, #20]
 3101 019c 03F50063 		add	r3, r3, #2048
 3102 01a0 5A6B     		ldr	r2, [r3, #52]
 3103              		.loc 1 910 46
 3104 01a2 BB68     		ldr	r3, [r7, #8]
 3105 01a4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3106              		.loc 1 910 52
 3107 01a6 03F00F03 		and	r3, r3, #15
 3108              		.loc 1 910 40
 3109 01aa 0121     		movs	r1, #1
 3110 01ac 01FA03F3 		lsl	r3, r1, r3
 3111              		.loc 1 910 33
 3112 01b0 7969     		ldr	r1, [r7, #20]
 3113 01b2 01F50061 		add	r1, r1, #2048
 3114 01b6 1343     		orrs	r3, r3, r2
 3115 01b8 4B63     		str	r3, [r1, #52]
 3116 01ba 6DE0     		b	.L140
 3117              	.L133:
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else /* OUT endpoint */
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Program the transfer size and packet count as follows:
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * pktcnt = N
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     * xfersize = N * maxpacket
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     */
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_XFRSIZ);
 3118              		.loc 1 920 33
 3119 01bc 3B69     		ldr	r3, [r7, #16]
 3120 01be 5A01     		lsls	r2, r3, #5
 3121 01c0 7B69     		ldr	r3, [r7, #20]
 3122 01c2 1344     		add	r3, r3, r2
 3123 01c4 03F53063 		add	r3, r3, #2816
 3124 01c8 1B69     		ldr	r3, [r3, #16]
 3125 01ca 3A69     		ldr	r2, [r7, #16]
 3126 01cc 5101     		lsls	r1, r2, #5
 3127 01ce 7A69     		ldr	r2, [r7, #20]
 3128 01d0 0A44     		add	r2, r2, r1
 3129 01d2 02F53062 		add	r2, r2, #2816
 3130 01d6 DB0C     		lsrs	r3, r3, #19
 3131 01d8 DB04     		lsls	r3, r3, #19
 3132 01da 1361     		str	r3, [r2, #16]
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ &= ~(USB_OTG_DOEPTSIZ_PKTCNT);
 3133              		.loc 1 921 33
 3134 01dc 3B69     		ldr	r3, [r7, #16]
 3135 01de 5A01     		lsls	r2, r3, #5
 3136 01e0 7B69     		ldr	r3, [r7, #20]
 3137 01e2 1344     		add	r3, r3, r2
 3138 01e4 03F53063 		add	r3, r3, #2816
 3139 01e8 1B69     		ldr	r3, [r3, #16]
 3140 01ea 3A69     		ldr	r2, [r7, #16]
 3141 01ec 5101     		lsls	r1, r2, #5
ARM GAS  /tmp/ccaXZQ0T.s 			page 72


 3142 01ee 7A69     		ldr	r2, [r7, #20]
 3143 01f0 0A44     		add	r2, r2, r1
 3144 01f2 02F53062 		add	r2, r2, #2816
 3145 01f6 23F0FF53 		bic	r3, r3, #534773760
 3146 01fa 23F4C013 		bic	r3, r3, #1572864
 3147 01fe 1361     		str	r3, [r2, #16]
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (ep->xfer_len > 0U)
 3148              		.loc 1 923 11
 3149 0200 BB68     		ldr	r3, [r7, #8]
 3150 0202 5B69     		ldr	r3, [r3, #20]
 3151              		.loc 1 923 8
 3152 0204 002B     		cmp	r3, #0
 3153 0206 03D0     		beq	.L141
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ep->xfer_len = ep->maxpacket;
 3154              		.loc 1 925 24
 3155 0208 BB68     		ldr	r3, [r7, #8]
 3156 020a 9A68     		ldr	r2, [r3, #8]
 3157              		.loc 1 925 20
 3158 020c BB68     		ldr	r3, [r7, #8]
 3159 020e 5A61     		str	r2, [r3, #20]
 3160              	.L141:
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 3161              		.loc 1 928 33
 3162 0210 3B69     		ldr	r3, [r7, #16]
 3163 0212 5A01     		lsls	r2, r3, #5
 3164 0214 7B69     		ldr	r3, [r7, #20]
 3165 0216 1344     		add	r3, r3, r2
 3166 0218 03F53063 		add	r3, r3, #2816
 3167 021c 1B69     		ldr	r3, [r3, #16]
 3168 021e 3A69     		ldr	r2, [r7, #16]
 3169 0220 5101     		lsls	r1, r2, #5
 3170 0222 7A69     		ldr	r2, [r7, #20]
 3171 0224 0A44     		add	r2, r2, r1
 3172 0226 02F53062 		add	r2, r2, #2816
 3173 022a 43F40023 		orr	r3, r3, #524288
 3174 022e 1361     		str	r3, [r2, #16]
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_XFRSIZ & (ep->maxpacket));
 3175              		.loc 1 929 33
 3176 0230 3B69     		ldr	r3, [r7, #16]
 3177 0232 5A01     		lsls	r2, r3, #5
 3178 0234 7B69     		ldr	r3, [r7, #20]
 3179 0236 1344     		add	r3, r3, r2
 3180 0238 03F53063 		add	r3, r3, #2816
 3181 023c 1A69     		ldr	r2, [r3, #16]
 3182              		.loc 1 929 66
 3183 023e BB68     		ldr	r3, [r7, #8]
 3184 0240 9B68     		ldr	r3, [r3, #8]
 3185              		.loc 1 929 61
 3186 0242 C3F31203 		ubfx	r3, r3, #0, #19
 3187              		.loc 1 929 33
 3188 0246 3969     		ldr	r1, [r7, #16]
 3189 0248 4801     		lsls	r0, r1, #5
 3190 024a 7969     		ldr	r1, [r7, #20]
ARM GAS  /tmp/ccaXZQ0T.s 			page 73


 3191 024c 0144     		add	r1, r1, r0
 3192 024e 01F53061 		add	r1, r1, #2816
 3193 0252 1343     		orrs	r3, r3, r2
 3194 0254 0B61     		str	r3, [r1, #16]
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (dma == 1U)
 3195              		.loc 1 931 8
 3196 0256 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3197 0258 012B     		cmp	r3, #1
 3198 025a 0DD1     		bne	.L142
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((uint32_t)ep->xfer_buff != 0U)
 3199              		.loc 1 933 23
 3200 025c BB68     		ldr	r3, [r7, #8]
 3201 025e DB68     		ldr	r3, [r3, #12]
 3202              		.loc 1 933 10
 3203 0260 002B     		cmp	r3, #0
 3204 0262 09D0     		beq	.L142
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_OUTEP(epnum)->DOEPDMA = (uint32_t)(ep->xfer_buff);
 3205              		.loc 1 935 51
 3206 0264 BB68     		ldr	r3, [r7, #8]
 3207 0266 D968     		ldr	r1, [r3, #12]
 3208              		.loc 1 935 9
 3209 0268 3B69     		ldr	r3, [r7, #16]
 3210 026a 5A01     		lsls	r2, r3, #5
 3211 026c 7B69     		ldr	r3, [r7, #20]
 3212 026e 1344     		add	r3, r3, r2
 3213 0270 03F53063 		add	r3, r3, #2816
 3214              		.loc 1 935 38
 3215 0274 0A46     		mov	r2, r1
 3216              		.loc 1 935 36
 3217 0276 5A61     		str	r2, [r3, #20]
 3218              	.L142:
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= (USB_OTG_DOEPCTL_CNAK | USB_OTG_DOEPCTL_EPENA);
 3219              		.loc 1 940 32
 3220 0278 3B69     		ldr	r3, [r7, #16]
 3221 027a 5A01     		lsls	r2, r3, #5
 3222 027c 7B69     		ldr	r3, [r7, #20]
 3223 027e 1344     		add	r3, r3, r2
 3224 0280 03F53063 		add	r3, r3, #2816
 3225 0284 1B68     		ldr	r3, [r3]
 3226 0286 3A69     		ldr	r2, [r7, #16]
 3227 0288 5101     		lsls	r1, r2, #5
 3228 028a 7A69     		ldr	r2, [r7, #20]
 3229 028c 0A44     		add	r2, r2, r1
 3230 028e 02F53062 		add	r2, r2, #2816
 3231 0292 43F00443 		orr	r3, r3, #-2080374784
 3232 0296 1360     		str	r3, [r2]
 3233              	.L140:
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /tmp/ccaXZQ0T.s 			page 74


 3234              		.loc 1 943 10
 3235 0298 0023     		movs	r3, #0
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3236              		.loc 1 944 1
 3237 029a 1846     		mov	r0, r3
 3238 029c 1C37     		adds	r7, r7, #28
 3239              	.LCFI95:
 3240              		.cfi_def_cfa_offset 4
 3241 029e BD46     		mov	sp, r7
 3242              	.LCFI96:
 3243              		.cfi_def_cfa_register 13
 3244              		@ sp needed
 3245 02a0 5DF8047B 		ldr	r7, [sp], #4
 3246              	.LCFI97:
 3247              		.cfi_restore 7
 3248              		.cfi_def_cfa_offset 0
 3249 02a4 7047     		bx	lr
 3250              		.cfi_endproc
 3251              	.LFE145:
 3253              		.section	.text.USB_WritePacket,"ax",%progbits
 3254              		.align	1
 3255              		.global	USB_WritePacket
 3256              		.syntax unified
 3257              		.thumb
 3258              		.thumb_func
 3259              		.fpu fpv4-sp-d16
 3261              	USB_WritePacket:
 3262              	.LFB146:
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_WritePacket : Writes a packet into the Tx FIFO associated
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         with the EP/channel
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  src   pointer to source buffer
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_ep_num  endpoint or host channel number
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to write
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_WritePacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *src, uint8_t ch_ep_num, uin
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3263              		.loc 1 960 1
 3264              		.cfi_startproc
 3265              		@ args = 4, pretend = 0, frame = 32
 3266              		@ frame_needed = 1, uses_anonymous_args = 0
 3267              		@ link register save eliminated.
 3268 0000 80B4     		push	{r7}
 3269              	.LCFI98:
 3270              		.cfi_def_cfa_offset 4
 3271              		.cfi_offset 7, -4
 3272 0002 89B0     		sub	sp, sp, #36
 3273              	.LCFI99:
 3274              		.cfi_def_cfa_offset 40
 3275 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccaXZQ0T.s 			page 75


 3276              	.LCFI100:
 3277              		.cfi_def_cfa_register 7
 3278 0006 F860     		str	r0, [r7, #12]
 3279 0008 B960     		str	r1, [r7, #8]
 3280 000a 1146     		mov	r1, r2
 3281 000c 1A46     		mov	r2, r3
 3282 000e 0B46     		mov	r3, r1
 3283 0010 FB71     		strb	r3, [r7, #7]
 3284 0012 1346     		mov	r3, r2	@ movhi
 3285 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3286              		.loc 1 961 12
 3287 0016 FB68     		ldr	r3, [r7, #12]
 3288 0018 7B61     		str	r3, [r7, #20]
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t *pSrc = (uint32_t *)src;
 3289              		.loc 1 962 13
 3290 001a BB68     		ldr	r3, [r7, #8]
 3291 001c FB61     		str	r3, [r7, #28]
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b, i;
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U)
 3292              		.loc 1 965 6
 3293 001e 97F82830 		ldrb	r3, [r7, #40]	@ zero_extendqisi2
 3294 0022 002B     		cmp	r3, #0
 3295 0024 1AD1     		bne	.L145
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     count32b = ((uint32_t)len + 3U) / 4U;
 3296              		.loc 1 967 17
 3297 0026 BB88     		ldrh	r3, [r7, #4]
 3298              		.loc 1 967 31
 3299 0028 0333     		adds	r3, r3, #3
 3300              		.loc 1 967 14
 3301 002a 9B08     		lsrs	r3, r3, #2
 3302 002c 3B61     		str	r3, [r7, #16]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3303              		.loc 1 968 12
 3304 002e 0023     		movs	r3, #0
 3305 0030 BB61     		str	r3, [r7, #24]
 3306              		.loc 1 968 5
 3307 0032 0FE0     		b	.L146
 3308              	.L147:
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_DFIFO((uint32_t)ch_ep_num) = __UNALIGNED_UINT32_READ(pSrc);
 3309              		.loc 1 970 7 discriminator 3
 3310 0034 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 3311 0036 1A03     		lsls	r2, r3, #12
 3312 0038 7B69     		ldr	r3, [r7, #20]
 3313 003a 1344     		add	r3, r3, r2
 3314 003c 03F58053 		add	r3, r3, #4096
 3315 0040 1A46     		mov	r2, r3
 3316              		.loc 1 970 41 discriminator 3
 3317 0042 FB69     		ldr	r3, [r7, #28]
 3318 0044 1B68     		ldr	r3, [r3]	@ unaligned
 3319              		.loc 1 970 39 discriminator 3
 3320 0046 1360     		str	r3, [r2]
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       pSrc++;
 3321              		.loc 1 971 11 discriminator 3
ARM GAS  /tmp/ccaXZQ0T.s 			page 76


 3322 0048 FB69     		ldr	r3, [r7, #28]
 3323 004a 0433     		adds	r3, r3, #4
 3324 004c FB61     		str	r3, [r7, #28]
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3325              		.loc 1 968 33 discriminator 3
 3326 004e BB69     		ldr	r3, [r7, #24]
 3327 0050 0133     		adds	r3, r3, #1
 3328 0052 BB61     		str	r3, [r7, #24]
 3329              	.L146:
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     for (i = 0U; i < count32b; i++)
 3330              		.loc 1 968 5 discriminator 1
 3331 0054 BA69     		ldr	r2, [r7, #24]
 3332 0056 3B69     		ldr	r3, [r7, #16]
 3333 0058 9A42     		cmp	r2, r3
 3334 005a EBD3     		bcc	.L147
 3335              	.L145:
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3336              		.loc 1 975 10
 3337 005c 0023     		movs	r3, #0
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3338              		.loc 1 976 1
 3339 005e 1846     		mov	r0, r3
 3340 0060 2437     		adds	r7, r7, #36
 3341              	.LCFI101:
 3342              		.cfi_def_cfa_offset 4
 3343 0062 BD46     		mov	sp, r7
 3344              	.LCFI102:
 3345              		.cfi_def_cfa_register 13
 3346              		@ sp needed
 3347 0064 5DF8047B 		ldr	r7, [sp], #4
 3348              	.LCFI103:
 3349              		.cfi_restore 7
 3350              		.cfi_def_cfa_offset 0
 3351 0068 7047     		bx	lr
 3352              		.cfi_endproc
 3353              	.LFE146:
 3355              		.section	.text.USB_ReadPacket,"ax",%progbits
 3356              		.align	1
 3357              		.global	USB_ReadPacket
 3358              		.syntax unified
 3359              		.thumb
 3360              		.thumb_func
 3361              		.fpu fpv4-sp-d16
 3363              	USB_ReadPacket:
 3364              	.LFB147:
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadPacket : read a packet from the RX FIFO
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dest  source pointer
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  len  Number of bytes to read
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval pointer to destination buffer
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void *USB_ReadPacket(USB_OTG_GlobalTypeDef *USBx, uint8_t *dest, uint16_t len)
ARM GAS  /tmp/ccaXZQ0T.s 			page 77


 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3365              		.loc 1 986 1
 3366              		.cfi_startproc
 3367              		@ args = 0, pretend = 0, frame = 32
 3368              		@ frame_needed = 1, uses_anonymous_args = 0
 3369              		@ link register save eliminated.
 3370 0000 80B4     		push	{r7}
 3371              	.LCFI104:
 3372              		.cfi_def_cfa_offset 4
 3373              		.cfi_offset 7, -4
 3374 0002 89B0     		sub	sp, sp, #36
 3375              	.LCFI105:
 3376              		.cfi_def_cfa_offset 40
 3377 0004 00AF     		add	r7, sp, #0
 3378              	.LCFI106:
 3379              		.cfi_def_cfa_register 7
 3380 0006 F860     		str	r0, [r7, #12]
 3381 0008 B960     		str	r1, [r7, #8]
 3382 000a 1346     		mov	r3, r2
 3383 000c FB80     		strh	r3, [r7, #6]	@ movhi
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3384              		.loc 1 987 12
 3385 000e FB68     		ldr	r3, [r7, #12]
 3386 0010 7B61     		str	r3, [r7, #20]
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t *pDest = (uint32_t *)dest;
 3387              		.loc 1 988 13
 3388 0012 BB68     		ldr	r3, [r7, #8]
 3389 0014 FB61     		str	r3, [r7, #28]
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count32b = ((uint32_t)len + 3U) / 4U;
 3390              		.loc 1 990 24
 3391 0016 FB88     		ldrh	r3, [r7, #6]
 3392              		.loc 1 990 38
 3393 0018 0333     		adds	r3, r3, #3
 3394              		.loc 1 990 12
 3395 001a 9B08     		lsrs	r3, r3, #2
 3396 001c 3B61     		str	r3, [r7, #16]
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < count32b; i++)
 3397              		.loc 1 992 10
 3398 001e 0023     		movs	r3, #0
 3399 0020 BB61     		str	r3, [r7, #24]
 3400              		.loc 1 992 3
 3401 0022 0BE0     		b	.L150
 3402              	.L151:
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     __UNALIGNED_UINT32_WRITE(pDest, USBx_DFIFO(0U));
 3403              		.loc 1 994 5 discriminator 3
 3404 0024 7B69     		ldr	r3, [r7, #20]
 3405 0026 03F58053 		add	r3, r3, #4096
 3406 002a 1A68     		ldr	r2, [r3]
 3407 002c FB69     		ldr	r3, [r7, #28]
 3408 002e 1A60     		str	r2, [r3]	@ unaligned
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     pDest++;
 3409              		.loc 1 995 10 discriminator 3
 3410 0030 FB69     		ldr	r3, [r7, #28]
 3411 0032 0433     		adds	r3, r3, #4
ARM GAS  /tmp/ccaXZQ0T.s 			page 78


 3412 0034 FB61     		str	r3, [r7, #28]
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3413              		.loc 1 992 31 discriminator 3
 3414 0036 BB69     		ldr	r3, [r7, #24]
 3415 0038 0133     		adds	r3, r3, #1
 3416 003a BB61     		str	r3, [r7, #24]
 3417              	.L150:
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3418              		.loc 1 992 3 discriminator 1
 3419 003c BA69     		ldr	r2, [r7, #24]
 3420 003e 3B69     		ldr	r3, [r7, #16]
 3421 0040 9A42     		cmp	r2, r3
 3422 0042 EFD3     		bcc	.L151
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((void *)pDest);
 3423              		.loc 1 998 11
 3424 0044 FB69     		ldr	r3, [r7, #28]
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3425              		.loc 1 999 1
 3426 0046 1846     		mov	r0, r3
 3427 0048 2437     		adds	r7, r7, #36
 3428              	.LCFI107:
 3429              		.cfi_def_cfa_offset 4
 3430 004a BD46     		mov	sp, r7
 3431              	.LCFI108:
 3432              		.cfi_def_cfa_register 13
 3433              		@ sp needed
 3434 004c 5DF8047B 		ldr	r7, [sp], #4
 3435              	.LCFI109:
 3436              		.cfi_restore 7
 3437              		.cfi_def_cfa_offset 0
 3438 0050 7047     		bx	lr
 3439              		.cfi_endproc
 3440              	.LFE147:
 3442              		.section	.text.USB_EPSetStall,"ax",%progbits
 3443              		.align	1
 3444              		.global	USB_EPSetStall
 3445              		.syntax unified
 3446              		.thumb
 3447              		.thumb_func
 3448              		.fpu fpv4-sp-d16
 3450              	USB_EPSetStall:
 3451              	.LFB148:
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPSetStall : set a stall condition over an EP
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPSetStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3452              		.loc 1 1008 1
 3453              		.cfi_startproc
 3454              		@ args = 0, pretend = 0, frame = 16
 3455              		@ frame_needed = 1, uses_anonymous_args = 0
ARM GAS  /tmp/ccaXZQ0T.s 			page 79


 3456              		@ link register save eliminated.
 3457 0000 80B4     		push	{r7}
 3458              	.LCFI110:
 3459              		.cfi_def_cfa_offset 4
 3460              		.cfi_offset 7, -4
 3461 0002 85B0     		sub	sp, sp, #20
 3462              	.LCFI111:
 3463              		.cfi_def_cfa_offset 24
 3464 0004 00AF     		add	r7, sp, #0
 3465              	.LCFI112:
 3466              		.cfi_def_cfa_register 7
 3467 0006 7860     		str	r0, [r7, #4]
 3468 0008 3960     		str	r1, [r7]
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3469              		.loc 1 1009 12
 3470 000a 7B68     		ldr	r3, [r7, #4]
 3471 000c FB60     		str	r3, [r7, #12]
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3472              		.loc 1 1010 32
 3473 000e 3B68     		ldr	r3, [r7]
 3474 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3475              		.loc 1 1010 12
 3476 0012 BB60     		str	r3, [r7, #8]
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3477              		.loc 1 1012 9
 3478 0014 3B68     		ldr	r3, [r7]
 3479 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3480              		.loc 1 1012 6
 3481 0018 012B     		cmp	r3, #1
 3482 001a 2CD1     		bne	.L154
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_INEP(epnum)->DIEPCTL & USB_OTG_DIEPCTL_EPENA) == 0U) && (epnum != 0U))
 3483              		.loc 1 1014 11
 3484 001c BB68     		ldr	r3, [r7, #8]
 3485 001e 5A01     		lsls	r2, r3, #5
 3486 0020 FB68     		ldr	r3, [r7, #12]
 3487 0022 1344     		add	r3, r3, r2
 3488 0024 03F51063 		add	r3, r3, #2304
 3489              		.loc 1 1014 27
 3490 0028 1B68     		ldr	r3, [r3]
 3491              		.loc 1 1014 8
 3492 002a 002B     		cmp	r3, #0
 3493 002c 12DB     		blt	.L155
 3494              		.loc 1 1014 69 discriminator 1
 3495 002e BB68     		ldr	r3, [r7, #8]
 3496 0030 002B     		cmp	r3, #0
 3497 0032 0FD0     		beq	.L155
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL &= ~(USB_OTG_DIEPCTL_EPDIS);
 3498              		.loc 1 1016 33
 3499 0034 BB68     		ldr	r3, [r7, #8]
 3500 0036 5A01     		lsls	r2, r3, #5
 3501 0038 FB68     		ldr	r3, [r7, #12]
 3502 003a 1344     		add	r3, r3, r2
 3503 003c 03F51063 		add	r3, r3, #2304
 3504 0040 1B68     		ldr	r3, [r3]
ARM GAS  /tmp/ccaXZQ0T.s 			page 80


 3505 0042 BA68     		ldr	r2, [r7, #8]
 3506 0044 5101     		lsls	r1, r2, #5
 3507 0046 FA68     		ldr	r2, [r7, #12]
 3508 0048 0A44     		add	r2, r2, r1
 3509 004a 02F51062 		add	r2, r2, #2304
 3510 004e 23F08043 		bic	r3, r3, #1073741824
 3511 0052 1360     		str	r3, [r2]
 3512              	.L155:
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_STALL;
 3513              		.loc 1 1018 31
 3514 0054 BB68     		ldr	r3, [r7, #8]
 3515 0056 5A01     		lsls	r2, r3, #5
 3516 0058 FB68     		ldr	r3, [r7, #12]
 3517 005a 1344     		add	r3, r3, r2
 3518 005c 03F51063 		add	r3, r3, #2304
 3519 0060 1B68     		ldr	r3, [r3]
 3520 0062 BA68     		ldr	r2, [r7, #8]
 3521 0064 5101     		lsls	r1, r2, #5
 3522 0066 FA68     		ldr	r2, [r7, #12]
 3523 0068 0A44     		add	r2, r2, r1
 3524 006a 02F51062 		add	r2, r2, #2304
 3525 006e 43F40013 		orr	r3, r3, #2097152
 3526 0072 1360     		str	r3, [r2]
 3527 0074 2BE0     		b	.L156
 3528              	.L154:
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (((USBx_OUTEP(epnum)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == 0U) && (epnum != 0U))
 3529              		.loc 1 1022 11
 3530 0076 BB68     		ldr	r3, [r7, #8]
 3531 0078 5A01     		lsls	r2, r3, #5
 3532 007a FB68     		ldr	r3, [r7, #12]
 3533 007c 1344     		add	r3, r3, r2
 3534 007e 03F53063 		add	r3, r3, #2816
 3535              		.loc 1 1022 28
 3536 0082 1B68     		ldr	r3, [r3]
 3537              		.loc 1 1022 8
 3538 0084 002B     		cmp	r3, #0
 3539 0086 12DB     		blt	.L157
 3540              		.loc 1 1022 70 discriminator 1
 3541 0088 BB68     		ldr	r3, [r7, #8]
 3542 008a 002B     		cmp	r3, #0
 3543 008c 0FD0     		beq	.L157
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL &= ~(USB_OTG_DOEPCTL_EPDIS);
 3544              		.loc 1 1024 34
 3545 008e BB68     		ldr	r3, [r7, #8]
 3546 0090 5A01     		lsls	r2, r3, #5
 3547 0092 FB68     		ldr	r3, [r7, #12]
 3548 0094 1344     		add	r3, r3, r2
 3549 0096 03F53063 		add	r3, r3, #2816
 3550 009a 1B68     		ldr	r3, [r3]
 3551 009c BA68     		ldr	r2, [r7, #8]
 3552 009e 5101     		lsls	r1, r2, #5
 3553 00a0 FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 81


 3554 00a2 0A44     		add	r2, r2, r1
 3555 00a4 02F53062 		add	r2, r2, #2816
 3556 00a8 23F08043 		bic	r3, r3, #1073741824
 3557 00ac 1360     		str	r3, [r2]
 3558              	.L157:
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_STALL;
 3559              		.loc 1 1026 32
 3560 00ae BB68     		ldr	r3, [r7, #8]
 3561 00b0 5A01     		lsls	r2, r3, #5
 3562 00b2 FB68     		ldr	r3, [r7, #12]
 3563 00b4 1344     		add	r3, r3, r2
 3564 00b6 03F53063 		add	r3, r3, #2816
 3565 00ba 1B68     		ldr	r3, [r3]
 3566 00bc BA68     		ldr	r2, [r7, #8]
 3567 00be 5101     		lsls	r1, r2, #5
 3568 00c0 FA68     		ldr	r2, [r7, #12]
 3569 00c2 0A44     		add	r2, r2, r1
 3570 00c4 02F53062 		add	r2, r2, #2816
 3571 00c8 43F40013 		orr	r3, r3, #2097152
 3572 00cc 1360     		str	r3, [r2]
 3573              	.L156:
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3574              		.loc 1 1029 10
 3575 00ce 0023     		movs	r3, #0
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3576              		.loc 1 1030 1
 3577 00d0 1846     		mov	r0, r3
 3578 00d2 1437     		adds	r7, r7, #20
 3579              	.LCFI113:
 3580              		.cfi_def_cfa_offset 4
 3581 00d4 BD46     		mov	sp, r7
 3582              	.LCFI114:
 3583              		.cfi_def_cfa_register 13
 3584              		@ sp needed
 3585 00d6 5DF8047B 		ldr	r7, [sp], #4
 3586              	.LCFI115:
 3587              		.cfi_restore 7
 3588              		.cfi_def_cfa_offset 0
 3589 00da 7047     		bx	lr
 3590              		.cfi_endproc
 3591              	.LFE148:
 3593              		.section	.text.USB_EPClearStall,"ax",%progbits
 3594              		.align	1
 3595              		.global	USB_EPClearStall
 3596              		.syntax unified
 3597              		.thumb
 3598              		.thumb_func
 3599              		.fpu fpv4-sp-d16
 3601              	USB_EPClearStall:
 3602              	.LFB149:
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_EPClearStall : Clear a stall condition over an EP
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
ARM GAS  /tmp/ccaXZQ0T.s 			page 82


1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep pointer to endpoint structure
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EPClearStall(USB_OTG_GlobalTypeDef *USBx, USB_OTG_EPTypeDef *ep)
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3603              		.loc 1 1039 1
 3604              		.cfi_startproc
 3605              		@ args = 0, pretend = 0, frame = 16
 3606              		@ frame_needed = 1, uses_anonymous_args = 0
 3607              		@ link register save eliminated.
 3608 0000 80B4     		push	{r7}
 3609              	.LCFI116:
 3610              		.cfi_def_cfa_offset 4
 3611              		.cfi_offset 7, -4
 3612 0002 85B0     		sub	sp, sp, #20
 3613              	.LCFI117:
 3614              		.cfi_def_cfa_offset 24
 3615 0004 00AF     		add	r7, sp, #0
 3616              	.LCFI118:
 3617              		.cfi_def_cfa_register 7
 3618 0006 7860     		str	r0, [r7, #4]
 3619 0008 3960     		str	r1, [r7]
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3620              		.loc 1 1040 12
 3621 000a 7B68     		ldr	r3, [r7, #4]
 3622 000c FB60     		str	r3, [r7, #12]
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t epnum = (uint32_t)ep->num;
 3623              		.loc 1 1041 32
 3624 000e 3B68     		ldr	r3, [r7]
 3625 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 3626              		.loc 1 1041 12
 3627 0012 BB60     		str	r3, [r7, #8]
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep->is_in == 1U)
 3628              		.loc 1 1043 9
 3629 0014 3B68     		ldr	r3, [r7]
 3630 0016 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3631              		.loc 1 1043 6
 3632 0018 012B     		cmp	r3, #1
 3633 001a 28D1     		bne	.L160
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(epnum)->DIEPCTL &= ~USB_OTG_DIEPCTL_STALL;
 3634              		.loc 1 1045 31
 3635 001c BB68     		ldr	r3, [r7, #8]
 3636 001e 5A01     		lsls	r2, r3, #5
 3637 0020 FB68     		ldr	r3, [r7, #12]
 3638 0022 1344     		add	r3, r3, r2
 3639 0024 03F51063 		add	r3, r3, #2304
 3640 0028 1B68     		ldr	r3, [r3]
 3641 002a BA68     		ldr	r2, [r7, #8]
 3642 002c 5101     		lsls	r1, r2, #5
 3643 002e FA68     		ldr	r2, [r7, #12]
 3644 0030 0A44     		add	r2, r2, r1
 3645 0032 02F51062 		add	r2, r2, #2304
 3646 0036 23F40013 		bic	r3, r3, #2097152
 3647 003a 1360     		str	r3, [r2]
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
ARM GAS  /tmp/ccaXZQ0T.s 			page 83


 3648              		.loc 1 1046 12
 3649 003c 3B68     		ldr	r3, [r7]
 3650 003e DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3651              		.loc 1 1046 8
 3652 0040 032B     		cmp	r3, #3
 3653 0042 03D0     		beq	.L161
 3654              		.loc 1 1046 42 discriminator 1
 3655 0044 3B68     		ldr	r3, [r7]
 3656 0046 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3657              		.loc 1 1046 36 discriminator 1
 3658 0048 022B     		cmp	r3, #2
 3659 004a 38D1     		bne	.L163
 3660              	.L161:
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_INEP(epnum)->DIEPCTL |= USB_OTG_DIEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3661              		.loc 1 1048 33
 3662 004c BB68     		ldr	r3, [r7, #8]
 3663 004e 5A01     		lsls	r2, r3, #5
 3664 0050 FB68     		ldr	r3, [r7, #12]
 3665 0052 1344     		add	r3, r3, r2
 3666 0054 03F51063 		add	r3, r3, #2304
 3667 0058 1B68     		ldr	r3, [r3]
 3668 005a BA68     		ldr	r2, [r7, #8]
 3669 005c 5101     		lsls	r1, r2, #5
 3670 005e FA68     		ldr	r2, [r7, #12]
 3671 0060 0A44     		add	r2, r2, r1
 3672 0062 02F51062 		add	r2, r2, #2304
 3673 0066 43F08053 		orr	r3, r3, #268435456
 3674 006a 1360     		str	r3, [r2]
 3675 006c 27E0     		b	.L163
 3676              	.L160:
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(epnum)->DOEPCTL &= ~USB_OTG_DOEPCTL_STALL;
 3677              		.loc 1 1053 32
 3678 006e BB68     		ldr	r3, [r7, #8]
 3679 0070 5A01     		lsls	r2, r3, #5
 3680 0072 FB68     		ldr	r3, [r7, #12]
 3681 0074 1344     		add	r3, r3, r2
 3682 0076 03F53063 		add	r3, r3, #2816
 3683 007a 1B68     		ldr	r3, [r3]
 3684 007c BA68     		ldr	r2, [r7, #8]
 3685 007e 5101     		lsls	r1, r2, #5
 3686 0080 FA68     		ldr	r2, [r7, #12]
 3687 0082 0A44     		add	r2, r2, r1
 3688 0084 02F53062 		add	r2, r2, #2816
 3689 0088 23F40013 		bic	r3, r3, #2097152
 3690 008c 1360     		str	r3, [r2]
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((ep->type == EP_TYPE_INTR) || (ep->type == EP_TYPE_BULK))
 3691              		.loc 1 1054 12
 3692 008e 3B68     		ldr	r3, [r7]
 3693 0090 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3694              		.loc 1 1054 8
 3695 0092 032B     		cmp	r3, #3
 3696 0094 03D0     		beq	.L164
ARM GAS  /tmp/ccaXZQ0T.s 			page 84


 3697              		.loc 1 1054 42 discriminator 1
 3698 0096 3B68     		ldr	r3, [r7]
 3699 0098 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 3700              		.loc 1 1054 36 discriminator 1
 3701 009a 022B     		cmp	r3, #2
 3702 009c 0FD1     		bne	.L163
 3703              	.L164:
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_OUTEP(epnum)->DOEPCTL |= USB_OTG_DOEPCTL_SD0PID_SEVNFRM; /* DATA0 */
 3704              		.loc 1 1056 34
 3705 009e BB68     		ldr	r3, [r7, #8]
 3706 00a0 5A01     		lsls	r2, r3, #5
 3707 00a2 FB68     		ldr	r3, [r7, #12]
 3708 00a4 1344     		add	r3, r3, r2
 3709 00a6 03F53063 		add	r3, r3, #2816
 3710 00aa 1B68     		ldr	r3, [r3]
 3711 00ac BA68     		ldr	r2, [r7, #8]
 3712 00ae 5101     		lsls	r1, r2, #5
 3713 00b0 FA68     		ldr	r2, [r7, #12]
 3714 00b2 0A44     		add	r2, r2, r1
 3715 00b4 02F53062 		add	r2, r2, #2816
 3716 00b8 43F08053 		orr	r3, r3, #268435456
 3717 00bc 1360     		str	r3, [r2]
 3718              	.L163:
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3719              		.loc 1 1059 10
 3720 00be 0023     		movs	r3, #0
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3721              		.loc 1 1060 1
 3722 00c0 1846     		mov	r0, r3
 3723 00c2 1437     		adds	r7, r7, #20
 3724              	.LCFI119:
 3725              		.cfi_def_cfa_offset 4
 3726 00c4 BD46     		mov	sp, r7
 3727              	.LCFI120:
 3728              		.cfi_def_cfa_register 13
 3729              		@ sp needed
 3730 00c6 5DF8047B 		ldr	r7, [sp], #4
 3731              	.LCFI121:
 3732              		.cfi_restore 7
 3733              		.cfi_def_cfa_offset 0
 3734 00ca 7047     		bx	lr
 3735              		.cfi_endproc
 3736              	.LFE149:
 3738              		.section	.text.USB_StopDevice,"ax",%progbits
 3739              		.align	1
 3740              		.global	USB_StopDevice
 3741              		.syntax unified
 3742              		.thumb
 3743              		.thumb_func
 3744              		.fpu fpv4-sp-d16
 3746              	USB_StopDevice:
 3747              	.LFB150:
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
ARM GAS  /tmp/ccaXZQ0T.s 			page 85


1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_StopDevice : Stop the usb device mode
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopDevice(USB_OTG_GlobalTypeDef *USBx)
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3748              		.loc 1 1068 1
 3749              		.cfi_startproc
 3750              		@ args = 0, pretend = 0, frame = 24
 3751              		@ frame_needed = 1, uses_anonymous_args = 0
 3752 0000 80B5     		push	{r7, lr}
 3753              	.LCFI122:
 3754              		.cfi_def_cfa_offset 8
 3755              		.cfi_offset 7, -8
 3756              		.cfi_offset 14, -4
 3757 0002 86B0     		sub	sp, sp, #24
 3758              	.LCFI123:
 3759              		.cfi_def_cfa_offset 32
 3760 0004 00AF     		add	r7, sp, #0
 3761              	.LCFI124:
 3762              		.cfi_def_cfa_register 7
 3763 0006 7860     		str	r0, [r7, #4]
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret;
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3764              		.loc 1 1070 12
 3765 0008 7B68     		ldr	r3, [r7, #4]
 3766 000a 3B61     		str	r3, [r7, #16]
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear Pending interrupt */
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < 15U; i++)
 3767              		.loc 1 1074 10
 3768 000c 0023     		movs	r3, #0
 3769 000e 7B61     		str	r3, [r7, #20]
 3770              		.loc 1 1074 3
 3771 0010 16E0     		b	.L167
 3772              	.L168:
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_INEP(i)->DIEPINT = 0xFB7FU;
 3773              		.loc 1 1076 5 discriminator 3
 3774 0012 7B69     		ldr	r3, [r7, #20]
 3775 0014 5A01     		lsls	r2, r3, #5
 3776 0016 3B69     		ldr	r3, [r7, #16]
 3777 0018 1344     		add	r3, r3, r2
 3778 001a 03F51063 		add	r3, r3, #2304
 3779 001e 1A46     		mov	r2, r3
 3780              		.loc 1 1076 27 discriminator 3
 3781 0020 4FF67F33 		movw	r3, #64383
 3782 0024 9360     		str	r3, [r2, #8]
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(i)->DOEPINT = 0xFB7FU;
 3783              		.loc 1 1077 5 discriminator 3
 3784 0026 7B69     		ldr	r3, [r7, #20]
 3785 0028 5A01     		lsls	r2, r3, #5
 3786 002a 3B69     		ldr	r3, [r7, #16]
 3787 002c 1344     		add	r3, r3, r2
 3788 002e 03F53063 		add	r3, r3, #2816
 3789 0032 1A46     		mov	r2, r3
ARM GAS  /tmp/ccaXZQ0T.s 			page 86


 3790              		.loc 1 1077 28 discriminator 3
 3791 0034 4FF67F33 		movw	r3, #64383
 3792 0038 9360     		str	r3, [r2, #8]
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3793              		.loc 1 1074 26 discriminator 3
 3794 003a 7B69     		ldr	r3, [r7, #20]
 3795 003c 0133     		adds	r3, r3, #1
 3796 003e 7B61     		str	r3, [r7, #20]
 3797              	.L167:
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 3798              		.loc 1 1074 3 discriminator 1
 3799 0040 7B69     		ldr	r3, [r7, #20]
 3800 0042 0E2B     		cmp	r3, #14
 3801 0044 E5D9     		bls	.L168
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear interrupt masks */
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DIEPMSK  = 0U;
 3802              		.loc 1 1081 3
 3803 0046 3B69     		ldr	r3, [r7, #16]
 3804 0048 03F50063 		add	r3, r3, #2048
 3805 004c 1A46     		mov	r2, r3
 3806              		.loc 1 1081 25
 3807 004e 0023     		movs	r3, #0
 3808 0050 1361     		str	r3, [r2, #16]
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DOEPMSK  = 0U;
 3809              		.loc 1 1082 3
 3810 0052 3B69     		ldr	r3, [r7, #16]
 3811 0054 03F50063 		add	r3, r3, #2048
 3812 0058 1A46     		mov	r2, r3
 3813              		.loc 1 1082 25
 3814 005a 0023     		movs	r3, #0
 3815 005c 5361     		str	r3, [r2, #20]
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DAINTMSK = 0U;
 3816              		.loc 1 1083 3
 3817 005e 3B69     		ldr	r3, [r7, #16]
 3818 0060 03F50063 		add	r3, r3, #2048
 3819 0064 1A46     		mov	r2, r3
 3820              		.loc 1 1083 25
 3821 0066 0023     		movs	r3, #0
 3822 0068 D361     		str	r3, [r2, #28]
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush the FIFO */
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushRxFifo(USBx);
 3823              		.loc 1 1086 9
 3824 006a 7868     		ldr	r0, [r7, #4]
 3825 006c FFF7FEFF 		bl	USB_FlushRxFifo
 3826 0070 0346     		mov	r3, r0
 3827 0072 FB73     		strb	r3, [r7, #15]
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 3828              		.loc 1 1087 6
 3829 0074 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3830 0076 002B     		cmp	r3, #0
 3831 0078 01D0     		beq	.L169
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 3832              		.loc 1 1089 12
ARM GAS  /tmp/ccaXZQ0T.s 			page 87


 3833 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3834 007c 0BE0     		b	.L170
 3835              	.L169:
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   ret = USB_FlushTxFifo(USBx,  0x10U);
 3836              		.loc 1 1092 9
 3837 007e 1021     		movs	r1, #16
 3838 0080 7868     		ldr	r0, [r7, #4]
 3839 0082 FFF7FEFF 		bl	USB_FlushTxFifo
 3840 0086 0346     		mov	r3, r0
 3841 0088 FB73     		strb	r3, [r7, #15]
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ret != HAL_OK)
 3842              		.loc 1 1093 6
 3843 008a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3844 008c 002B     		cmp	r3, #0
 3845 008e 01D0     		beq	.L171
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     return ret;
 3846              		.loc 1 1095 12
 3847 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3848 0092 00E0     		b	.L170
 3849              	.L171:
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 3850              		.loc 1 1098 10
 3851 0094 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 3852              	.L170:
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3853              		.loc 1 1099 1
 3854 0096 1846     		mov	r0, r3
 3855 0098 1837     		adds	r7, r7, #24
 3856              	.LCFI125:
 3857              		.cfi_def_cfa_offset 8
 3858 009a BD46     		mov	sp, r7
 3859              	.LCFI126:
 3860              		.cfi_def_cfa_register 13
 3861              		@ sp needed
 3862 009c 80BD     		pop	{r7, pc}
 3863              		.cfi_endproc
 3864              	.LFE150:
 3866              		.section	.text.USB_SetDevAddress,"ax",%progbits
 3867              		.align	1
 3868              		.global	USB_SetDevAddress
 3869              		.syntax unified
 3870              		.thumb
 3871              		.thumb_func
 3872              		.fpu fpv4-sp-d16
 3874              	USB_SetDevAddress:
 3875              	.LFB151:
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_SetDevAddress : Stop the usb device mode
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  address  new device address to be assigned
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
ARM GAS  /tmp/ccaXZQ0T.s 			page 88


1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_SetDevAddress(USB_OTG_GlobalTypeDef *USBx, uint8_t address)
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3876              		.loc 1 1109 1
 3877              		.cfi_startproc
 3878              		@ args = 0, pretend = 0, frame = 16
 3879              		@ frame_needed = 1, uses_anonymous_args = 0
 3880              		@ link register save eliminated.
 3881 0000 80B4     		push	{r7}
 3882              	.LCFI127:
 3883              		.cfi_def_cfa_offset 4
 3884              		.cfi_offset 7, -4
 3885 0002 85B0     		sub	sp, sp, #20
 3886              	.LCFI128:
 3887              		.cfi_def_cfa_offset 24
 3888 0004 00AF     		add	r7, sp, #0
 3889              	.LCFI129:
 3890              		.cfi_def_cfa_register 7
 3891 0006 7860     		str	r0, [r7, #4]
 3892 0008 0B46     		mov	r3, r1
 3893 000a FB70     		strb	r3, [r7, #3]
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3894              		.loc 1 1110 12
 3895 000c 7B68     		ldr	r3, [r7, #4]
 3896 000e FB60     		str	r3, [r7, #12]
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG &= ~(USB_OTG_DCFG_DAD);
 3897              		.loc 1 1112 21
 3898 0010 FB68     		ldr	r3, [r7, #12]
 3899 0012 03F50063 		add	r3, r3, #2048
 3900 0016 1B68     		ldr	r3, [r3]
 3901 0018 FA68     		ldr	r2, [r7, #12]
 3902 001a 02F50062 		add	r2, r2, #2048
 3903 001e 23F4FE63 		bic	r3, r3, #2032
 3904 0022 1360     		str	r3, [r2]
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCFG |= ((uint32_t)address << 4) & USB_OTG_DCFG_DAD;
 3905              		.loc 1 1113 21
 3906 0024 FB68     		ldr	r3, [r7, #12]
 3907 0026 03F50063 		add	r3, r3, #2048
 3908 002a 1A68     		ldr	r2, [r3]
 3909              		.loc 1 1113 25
 3910 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 3911              		.loc 1 1113 43
 3912 002e 1B01     		lsls	r3, r3, #4
 3913              		.loc 1 1113 49
 3914 0030 03F4FE63 		and	r3, r3, #2032
 3915              		.loc 1 1113 21
 3916 0034 F968     		ldr	r1, [r7, #12]
 3917 0036 01F50061 		add	r1, r1, #2048
 3918 003a 1343     		orrs	r3, r3, r2
 3919 003c 0B60     		str	r3, [r1]
1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3920              		.loc 1 1115 10
 3921 003e 0023     		movs	r3, #0
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccaXZQ0T.s 			page 89


 3922              		.loc 1 1116 1
 3923 0040 1846     		mov	r0, r3
 3924 0042 1437     		adds	r7, r7, #20
 3925              	.LCFI130:
 3926              		.cfi_def_cfa_offset 4
 3927 0044 BD46     		mov	sp, r7
 3928              	.LCFI131:
 3929              		.cfi_def_cfa_register 13
 3930              		@ sp needed
 3931 0046 5DF8047B 		ldr	r7, [sp], #4
 3932              	.LCFI132:
 3933              		.cfi_restore 7
 3934              		.cfi_def_cfa_offset 0
 3935 004a 7047     		bx	lr
 3936              		.cfi_endproc
 3937              	.LFE151:
 3939              		.section	.text.USB_DevConnect,"ax",%progbits
 3940              		.align	1
 3941              		.global	USB_DevConnect
 3942              		.syntax unified
 3943              		.thumb
 3944              		.thumb_func
 3945              		.fpu fpv4-sp-d16
 3947              	USB_DevConnect:
 3948              	.LFB152:
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevConnect : Connect the USB device by enabling the pull-up/pull-down
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevConnect(USB_OTG_GlobalTypeDef *USBx)
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 3949              		.loc 1 1124 1
 3950              		.cfi_startproc
 3951              		@ args = 0, pretend = 0, frame = 16
 3952              		@ frame_needed = 1, uses_anonymous_args = 0
 3953 0000 80B5     		push	{r7, lr}
 3954              	.LCFI133:
 3955              		.cfi_def_cfa_offset 8
 3956              		.cfi_offset 7, -8
 3957              		.cfi_offset 14, -4
 3958 0002 84B0     		sub	sp, sp, #16
 3959              	.LCFI134:
 3960              		.cfi_def_cfa_offset 24
 3961 0004 00AF     		add	r7, sp, #0
 3962              	.LCFI135:
 3963              		.cfi_def_cfa_register 7
 3964 0006 7860     		str	r0, [r7, #4]
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 3965              		.loc 1 1125 12
 3966 0008 7B68     		ldr	r3, [r7, #4]
 3967 000a FB60     		str	r3, [r7, #12]
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~USB_OTG_DCTL_SDIS;
 3968              		.loc 1 1127 21
 3969 000c FB68     		ldr	r3, [r7, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 90


 3970 000e 03F50063 		add	r3, r3, #2048
 3971 0012 5B68     		ldr	r3, [r3, #4]
 3972 0014 FA68     		ldr	r2, [r7, #12]
 3973 0016 02F50062 		add	r2, r2, #2048
 3974 001a 23F00203 		bic	r3, r3, #2
 3975 001e 5360     		str	r3, [r2, #4]
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 3976              		.loc 1 1128 3
 3977 0020 0320     		movs	r0, #3
 3978 0022 FFF7FEFF 		bl	HAL_Delay
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 3979              		.loc 1 1130 10
 3980 0026 0023     		movs	r3, #0
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 3981              		.loc 1 1131 1
 3982 0028 1846     		mov	r0, r3
 3983 002a 1037     		adds	r7, r7, #16
 3984              	.LCFI136:
 3985              		.cfi_def_cfa_offset 8
 3986 002c BD46     		mov	sp, r7
 3987              	.LCFI137:
 3988              		.cfi_def_cfa_register 13
 3989              		@ sp needed
 3990 002e 80BD     		pop	{r7, pc}
 3991              		.cfi_endproc
 3992              	.LFE152:
 3994              		.section	.text.USB_DevDisconnect,"ax",%progbits
 3995              		.align	1
 3996              		.global	USB_DevDisconnect
 3997              		.syntax unified
 3998              		.thumb
 3999              		.thumb_func
 4000              		.fpu fpv4-sp-d16
 4002              	USB_DevDisconnect:
 4003              	.LFB153:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DevDisconnect : Disconnect the USB device by disabling the pull-up/pull-down
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_DevDisconnect(USB_OTG_GlobalTypeDef *USBx)
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4004              		.loc 1 1139 1
 4005              		.cfi_startproc
 4006              		@ args = 0, pretend = 0, frame = 16
 4007              		@ frame_needed = 1, uses_anonymous_args = 0
 4008 0000 80B5     		push	{r7, lr}
 4009              	.LCFI138:
 4010              		.cfi_def_cfa_offset 8
 4011              		.cfi_offset 7, -8
 4012              		.cfi_offset 14, -4
 4013 0002 84B0     		sub	sp, sp, #16
 4014              	.LCFI139:
 4015              		.cfi_def_cfa_offset 24
 4016 0004 00AF     		add	r7, sp, #0
ARM GAS  /tmp/ccaXZQ0T.s 			page 91


 4017              	.LCFI140:
 4018              		.cfi_def_cfa_register 7
 4019 0006 7860     		str	r0, [r7, #4]
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4020              		.loc 1 1140 12
 4021 0008 7B68     		ldr	r3, [r7, #4]
 4022 000a FB60     		str	r3, [r7, #12]
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_SDIS;
 4023              		.loc 1 1142 21
 4024 000c FB68     		ldr	r3, [r7, #12]
 4025 000e 03F50063 		add	r3, r3, #2048
 4026 0012 5B68     		ldr	r3, [r3, #4]
 4027 0014 FA68     		ldr	r2, [r7, #12]
 4028 0016 02F50062 		add	r2, r2, #2048
 4029 001a 43F00203 		orr	r3, r3, #2
 4030 001e 5360     		str	r3, [r2, #4]
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(3U);
 4031              		.loc 1 1143 3
 4032 0020 0320     		movs	r0, #3
 4033 0022 FFF7FEFF 		bl	HAL_Delay
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4034              		.loc 1 1145 10
 4035 0026 0023     		movs	r3, #0
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4036              		.loc 1 1146 1
 4037 0028 1846     		mov	r0, r3
 4038 002a 1037     		adds	r7, r7, #16
 4039              	.LCFI141:
 4040              		.cfi_def_cfa_offset 8
 4041 002c BD46     		mov	sp, r7
 4042              	.LCFI142:
 4043              		.cfi_def_cfa_register 13
 4044              		@ sp needed
 4045 002e 80BD     		pop	{r7, pc}
 4046              		.cfi_endproc
 4047              	.LFE153:
 4049              		.section	.text.USB_ReadInterrupts,"ax",%progbits
 4050              		.align	1
 4051              		.global	USB_ReadInterrupts
 4052              		.syntax unified
 4053              		.thumb
 4054              		.thumb_func
 4055              		.fpu fpv4-sp-d16
 4057              	USB_ReadInterrupts:
 4058              	.LFB154:
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadInterrupts: return the global USB interrupt status
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t  USB_ReadInterrupts(USB_OTG_GlobalTypeDef *USBx)
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4059              		.loc 1 1154 1
 4060              		.cfi_startproc
ARM GAS  /tmp/ccaXZQ0T.s 			page 92


 4061              		@ args = 0, pretend = 0, frame = 16
 4062              		@ frame_needed = 1, uses_anonymous_args = 0
 4063              		@ link register save eliminated.
 4064 0000 80B4     		push	{r7}
 4065              	.LCFI143:
 4066              		.cfi_def_cfa_offset 4
 4067              		.cfi_offset 7, -4
 4068 0002 85B0     		sub	sp, sp, #20
 4069              	.LCFI144:
 4070              		.cfi_def_cfa_offset 24
 4071 0004 00AF     		add	r7, sp, #0
 4072              	.LCFI145:
 4073              		.cfi_def_cfa_register 7
 4074 0006 7860     		str	r0, [r7, #4]
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx->GINTSTS;
 4075              		.loc 1 1157 10
 4076 0008 7B68     		ldr	r3, [r7, #4]
 4077 000a 5B69     		ldr	r3, [r3, #20]
 4078 000c FB60     		str	r3, [r7, #12]
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx->GINTMSK;
 4079              		.loc 1 1158 17
 4080 000e 7B68     		ldr	r3, [r7, #4]
 4081 0010 9B69     		ldr	r3, [r3, #24]
 4082              		.loc 1 1158 10
 4083 0012 FA68     		ldr	r2, [r7, #12]
 4084 0014 1340     		ands	r3, r3, r2
 4085 0016 FB60     		str	r3, [r7, #12]
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4086              		.loc 1 1160 10
 4087 0018 FB68     		ldr	r3, [r7, #12]
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4088              		.loc 1 1161 1
 4089 001a 1846     		mov	r0, r3
 4090 001c 1437     		adds	r7, r7, #20
 4091              	.LCFI146:
 4092              		.cfi_def_cfa_offset 4
 4093 001e BD46     		mov	sp, r7
 4094              	.LCFI147:
 4095              		.cfi_def_cfa_register 13
 4096              		@ sp needed
 4097 0020 5DF8047B 		ldr	r7, [sp], #4
 4098              	.LCFI148:
 4099              		.cfi_restore 7
 4100              		.cfi_def_cfa_offset 0
 4101 0024 7047     		bx	lr
 4102              		.cfi_endproc
 4103              	.LFE154:
 4105              		.section	.text.USB_ReadDevAllOutEpInterrupt,"ax",%progbits
 4106              		.align	1
 4107              		.global	USB_ReadDevAllOutEpInterrupt
 4108              		.syntax unified
 4109              		.thumb
 4110              		.thumb_func
 4111              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccaXZQ0T.s 			page 93


 4113              	USB_ReadDevAllOutEpInterrupt:
 4114              	.LFB155:
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllOutEpInterrupt: return the USB device OUT endpoints interrupt status
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllOutEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4115              		.loc 1 1169 1
 4116              		.cfi_startproc
 4117              		@ args = 0, pretend = 0, frame = 16
 4118              		@ frame_needed = 1, uses_anonymous_args = 0
 4119              		@ link register save eliminated.
 4120 0000 80B4     		push	{r7}
 4121              	.LCFI149:
 4122              		.cfi_def_cfa_offset 4
 4123              		.cfi_offset 7, -4
 4124 0002 85B0     		sub	sp, sp, #20
 4125              	.LCFI150:
 4126              		.cfi_def_cfa_offset 24
 4127 0004 00AF     		add	r7, sp, #0
 4128              	.LCFI151:
 4129              		.cfi_def_cfa_register 7
 4130 0006 7860     		str	r0, [r7, #4]
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4131              		.loc 1 1170 12
 4132 0008 7B68     		ldr	r3, [r7, #4]
 4133 000a FB60     		str	r3, [r7, #12]
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4134              		.loc 1 1173 13
 4135 000c FB68     		ldr	r3, [r7, #12]
 4136 000e 03F50063 		add	r3, r3, #2048
 4137              		.loc 1 1173 11
 4138 0012 9B69     		ldr	r3, [r3, #24]
 4139 0014 BB60     		str	r3, [r7, #8]
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4140              		.loc 1 1174 13
 4141 0016 FB68     		ldr	r3, [r7, #12]
 4142 0018 03F50063 		add	r3, r3, #2048
 4143              		.loc 1 1174 24
 4144 001c DB69     		ldr	r3, [r3, #28]
 4145              		.loc 1 1174 10
 4146 001e BA68     		ldr	r2, [r7, #8]
 4147 0020 1340     		ands	r3, r3, r2
 4148 0022 BB60     		str	r3, [r7, #8]
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xffff0000U) >> 16);
 4149              		.loc 1 1176 34
 4150 0024 BB68     		ldr	r3, [r7, #8]
 4151 0026 1B0C     		lsrs	r3, r3, #16
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4152              		.loc 1 1177 1
 4153 0028 1846     		mov	r0, r3
ARM GAS  /tmp/ccaXZQ0T.s 			page 94


 4154 002a 1437     		adds	r7, r7, #20
 4155              	.LCFI152:
 4156              		.cfi_def_cfa_offset 4
 4157 002c BD46     		mov	sp, r7
 4158              	.LCFI153:
 4159              		.cfi_def_cfa_register 13
 4160              		@ sp needed
 4161 002e 5DF8047B 		ldr	r7, [sp], #4
 4162              	.LCFI154:
 4163              		.cfi_restore 7
 4164              		.cfi_def_cfa_offset 0
 4165 0032 7047     		bx	lr
 4166              		.cfi_endproc
 4167              	.LFE155:
 4169              		.section	.text.USB_ReadDevAllInEpInterrupt,"ax",%progbits
 4170              		.align	1
 4171              		.global	USB_ReadDevAllInEpInterrupt
 4172              		.syntax unified
 4173              		.thumb
 4174              		.thumb_func
 4175              		.fpu fpv4-sp-d16
 4177              	USB_ReadDevAllInEpInterrupt:
 4178              	.LFB156:
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ReadDevAllInEpInterrupt: return the USB device IN endpoints interrupt status
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevAllInEpInterrupt(USB_OTG_GlobalTypeDef *USBx)
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4179              		.loc 1 1185 1
 4180              		.cfi_startproc
 4181              		@ args = 0, pretend = 0, frame = 16
 4182              		@ frame_needed = 1, uses_anonymous_args = 0
 4183              		@ link register save eliminated.
 4184 0000 80B4     		push	{r7}
 4185              	.LCFI155:
 4186              		.cfi_def_cfa_offset 4
 4187              		.cfi_offset 7, -4
 4188 0002 85B0     		sub	sp, sp, #20
 4189              	.LCFI156:
 4190              		.cfi_def_cfa_offset 24
 4191 0004 00AF     		add	r7, sp, #0
 4192              	.LCFI157:
 4193              		.cfi_def_cfa_register 7
 4194 0006 7860     		str	r0, [r7, #4]
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4195              		.loc 1 1186 12
 4196 0008 7B68     		ldr	r3, [r7, #4]
 4197 000a FB60     		str	r3, [r7, #12]
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_DEVICE->DAINT;
 4198              		.loc 1 1189 13
 4199 000c FB68     		ldr	r3, [r7, #12]
 4200 000e 03F50063 		add	r3, r3, #2048
ARM GAS  /tmp/ccaXZQ0T.s 			page 95


 4201              		.loc 1 1189 11
 4202 0012 9B69     		ldr	r3, [r3, #24]
 4203 0014 BB60     		str	r3, [r7, #8]
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DAINTMSK;
 4204              		.loc 1 1190 13
 4205 0016 FB68     		ldr	r3, [r7, #12]
 4206 0018 03F50063 		add	r3, r3, #2048
 4207              		.loc 1 1190 24
 4208 001c DB69     		ldr	r3, [r3, #28]
 4209              		.loc 1 1190 10
 4210 001e BA68     		ldr	r2, [r7, #8]
 4211 0020 1340     		ands	r3, r3, r2
 4212 0022 BB60     		str	r3, [r7, #8]
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((tmpreg & 0xFFFFU));
 4213              		.loc 1 1192 19
 4214 0024 BB68     		ldr	r3, [r7, #8]
 4215 0026 9BB2     		uxth	r3, r3
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4216              		.loc 1 1193 1
 4217 0028 1846     		mov	r0, r3
 4218 002a 1437     		adds	r7, r7, #20
 4219              	.LCFI158:
 4220              		.cfi_def_cfa_offset 4
 4221 002c BD46     		mov	sp, r7
 4222              	.LCFI159:
 4223              		.cfi_def_cfa_register 13
 4224              		@ sp needed
 4225 002e 5DF8047B 		ldr	r7, [sp], #4
 4226              	.LCFI160:
 4227              		.cfi_restore 7
 4228              		.cfi_def_cfa_offset 0
 4229 0032 7047     		bx	lr
 4230              		.cfi_endproc
 4231              	.LFE156:
 4233              		.section	.text.USB_ReadDevOutEPInterrupt,"ax",%progbits
 4234              		.align	1
 4235              		.global	USB_ReadDevOutEPInterrupt
 4236              		.syntax unified
 4237              		.thumb
 4238              		.thumb_func
 4239              		.fpu fpv4-sp-d16
 4241              	USB_ReadDevOutEPInterrupt:
 4242              	.LFB157:
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device OUT EP Interrupt register
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device OUT EP Interrupt register
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevOutEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4243              		.loc 1 1203 1
 4244              		.cfi_startproc
 4245              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/ccaXZQ0T.s 			page 96


 4246              		@ frame_needed = 1, uses_anonymous_args = 0
 4247              		@ link register save eliminated.
 4248 0000 80B4     		push	{r7}
 4249              	.LCFI161:
 4250              		.cfi_def_cfa_offset 4
 4251              		.cfi_offset 7, -4
 4252 0002 85B0     		sub	sp, sp, #20
 4253              	.LCFI162:
 4254              		.cfi_def_cfa_offset 24
 4255 0004 00AF     		add	r7, sp, #0
 4256              	.LCFI163:
 4257              		.cfi_def_cfa_register 7
 4258 0006 7860     		str	r0, [r7, #4]
 4259 0008 0B46     		mov	r3, r1
 4260 000a FB70     		strb	r3, [r7, #3]
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4261              		.loc 1 1204 12
 4262 000c 7B68     		ldr	r3, [r7, #4]
 4263 000e FB60     		str	r3, [r7, #12]
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg  = USBx_OUTEP((uint32_t)epnum)->DOEPINT;
 4264              		.loc 1 1207 13
 4265 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4266 0012 5A01     		lsls	r2, r3, #5
 4267 0014 FB68     		ldr	r3, [r7, #12]
 4268 0016 1344     		add	r3, r3, r2
 4269 0018 03F53063 		add	r3, r3, #2816
 4270              		.loc 1 1207 11
 4271 001c 9B68     		ldr	r3, [r3, #8]
 4272 001e BB60     		str	r3, [r7, #8]
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= USBx_DEVICE->DOEPMSK;
 4273              		.loc 1 1208 13
 4274 0020 FB68     		ldr	r3, [r7, #12]
 4275 0022 03F50063 		add	r3, r3, #2048
 4276              		.loc 1 1208 24
 4277 0026 5B69     		ldr	r3, [r3, #20]
 4278              		.loc 1 1208 10
 4279 0028 BA68     		ldr	r2, [r7, #8]
 4280 002a 1340     		ands	r3, r3, r2
 4281 002c BB60     		str	r3, [r7, #8]
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4282              		.loc 1 1210 10
 4283 002e BB68     		ldr	r3, [r7, #8]
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4284              		.loc 1 1211 1
 4285 0030 1846     		mov	r0, r3
 4286 0032 1437     		adds	r7, r7, #20
 4287              	.LCFI164:
 4288              		.cfi_def_cfa_offset 4
 4289 0034 BD46     		mov	sp, r7
 4290              	.LCFI165:
 4291              		.cfi_def_cfa_register 13
 4292              		@ sp needed
 4293 0036 5DF8047B 		ldr	r7, [sp], #4
 4294              	.LCFI166:
ARM GAS  /tmp/ccaXZQ0T.s 			page 97


 4295              		.cfi_restore 7
 4296              		.cfi_def_cfa_offset 0
 4297 003a 7047     		bx	lr
 4298              		.cfi_endproc
 4299              	.LFE157:
 4301              		.section	.text.USB_ReadDevInEPInterrupt,"ax",%progbits
 4302              		.align	1
 4303              		.global	USB_ReadDevInEPInterrupt
 4304              		.syntax unified
 4305              		.thumb
 4306              		.thumb_func
 4307              		.fpu fpv4-sp-d16
 4309              	USB_ReadDevInEPInterrupt:
 4310              	.LFB158:
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns Device IN EP Interrupt register
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  endpoint number
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 15
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval Device IN EP Interrupt register
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_ReadDevInEPInterrupt(USB_OTG_GlobalTypeDef *USBx, uint8_t epnum)
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4311              		.loc 1 1221 1
 4312              		.cfi_startproc
 4313              		@ args = 0, pretend = 0, frame = 24
 4314              		@ frame_needed = 1, uses_anonymous_args = 0
 4315              		@ link register save eliminated.
 4316 0000 80B4     		push	{r7}
 4317              	.LCFI167:
 4318              		.cfi_def_cfa_offset 4
 4319              		.cfi_offset 7, -4
 4320 0002 87B0     		sub	sp, sp, #28
 4321              	.LCFI168:
 4322              		.cfi_def_cfa_offset 32
 4323 0004 00AF     		add	r7, sp, #0
 4324              	.LCFI169:
 4325              		.cfi_def_cfa_register 7
 4326 0006 7860     		str	r0, [r7, #4]
 4327 0008 0B46     		mov	r3, r1
 4328 000a FB70     		strb	r3, [r7, #3]
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4329              		.loc 1 1222 12
 4330 000c 7B68     		ldr	r3, [r7, #4]
 4331 000e 7B61     		str	r3, [r7, #20]
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg, msk, emp;
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk = USBx_DEVICE->DIEPMSK;
 4332              		.loc 1 1225 9
 4333 0010 7B69     		ldr	r3, [r7, #20]
 4334 0012 03F50063 		add	r3, r3, #2048
 4335              		.loc 1 1225 7
 4336 0016 1B69     		ldr	r3, [r3, #16]
 4337 0018 3B61     		str	r3, [r7, #16]
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   emp = USBx_DEVICE->DIEPEMPMSK;
 4338              		.loc 1 1226 9
ARM GAS  /tmp/ccaXZQ0T.s 			page 98


 4339 001a 7B69     		ldr	r3, [r7, #20]
 4340 001c 03F50063 		add	r3, r3, #2048
 4341              		.loc 1 1226 7
 4342 0020 5B6B     		ldr	r3, [r3, #52]
 4343 0022 FB60     		str	r3, [r7, #12]
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   msk |= ((emp >> (epnum & EP_ADDR_MSK)) & 0x1U) << 7;
 4344              		.loc 1 1227 26
 4345 0024 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4346 0026 03F00F03 		and	r3, r3, #15
 4347              		.loc 1 1227 16
 4348 002a FA68     		ldr	r2, [r7, #12]
 4349 002c 22FA03F3 		lsr	r3, r2, r3
 4350              		.loc 1 1227 50
 4351 0030 DB01     		lsls	r3, r3, #7
 4352 0032 DBB2     		uxtb	r3, r3
 4353              		.loc 1 1227 7
 4354 0034 3A69     		ldr	r2, [r7, #16]
 4355 0036 1343     		orrs	r3, r3, r2
 4356 0038 3B61     		str	r3, [r7, #16]
1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_INEP((uint32_t)epnum)->DIEPINT & msk;
 4357              		.loc 1 1228 12
 4358 003a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 4359 003c 5A01     		lsls	r2, r3, #5
 4360 003e 7B69     		ldr	r3, [r7, #20]
 4361 0040 1344     		add	r3, r3, r2
 4362 0042 03F51063 		add	r3, r3, #2304
 4363              		.loc 1 1228 38
 4364 0046 9B68     		ldr	r3, [r3, #8]
 4365              		.loc 1 1228 10
 4366 0048 3A69     		ldr	r2, [r7, #16]
 4367 004a 1340     		ands	r3, r3, r2
 4368 004c BB60     		str	r3, [r7, #8]
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return tmpreg;
 4369              		.loc 1 1230 10
 4370 004e BB68     		ldr	r3, [r7, #8]
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4371              		.loc 1 1231 1
 4372 0050 1846     		mov	r0, r3
 4373 0052 1C37     		adds	r7, r7, #28
 4374              	.LCFI170:
 4375              		.cfi_def_cfa_offset 4
 4376 0054 BD46     		mov	sp, r7
 4377              	.LCFI171:
 4378              		.cfi_def_cfa_register 13
 4379              		@ sp needed
 4380 0056 5DF8047B 		ldr	r7, [sp], #4
 4381              	.LCFI172:
 4382              		.cfi_restore 7
 4383              		.cfi_def_cfa_offset 0
 4384 005a 7047     		bx	lr
 4385              		.cfi_endproc
 4386              	.LFE158:
 4388              		.section	.text.USB_ClearInterrupts,"ax",%progbits
 4389              		.align	1
 4390              		.global	USB_ClearInterrupts
 4391              		.syntax unified
ARM GAS  /tmp/ccaXZQ0T.s 			page 99


 4392              		.thumb
 4393              		.thumb_func
 4394              		.fpu fpv4-sp-d16
 4396              	USB_ClearInterrupts:
 4397              	.LFB159:
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ClearInterrupts: clear a USB interrupt
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  interrupt  interrupt flag
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval None
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** void  USB_ClearInterrupts(USB_OTG_GlobalTypeDef *USBx, uint32_t interrupt)
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4398              		.loc 1 1240 1
 4399              		.cfi_startproc
 4400              		@ args = 0, pretend = 0, frame = 8
 4401              		@ frame_needed = 1, uses_anonymous_args = 0
 4402              		@ link register save eliminated.
 4403 0000 80B4     		push	{r7}
 4404              	.LCFI173:
 4405              		.cfi_def_cfa_offset 4
 4406              		.cfi_offset 7, -4
 4407 0002 83B0     		sub	sp, sp, #12
 4408              	.LCFI174:
 4409              		.cfi_def_cfa_offset 16
 4410 0004 00AF     		add	r7, sp, #0
 4411              	.LCFI175:
 4412              		.cfi_def_cfa_register 7
 4413 0006 7860     		str	r0, [r7, #4]
 4414 0008 3960     		str	r1, [r7]
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS |= interrupt;
 4415              		.loc 1 1241 17
 4416 000a 7B68     		ldr	r3, [r7, #4]
 4417 000c 5A69     		ldr	r2, [r3, #20]
 4418 000e 3B68     		ldr	r3, [r7]
 4419 0010 1A43     		orrs	r2, r2, r3
 4420 0012 7B68     		ldr	r3, [r7, #4]
 4421 0014 5A61     		str	r2, [r3, #20]
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4422              		.loc 1 1242 1
 4423 0016 00BF     		nop
 4424 0018 0C37     		adds	r7, r7, #12
 4425              	.LCFI176:
 4426              		.cfi_def_cfa_offset 4
 4427 001a BD46     		mov	sp, r7
 4428              	.LCFI177:
 4429              		.cfi_def_cfa_register 13
 4430              		@ sp needed
 4431 001c 5DF8047B 		ldr	r7, [sp], #4
 4432              	.LCFI178:
 4433              		.cfi_restore 7
 4434              		.cfi_def_cfa_offset 0
 4435 0020 7047     		bx	lr
 4436              		.cfi_endproc
 4437              	.LFE159:
 4439              		.section	.text.USB_GetMode,"ax",%progbits
ARM GAS  /tmp/ccaXZQ0T.s 			page 100


 4440              		.align	1
 4441              		.global	USB_GetMode
 4442              		.syntax unified
 4443              		.thumb
 4444              		.thumb_func
 4445              		.fpu fpv4-sp-d16
 4447              	USB_GetMode:
 4448              	.LFB160:
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Returns USB core mode
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval return core mode : Host or Device
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : Host
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : Device
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetMode(USB_OTG_GlobalTypeDef *USBx)
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4449              		.loc 1 1253 1
 4450              		.cfi_startproc
 4451              		@ args = 0, pretend = 0, frame = 8
 4452              		@ frame_needed = 1, uses_anonymous_args = 0
 4453              		@ link register save eliminated.
 4454 0000 80B4     		push	{r7}
 4455              	.LCFI179:
 4456              		.cfi_def_cfa_offset 4
 4457              		.cfi_offset 7, -4
 4458 0002 83B0     		sub	sp, sp, #12
 4459              	.LCFI180:
 4460              		.cfi_def_cfa_offset 16
 4461 0004 00AF     		add	r7, sp, #0
 4462              	.LCFI181:
 4463              		.cfi_def_cfa_register 7
 4464 0006 7860     		str	r0, [r7, #4]
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx->GINTSTS) & 0x1U);
 4465              		.loc 1 1254 16
 4466 0008 7B68     		ldr	r3, [r7, #4]
 4467 000a 5B69     		ldr	r3, [r3, #20]
 4468              		.loc 1 1254 27
 4469 000c 03F00103 		and	r3, r3, #1
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4470              		.loc 1 1255 1
 4471 0010 1846     		mov	r0, r3
 4472 0012 0C37     		adds	r7, r7, #12
 4473              	.LCFI182:
 4474              		.cfi_def_cfa_offset 4
 4475 0014 BD46     		mov	sp, r7
 4476              	.LCFI183:
 4477              		.cfi_def_cfa_register 13
 4478              		@ sp needed
 4479 0016 5DF8047B 		ldr	r7, [sp], #4
 4480              	.LCFI184:
 4481              		.cfi_restore 7
 4482              		.cfi_def_cfa_offset 0
 4483 001a 7047     		bx	lr
 4484              		.cfi_endproc
ARM GAS  /tmp/ccaXZQ0T.s 			page 101


 4485              	.LFE160:
 4487              		.section	.text.USB_ActivateSetup,"ax",%progbits
 4488              		.align	1
 4489              		.global	USB_ActivateSetup
 4490              		.syntax unified
 4491              		.thumb
 4492              		.thumb_func
 4493              		.fpu fpv4-sp-d16
 4495              	USB_ActivateSetup:
 4496              	.LFB161:
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Activate EP0 for Setup transactions
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef  USB_ActivateSetup(USB_OTG_GlobalTypeDef *USBx)
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4497              		.loc 1 1263 1
 4498              		.cfi_startproc
 4499              		@ args = 0, pretend = 0, frame = 16
 4500              		@ frame_needed = 1, uses_anonymous_args = 0
 4501              		@ link register save eliminated.
 4502 0000 80B4     		push	{r7}
 4503              	.LCFI185:
 4504              		.cfi_def_cfa_offset 4
 4505              		.cfi_offset 7, -4
 4506 0002 85B0     		sub	sp, sp, #20
 4507              	.LCFI186:
 4508              		.cfi_def_cfa_offset 24
 4509 0004 00AF     		add	r7, sp, #0
 4510              	.LCFI187:
 4511              		.cfi_def_cfa_register 7
 4512 0006 7860     		str	r0, [r7, #4]
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4513              		.loc 1 1264 12
 4514 0008 7B68     		ldr	r3, [r7, #4]
 4515 000a FB60     		str	r3, [r7, #12]
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set the MPS of the IN EP0 to 64 bytes */
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_INEP(0U)->DIEPCTL &= ~USB_OTG_DIEPCTL_MPSIZ;
 4516              		.loc 1 1267 26
 4517 000c FB68     		ldr	r3, [r7, #12]
 4518 000e 03F51063 		add	r3, r3, #2304
 4519 0012 1B68     		ldr	r3, [r3]
 4520 0014 FA68     		ldr	r2, [r7, #12]
 4521 0016 02F51062 		add	r2, r2, #2304
 4522 001a 23F4FF63 		bic	r3, r3, #2040
 4523 001e 23F00703 		bic	r3, r3, #7
 4524 0022 1360     		str	r3, [r2]
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL |= USB_OTG_DCTL_CGINAK;
 4525              		.loc 1 1269 21
 4526 0024 FB68     		ldr	r3, [r7, #12]
 4527 0026 03F50063 		add	r3, r3, #2048
 4528 002a 5B68     		ldr	r3, [r3, #4]
 4529 002c FA68     		ldr	r2, [r7, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 102


 4530 002e 02F50062 		add	r2, r2, #2048
 4531 0032 43F48073 		orr	r3, r3, #256
 4532 0036 5360     		str	r3, [r2, #4]
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4533              		.loc 1 1271 10
 4534 0038 0023     		movs	r3, #0
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4535              		.loc 1 1272 1
 4536 003a 1846     		mov	r0, r3
 4537 003c 1437     		adds	r7, r7, #20
 4538              	.LCFI188:
 4539              		.cfi_def_cfa_offset 4
 4540 003e BD46     		mov	sp, r7
 4541              	.LCFI189:
 4542              		.cfi_def_cfa_register 13
 4543              		@ sp needed
 4544 0040 5DF8047B 		ldr	r7, [sp], #4
 4545              	.LCFI190:
 4546              		.cfi_restore 7
 4547              		.cfi_def_cfa_offset 0
 4548 0044 7047     		bx	lr
 4549              		.cfi_endproc
 4550              	.LFE161:
 4552              		.section	.text.USB_EP0_OutStart,"ax",%progbits
 4553              		.align	1
 4554              		.global	USB_EP0_OutStart
 4555              		.syntax unified
 4556              		.thumb
 4557              		.thumb_func
 4558              		.fpu fpv4-sp-d16
 4560              	USB_EP0_OutStart:
 4561              	.LFB162:
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Prepare the EP0 to start the first control setup
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  psetup  pointer to setup packet
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_EP0_OutStart(USB_OTG_GlobalTypeDef *USBx, uint8_t dma, uint8_t *psetup)
1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4562              		.loc 1 1285 1
 4563              		.cfi_startproc
 4564              		@ args = 0, pretend = 0, frame = 24
 4565              		@ frame_needed = 1, uses_anonymous_args = 0
 4566              		@ link register save eliminated.
 4567 0000 80B4     		push	{r7}
 4568              	.LCFI191:
 4569              		.cfi_def_cfa_offset 4
 4570              		.cfi_offset 7, -4
 4571 0002 87B0     		sub	sp, sp, #28
 4572              	.LCFI192:
ARM GAS  /tmp/ccaXZQ0T.s 			page 103


 4573              		.cfi_def_cfa_offset 32
 4574 0004 00AF     		add	r7, sp, #0
 4575              	.LCFI193:
 4576              		.cfi_def_cfa_register 7
 4577 0006 F860     		str	r0, [r7, #12]
 4578 0008 0B46     		mov	r3, r1
 4579 000a 7A60     		str	r2, [r7, #4]
 4580 000c FB72     		strb	r3, [r7, #11]
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4581              		.loc 1 1286 12
 4582 000e FB68     		ldr	r3, [r7, #12]
 4583 0010 7B61     		str	r3, [r7, #20]
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t gSNPSiD = *(__IO uint32_t *)(&USBx->CID + 0x1U);
 4584              		.loc 1 1287 41
 4585 0012 FB68     		ldr	r3, [r7, #12]
 4586 0014 3C33     		adds	r3, r3, #60
 4587              		.loc 1 1287 23
 4588 0016 0433     		adds	r3, r3, #4
 4589              		.loc 1 1287 12
 4590 0018 1B68     		ldr	r3, [r3]
 4591 001a 3B61     		str	r3, [r7, #16]
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (gSNPSiD > USB_OTG_CORE_ID_300A)
 4592              		.loc 1 1289 6
 4593 001c 3B69     		ldr	r3, [r7, #16]
 4594 001e 264A     		ldr	r2, .L197
 4595 0020 9342     		cmp	r3, r2
 4596 0022 0AD9     		bls	.L194
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_OUTEP(0U)->DOEPCTL & USB_OTG_DOEPCTL_EPENA) == USB_OTG_DOEPCTL_EPENA)
 4597              		.loc 1 1291 10
 4598 0024 7B69     		ldr	r3, [r7, #20]
 4599 0026 03F53063 		add	r3, r3, #2816
 4600              		.loc 1 1291 24
 4601 002a 1B68     		ldr	r3, [r3]
 4602              		.loc 1 1291 34
 4603 002c 03F00043 		and	r3, r3, #-2147483648
 4604              		.loc 1 1291 8
 4605 0030 B3F1004F 		cmp	r3, #-2147483648
 4606 0034 01D1     		bne	.L194
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 4607              		.loc 1 1293 14
 4608 0036 0023     		movs	r3, #0
 4609 0038 37E0     		b	.L195
 4610              	.L194:
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ = 0U;
 4611              		.loc 1 1297 3
 4612 003a 7B69     		ldr	r3, [r7, #20]
 4613 003c 03F53063 		add	r3, r3, #2816
 4614 0040 1A46     		mov	r2, r3
 4615              		.loc 1 1297 28
 4616 0042 0023     		movs	r3, #0
 4617 0044 1361     		str	r3, [r2, #16]
ARM GAS  /tmp/ccaXZQ0T.s 			page 104


1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (USB_OTG_DOEPTSIZ_PKTCNT & (1U << 19));
 4618              		.loc 1 1298 28
 4619 0046 7B69     		ldr	r3, [r7, #20]
 4620 0048 03F53063 		add	r3, r3, #2816
 4621 004c 1B69     		ldr	r3, [r3, #16]
 4622 004e 7A69     		ldr	r2, [r7, #20]
 4623 0050 02F53062 		add	r2, r2, #2816
 4624 0054 43F40023 		orr	r3, r3, #524288
 4625 0058 1361     		str	r3, [r2, #16]
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |= (3U * 8U);
 4626              		.loc 1 1299 28
 4627 005a 7B69     		ldr	r3, [r7, #20]
 4628 005c 03F53063 		add	r3, r3, #2816
 4629 0060 1B69     		ldr	r3, [r3, #16]
 4630 0062 7A69     		ldr	r2, [r7, #20]
 4631 0064 02F53062 		add	r2, r2, #2816
 4632 0068 43F01803 		orr	r3, r3, #24
 4633 006c 1361     		str	r3, [r2, #16]
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_OUTEP(0U)->DOEPTSIZ |=  USB_OTG_DOEPTSIZ_STUPCNT;
 4634              		.loc 1 1300 28
 4635 006e 7B69     		ldr	r3, [r7, #20]
 4636 0070 03F53063 		add	r3, r3, #2816
 4637 0074 1B69     		ldr	r3, [r3, #16]
 4638 0076 7A69     		ldr	r2, [r7, #20]
 4639 0078 02F53062 		add	r2, r2, #2816
 4640 007c 43F0C043 		orr	r3, r3, #1610612736
 4641 0080 1361     		str	r3, [r2, #16]
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 1U)
 4642              		.loc 1 1302 6
 4643 0082 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 4644 0084 012B     		cmp	r3, #1
 4645 0086 0FD1     		bne	.L196
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPDMA = (uint32_t)psetup;
 4646              		.loc 1 1304 5
 4647 0088 7B69     		ldr	r3, [r7, #20]
 4648 008a 03F53063 		add	r3, r3, #2816
 4649 008e 1A46     		mov	r2, r3
 4650              		.loc 1 1304 31
 4651 0090 7B68     		ldr	r3, [r7, #4]
 4652              		.loc 1 1304 29
 4653 0092 5361     		str	r3, [r2, #20]
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* EP enable */
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_OUTEP(0U)->DOEPCTL |= USB_OTG_DOEPCTL_EPENA | USB_OTG_DOEPCTL_USBAEP;
 4654              		.loc 1 1306 29
 4655 0094 7B69     		ldr	r3, [r7, #20]
 4656 0096 03F53063 		add	r3, r3, #2816
 4657 009a 1B68     		ldr	r3, [r3]
 4658 009c 7A69     		ldr	r2, [r7, #20]
 4659 009e 02F53062 		add	r2, r2, #2816
 4660 00a2 43F08023 		orr	r3, r3, #-2147450880
 4661 00a6 1360     		str	r3, [r2]
 4662              	.L196:
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
ARM GAS  /tmp/ccaXZQ0T.s 			page 105


 4663              		.loc 1 1309 10
 4664 00a8 0023     		movs	r3, #0
 4665              	.L195:
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4666              		.loc 1 1310 1
 4667 00aa 1846     		mov	r0, r3
 4668 00ac 1C37     		adds	r7, r7, #28
 4669              	.LCFI194:
 4670              		.cfi_def_cfa_offset 4
 4671 00ae BD46     		mov	sp, r7
 4672              	.LCFI195:
 4673              		.cfi_def_cfa_register 13
 4674              		@ sp needed
 4675 00b0 5DF8047B 		ldr	r7, [sp], #4
 4676              	.LCFI196:
 4677              		.cfi_restore 7
 4678              		.cfi_def_cfa_offset 0
 4679 00b4 7047     		bx	lr
 4680              	.L198:
 4681 00b6 00BF     		.align	2
 4682              	.L197:
 4683 00b8 0A30544F 		.word	1330917386
 4684              		.cfi_endproc
 4685              	.LFE162:
 4687              		.section	.text.USB_CoreReset,"ax",%progbits
 4688              		.align	1
 4689              		.syntax unified
 4690              		.thumb
 4691              		.thumb_func
 4692              		.fpu fpv4-sp-d16
 4694              	USB_CoreReset:
 4695              	.LFB163:
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Reset the USB Core (needed after USB clock settings change)
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** static HAL_StatusTypeDef USB_CoreReset(USB_OTG_GlobalTypeDef *USBx)
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4696              		.loc 1 1318 1
 4697              		.cfi_startproc
 4698              		@ args = 0, pretend = 0, frame = 16
 4699              		@ frame_needed = 1, uses_anonymous_args = 0
 4700              		@ link register save eliminated.
 4701 0000 80B4     		push	{r7}
 4702              	.LCFI197:
 4703              		.cfi_def_cfa_offset 4
 4704              		.cfi_offset 7, -4
 4705 0002 85B0     		sub	sp, sp, #20
 4706              	.LCFI198:
 4707              		.cfi_def_cfa_offset 24
 4708 0004 00AF     		add	r7, sp, #0
 4709              	.LCFI199:
 4710              		.cfi_def_cfa_register 7
 4711 0006 7860     		str	r0, [r7, #4]
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
ARM GAS  /tmp/ccaXZQ0T.s 			page 106


 4712              		.loc 1 1319 12
 4713 0008 0023     		movs	r3, #0
 4714 000a FB60     		str	r3, [r7, #12]
 4715              	.L202:
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Wait for AHB master IDLE state. */
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4716              		.loc 1 1324 8
 4717 000c FB68     		ldr	r3, [r7, #12]
 4718 000e 0133     		adds	r3, r3, #1
 4719 0010 FB60     		str	r3, [r7, #12]
 4720 0012 FB68     		ldr	r3, [r7, #12]
 4721 0014 134A     		ldr	r2, .L205
 4722 0016 9342     		cmp	r3, r2
 4723 0018 01D9     		bls	.L200
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4724              		.loc 1 1326 14
 4725 001a 0323     		movs	r3, #3
 4726 001c 1BE0     		b	.L201
 4727              	.L200:
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_AHBIDL) == 0U);
 4728              		.loc 1 1329 15
 4729 001e 7B68     		ldr	r3, [r7, #4]
 4730 0020 1B69     		ldr	r3, [r3, #16]
 4731              		.loc 1 1329 3
 4732 0022 002B     		cmp	r3, #0
 4733 0024 F2DA     		bge	.L202
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Core Soft Reset */
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   count = 0U;
 4734              		.loc 1 1332 9
 4735 0026 0023     		movs	r3, #0
 4736 0028 FB60     		str	r3, [r7, #12]
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GRSTCTL |= USB_OTG_GRSTCTL_CSRST;
 4737              		.loc 1 1333 17
 4738 002a 7B68     		ldr	r3, [r7, #4]
 4739 002c 1B69     		ldr	r3, [r3, #16]
 4740 002e 43F00102 		orr	r2, r3, #1
 4741 0032 7B68     		ldr	r3, [r7, #4]
 4742 0034 1A61     		str	r2, [r3, #16]
 4743              	.L204:
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   do
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (++count > 200000U)
 4744              		.loc 1 1337 8
 4745 0036 FB68     		ldr	r3, [r7, #12]
 4746 0038 0133     		adds	r3, r3, #1
 4747 003a FB60     		str	r3, [r7, #12]
 4748 003c FB68     		ldr	r3, [r7, #12]
 4749 003e 094A     		ldr	r2, .L205
 4750 0040 9342     		cmp	r3, r2
ARM GAS  /tmp/ccaXZQ0T.s 			page 107


 4751 0042 01D9     		bls	.L203
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_TIMEOUT;
 4752              		.loc 1 1339 14
 4753 0044 0323     		movs	r3, #3
 4754 0046 06E0     		b	.L201
 4755              	.L203:
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   while ((USBx->GRSTCTL & USB_OTG_GRSTCTL_CSRST) == USB_OTG_GRSTCTL_CSRST);
 4756              		.loc 1 1342 15
 4757 0048 7B68     		ldr	r3, [r7, #4]
 4758 004a 1B69     		ldr	r3, [r3, #16]
 4759              		.loc 1 1342 25
 4760 004c 03F00103 		and	r3, r3, #1
 4761              		.loc 1 1342 3
 4762 0050 012B     		cmp	r3, #1
 4763 0052 F0D0     		beq	.L204
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 4764              		.loc 1 1344 10
 4765 0054 0023     		movs	r3, #0
 4766              	.L201:
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 4767              		.loc 1 1345 1
 4768 0056 1846     		mov	r0, r3
 4769 0058 1437     		adds	r7, r7, #20
 4770              	.LCFI200:
 4771              		.cfi_def_cfa_offset 4
 4772 005a BD46     		mov	sp, r7
 4773              	.LCFI201:
 4774              		.cfi_def_cfa_register 13
 4775              		@ sp needed
 4776 005c 5DF8047B 		ldr	r7, [sp], #4
 4777              	.LCFI202:
 4778              		.cfi_restore 7
 4779              		.cfi_def_cfa_offset 0
 4780 0060 7047     		bx	lr
 4781              	.L206:
 4782 0062 00BF     		.align	2
 4783              	.L205:
 4784 0064 400D0300 		.word	200000
 4785              		.cfi_endproc
 4786              	.LFE163:
 4788              		.section	.text.USB_HostInit,"ax",%progbits
 4789              		.align	1
 4790              		.global	USB_HostInit
 4791              		.syntax unified
 4792              		.thumb
 4793              		.thumb_func
 4794              		.fpu fpv4-sp-d16
 4796              	USB_HostInit:
 4797              	.LFB164:
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_HostInit : Initializes the USB OTG controller registers
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         for Host mode
ARM GAS  /tmp/ccaXZQ0T.s 			page 108


1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  cfg   pointer to a USB_OTG_CfgTypeDef structure that contains
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         the configuration information for the specified USBx peripheral.
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HostInit(USB_OTG_GlobalTypeDef *USBx, USB_OTG_CfgTypeDef cfg)
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 4798              		.loc 1 1356 1
 4799              		.cfi_startproc
 4800              		@ args = 56, pretend = 16, frame = 16
 4801              		@ frame_needed = 1, uses_anonymous_args = 0
 4802 0000 84B0     		sub	sp, sp, #16
 4803              	.LCFI203:
 4804              		.cfi_def_cfa_offset 16
 4805 0002 80B5     		push	{r7, lr}
 4806              	.LCFI204:
 4807              		.cfi_def_cfa_offset 24
 4808              		.cfi_offset 7, -24
 4809              		.cfi_offset 14, -20
 4810 0004 84B0     		sub	sp, sp, #16
 4811              	.LCFI205:
 4812              		.cfi_def_cfa_offset 40
 4813 0006 00AF     		add	r7, sp, #0
 4814              	.LCFI206:
 4815              		.cfi_def_cfa_register 7
 4816 0008 7860     		str	r0, [r7, #4]
 4817 000a 07F11C00 		add	r0, r7, #28
 4818 000e 80E80E00 		stm	r0, {r1, r2, r3}
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 4819              		.loc 1 1357 12
 4820 0012 7B68     		ldr	r3, [r7, #4]
 4821 0014 BB60     		str	r3, [r7, #8]
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Restart the Phy Clock */
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_PCGCCTL = 0U;
 4822              		.loc 1 1361 3
 4823 0016 BB68     		ldr	r3, [r7, #8]
 4824 0018 03F56063 		add	r3, r3, #3584
 4825 001c 1A46     		mov	r2, r3
 4826              		.loc 1 1361 16
 4827 001e 0023     		movs	r3, #0
 4828 0020 1360     		str	r3, [r2]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412Zx) ||
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable HW VBUS sensing */
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_VBDEN);
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #else
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /*
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * Disable HW VBUS sensing. VBUS is internally considered to be always
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * at VBUS-Valid level (5V).
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG |= USB_OTG_GCCFG_NOVBUSSENS;
 4829              		.loc 1 1371 15
 4830 0022 7B68     		ldr	r3, [r7, #4]
 4831 0024 9B6B     		ldr	r3, [r3, #56]
 4832 0026 43F40012 		orr	r2, r3, #2097152
ARM GAS  /tmp/ccaXZQ0T.s 			page 109


 4833 002a 7B68     		ldr	r3, [r7, #4]
 4834 002c 9A63     		str	r2, [r3, #56]
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSBSEN;
 4835              		.loc 1 1372 15
 4836 002e 7B68     		ldr	r3, [r7, #4]
 4837 0030 9B6B     		ldr	r3, [r3, #56]
 4838 0032 23F40022 		bic	r2, r3, #524288
 4839 0036 7B68     		ldr	r3, [r7, #4]
 4840 0038 9A63     		str	r2, [r3, #56]
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~USB_OTG_GCCFG_VBUSASEN;
 4841              		.loc 1 1373 15
 4842 003a 7B68     		ldr	r3, [r7, #4]
 4843 003c 9B6B     		ldr	r3, [r3, #56]
 4844 003e 23F48022 		bic	r2, r3, #262144
 4845 0042 7B68     		ldr	r3, [r7, #4]
 4846 0044 9A63     		str	r2, [r3, #56]
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F446xx) || defined(STM32F469xx) || defined(STM32F479xx) || defined(STM32F412
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #if defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412Cx) ||
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable Battery chargin detector */
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GCCFG &= ~(USB_OTG_GCCFG_BCDEN);
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** #endif /* defined(STM32F412Zx) || defined(STM32F412Vx) || defined(STM32F412Rx) || defined(STM32F412
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 4847              		.loc 1 1380 12
 4848 0046 7B68     		ldr	r3, [r7, #4]
 4849 0048 DB6B     		ldr	r3, [r3, #60]
 4850              		.loc 1 1380 18
 4851 004a 03F48073 		and	r3, r3, #256
 4852              		.loc 1 1380 6
 4853 004e 002B     		cmp	r3, #0
 4854 0050 18D0     		beq	.L208
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (cfg.speed == USBH_FSLS_SPEED)
 4855              		.loc 1 1382 12
 4856 0052 7B6A     		ldr	r3, [r7, #36]
 4857              		.loc 1 1382 8
 4858 0054 012B     		cmp	r3, #1
 4859 0056 0AD1     		bne	.L209
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Force Device Enumeration to FS/LS mode only */
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG |= USB_OTG_HCFG_FSLSS;
 4860              		.loc 1 1385 23
 4861 0058 BB68     		ldr	r3, [r7, #8]
 4862 005a 03F58063 		add	r3, r3, #1024
 4863 005e 1B68     		ldr	r3, [r3]
 4864 0060 BA68     		ldr	r2, [r7, #8]
 4865 0062 02F58062 		add	r2, r2, #1024
 4866 0066 43F00403 		orr	r3, r3, #4
 4867 006a 1360     		str	r3, [r2]
 4868 006c 14E0     		b	.L211
 4869              	.L209:
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Set default Max speed support */
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4870              		.loc 1 1390 23
ARM GAS  /tmp/ccaXZQ0T.s 			page 110


 4871 006e BB68     		ldr	r3, [r7, #8]
 4872 0070 03F58063 		add	r3, r3, #1024
 4873 0074 1B68     		ldr	r3, [r3]
 4874 0076 BA68     		ldr	r2, [r7, #8]
 4875 0078 02F58062 		add	r2, r2, #1024
 4876 007c 23F00403 		bic	r3, r3, #4
 4877 0080 1360     		str	r3, [r2]
 4878 0082 09E0     		b	.L211
 4879              	.L208:
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* Set default Max speed support */
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSS);
 4880              		.loc 1 1396 21
 4881 0084 BB68     		ldr	r3, [r7, #8]
 4882 0086 03F58063 		add	r3, r3, #1024
 4883 008a 1B68     		ldr	r3, [r3]
 4884 008c BA68     		ldr	r2, [r7, #8]
 4885 008e 02F58062 		add	r2, r2, #1024
 4886 0092 23F00403 		bic	r3, r3, #4
 4887 0096 1360     		str	r3, [r2]
 4888              	.L211:
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure the FIFOs are flushed. */
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushTxFifo(USBx, 0x10U); /* all Tx FIFOs */
 4889              		.loc 1 1400 9
 4890 0098 1021     		movs	r1, #16
 4891 009a 7868     		ldr	r0, [r7, #4]
 4892 009c FFF7FEFF 		bl	USB_FlushTxFifo
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushRxFifo(USBx);
 4893              		.loc 1 1401 9
 4894 00a0 7868     		ldr	r0, [r7, #4]
 4895 00a2 FFF7FEFF 		bl	USB_FlushRxFifo
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear all pending HC Interrupts */
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i < cfg.Host_channels; i++)
 4896              		.loc 1 1404 10
 4897 00a6 0023     		movs	r3, #0
 4898 00a8 FB60     		str	r3, [r7, #12]
 4899              		.loc 1 1404 3
 4900 00aa 15E0     		b	.L212
 4901              	.L213:
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINT = 0xFFFFFFFFU;
 4902              		.loc 1 1406 5 discriminator 3
 4903 00ac FB68     		ldr	r3, [r7, #12]
 4904 00ae 5A01     		lsls	r2, r3, #5
 4905 00b0 BB68     		ldr	r3, [r7, #8]
 4906 00b2 1344     		add	r3, r3, r2
 4907 00b4 03F5A063 		add	r3, r3, #1280
 4908 00b8 1A46     		mov	r2, r3
 4909              		.loc 1 1406 23 discriminator 3
 4910 00ba 4FF0FF33 		mov	r3, #-1
 4911 00be 9360     		str	r3, [r2, #8]
ARM GAS  /tmp/ccaXZQ0T.s 			page 111


1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCINTMSK = 0U;
 4912              		.loc 1 1407 5 discriminator 3
 4913 00c0 FB68     		ldr	r3, [r7, #12]
 4914 00c2 5A01     		lsls	r2, r3, #5
 4915 00c4 BB68     		ldr	r3, [r7, #8]
 4916 00c6 1344     		add	r3, r3, r2
 4917 00c8 03F5A063 		add	r3, r3, #1280
 4918 00cc 1A46     		mov	r2, r3
 4919              		.loc 1 1407 26 discriminator 3
 4920 00ce 0023     		movs	r3, #0
 4921 00d0 D360     		str	r3, [r2, #12]
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4922              		.loc 1 1404 40 discriminator 3
 4923 00d2 FB68     		ldr	r3, [r7, #12]
 4924 00d4 0133     		adds	r3, r3, #1
 4925 00d6 FB60     		str	r3, [r7, #12]
 4926              	.L212:
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4927              		.loc 1 1404 23 discriminator 1
 4928 00d8 3B6A     		ldr	r3, [r7, #32]
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 4929              		.loc 1 1404 3 discriminator 1
 4930 00da FA68     		ldr	r2, [r7, #12]
 4931 00dc 9A42     		cmp	r2, r3
 4932 00de E5D3     		bcc	.L213
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable VBUS driving */
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DriveVbus(USBx, 1U);
 4933              		.loc 1 1411 9
 4934 00e0 0121     		movs	r1, #1
 4935 00e2 7868     		ldr	r0, [r7, #4]
 4936 00e4 FFF7FEFF 		bl	USB_DriveVbus
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(200U);
 4937              		.loc 1 1413 3
 4938 00e8 C820     		movs	r0, #200
 4939 00ea FFF7FEFF 		bl	HAL_Delay
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Disable all interrupts. */
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK = 0U;
 4940              		.loc 1 1416 17
 4941 00ee 7B68     		ldr	r3, [r7, #4]
 4942 00f0 0022     		movs	r2, #0
 4943 00f2 9A61     		str	r2, [r3, #24]
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending interrupts */
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 4944              		.loc 1 1419 17
 4945 00f4 7B68     		ldr	r3, [r7, #4]
 4946 00f6 4FF0FF32 		mov	r2, #-1
 4947 00fa 5A61     		str	r2, [r3, #20]
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx->CID & (0x1U << 8)) != 0U)
 4948              		.loc 1 1421 12
 4949 00fc 7B68     		ldr	r3, [r7, #4]
 4950 00fe DB6B     		ldr	r3, [r3, #60]
ARM GAS  /tmp/ccaXZQ0T.s 			page 112


 4951              		.loc 1 1421 18
 4952 0100 03F48073 		and	r3, r3, #256
 4953              		.loc 1 1421 6
 4954 0104 002B     		cmp	r3, #0
 4955 0106 0BD0     		beq	.L214
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x200U;
 4956              		.loc 1 1424 20
 4957 0108 7B68     		ldr	r3, [r7, #4]
 4958 010a 4FF40072 		mov	r2, #512
 4959 010e 5A62     		str	r2, [r3, #36]
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x100U << 16) & USB_OTG_NPTXFD) | 0x200U);
 4960              		.loc 1 1425 30
 4961 0110 7B68     		ldr	r3, [r7, #4]
 4962 0112 144A     		ldr	r2, .L218
 4963 0114 9A62     		str	r2, [r3, #40]
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0xE0U << 16) & USB_OTG_HPTXFSIZ_PTXFD) | 0x300U);
 4964              		.loc 1 1426 20
 4965 0116 7B68     		ldr	r3, [r7, #4]
 4966 0118 134A     		ldr	r2, .L218+4
 4967 011a C3F80021 		str	r2, [r3, #256]
 4968 011e 09E0     		b	.L215
 4969              	.L214:
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* set Rx FIFO size */
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GRXFSIZ  = 0x80U;
 4970              		.loc 1 1431 20
 4971 0120 7B68     		ldr	r3, [r7, #4]
 4972 0122 8022     		movs	r2, #128
 4973 0124 5A62     		str	r2, [r3, #36]
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->DIEPTXF0_HNPTXFSIZ = (uint32_t)(((0x60U << 16) & USB_OTG_NPTXFD) | 0x80U);
 4974              		.loc 1 1432 30
 4975 0126 7B68     		ldr	r3, [r7, #4]
 4976 0128 104A     		ldr	r2, .L218+8
 4977 012a 9A62     		str	r2, [r3, #40]
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->HPTXFSIZ = (uint32_t)(((0x40U << 16)& USB_OTG_HPTXFSIZ_PTXFD) | 0xE0U);
 4978              		.loc 1 1433 20
 4979 012c 7B68     		ldr	r3, [r7, #4]
 4980 012e 104A     		ldr	r2, .L218+12
 4981 0130 C3F80021 		str	r2, [r3, #256]
 4982              	.L215:
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the common interrupts */
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (cfg.dma_enable == 0U)
 4983              		.loc 1 1437 10
 4984 0134 BB6A     		ldr	r3, [r7, #40]
 4985              		.loc 1 1437 6
 4986 0136 002B     		cmp	r3, #0
 4987 0138 05D1     		bne	.L216
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx->GINTMSK |= USB_OTG_GINTMSK_RXFLVLM;
 4988              		.loc 1 1439 19
 4989 013a 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccaXZQ0T.s 			page 113


 4990 013c 9B69     		ldr	r3, [r3, #24]
 4991 013e 43F01002 		orr	r2, r3, #16
 4992 0142 7B68     		ldr	r3, [r7, #4]
 4993 0144 9A61     		str	r2, [r3, #24]
 4994              	.L216:
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable interrupts matching to the Host mode ONLY */
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= (USB_OTG_GINTMSK_PRTIM            | USB_OTG_GINTMSK_HCIM | \
 4995              		.loc 1 1443 17
 4996 0146 7B68     		ldr	r3, [r7, #4]
 4997 0148 9A69     		ldr	r2, [r3, #24]
 4998 014a 0A4B     		ldr	r3, .L218+16
 4999 014c 1343     		orrs	r3, r3, r2
 5000 014e 7A68     		ldr	r2, [r7, #4]
 5001 0150 9361     		str	r3, [r2, #24]
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_SOFM             | USB_OTG_GINTSTS_DISCINT | \
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                     USB_OTG_GINTMSK_PXFRM_IISOOXFRM  | USB_OTG_GINTMSK_WUIM);
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5002              		.loc 1 1447 10
 5003 0152 0023     		movs	r3, #0
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5004              		.loc 1 1448 1
 5005 0154 1846     		mov	r0, r3
 5006 0156 1037     		adds	r7, r7, #16
 5007              	.LCFI207:
 5008              		.cfi_def_cfa_offset 24
 5009 0158 BD46     		mov	sp, r7
 5010              	.LCFI208:
 5011              		.cfi_def_cfa_register 13
 5012              		@ sp needed
 5013 015a BDE88040 		pop	{r7, lr}
 5014              	.LCFI209:
 5015              		.cfi_restore 14
 5016              		.cfi_restore 7
 5017              		.cfi_def_cfa_offset 16
 5018 015e 04B0     		add	sp, sp, #16
 5019              	.LCFI210:
 5020              		.cfi_def_cfa_offset 0
 5021 0160 7047     		bx	lr
 5022              	.L219:
 5023 0162 00BF     		.align	2
 5024              	.L218:
 5025 0164 00020001 		.word	16777728
 5026 0168 0003E000 		.word	14680832
 5027 016c 80006000 		.word	6291584
 5028 0170 E0004000 		.word	4194528
 5029 0174 080020A3 		.word	-1558183928
 5030              		.cfi_endproc
 5031              	.LFE164:
 5033              		.section	.text.USB_InitFSLSPClkSel,"ax",%progbits
 5034              		.align	1
 5035              		.global	USB_InitFSLSPClkSel
 5036              		.syntax unified
 5037              		.thumb
 5038              		.thumb_func
ARM GAS  /tmp/ccaXZQ0T.s 			page 114


 5039              		.fpu fpv4-sp-d16
 5041              	USB_InitFSLSPClkSel:
 5042              	.LFB165:
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_InitFSLSPClkSel : Initializes the FSLSPClkSel field of the
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         HCFG register on the PHY type and set the right frame interval
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  freq  clock frequency
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_48_MHZ : Full Speed 48 MHz Clock
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           HCFG_6_MHZ : Low Speed 6 MHz Clock
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_InitFSLSPClkSel(USB_OTG_GlobalTypeDef *USBx, uint8_t freq)
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5043              		.loc 1 1461 1
 5044              		.cfi_startproc
 5045              		@ args = 0, pretend = 0, frame = 16
 5046              		@ frame_needed = 1, uses_anonymous_args = 0
 5047              		@ link register save eliminated.
 5048 0000 80B4     		push	{r7}
 5049              	.LCFI211:
 5050              		.cfi_def_cfa_offset 4
 5051              		.cfi_offset 7, -4
 5052 0002 85B0     		sub	sp, sp, #20
 5053              	.LCFI212:
 5054              		.cfi_def_cfa_offset 24
 5055 0004 00AF     		add	r7, sp, #0
 5056              	.LCFI213:
 5057              		.cfi_def_cfa_register 7
 5058 0006 7860     		str	r0, [r7, #4]
 5059 0008 0B46     		mov	r3, r1
 5060 000a FB70     		strb	r3, [r7, #3]
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5061              		.loc 1 1462 12
 5062 000c 7B68     		ldr	r3, [r7, #4]
 5063 000e FB60     		str	r3, [r7, #12]
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG &= ~(USB_OTG_HCFG_FSLSPCS);
 5064              		.loc 1 1464 19
 5065 0010 FB68     		ldr	r3, [r7, #12]
 5066 0012 03F58063 		add	r3, r3, #1024
 5067 0016 1B68     		ldr	r3, [r3]
 5068 0018 FA68     		ldr	r2, [r7, #12]
 5069 001a 02F58062 		add	r2, r2, #1024
 5070 001e 23F00303 		bic	r3, r3, #3
 5071 0022 1360     		str	r3, [r2]
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HCFG |= (uint32_t)freq & USB_OTG_HCFG_FSLSPCS;
 5072              		.loc 1 1465 19
 5073 0024 FB68     		ldr	r3, [r7, #12]
 5074 0026 03F58063 		add	r3, r3, #1024
 5075 002a 1A68     		ldr	r2, [r3]
 5076              		.loc 1 1465 37
 5077 002c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5078 002e 03F00303 		and	r3, r3, #3
 5079              		.loc 1 1465 19
ARM GAS  /tmp/ccaXZQ0T.s 			page 115


 5080 0032 F968     		ldr	r1, [r7, #12]
 5081 0034 01F58061 		add	r1, r1, #1024
 5082 0038 1343     		orrs	r3, r3, r2
 5083 003a 0B60     		str	r3, [r1]
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (freq == HCFG_48_MHZ)
 5084              		.loc 1 1467 6
 5085 003c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5086 003e 012B     		cmp	r3, #1
 5087 0040 07D1     		bne	.L221
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 48000U;
 5088              		.loc 1 1469 5
 5089 0042 FB68     		ldr	r3, [r7, #12]
 5090 0044 03F58063 		add	r3, r3, #1024
 5091 0048 1A46     		mov	r2, r3
 5092              		.loc 1 1469 21
 5093 004a 4BF68033 		movw	r3, #48000
 5094 004e 5360     		str	r3, [r2, #4]
 5095 0050 09E0     		b	.L222
 5096              	.L221:
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else if (freq == HCFG_6_MHZ)
 5097              		.loc 1 1471 11
 5098 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5099 0054 022B     		cmp	r3, #2
 5100 0056 06D1     		bne	.L222
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HOST->HFIR = 6000U;
 5101              		.loc 1 1473 5
 5102 0058 FB68     		ldr	r3, [r7, #12]
 5103 005a 03F58063 		add	r3, r3, #1024
 5104 005e 1A46     		mov	r2, r3
 5105              		.loc 1 1473 21
 5106 0060 41F27073 		movw	r3, #6000
 5107 0064 5360     		str	r3, [r2, #4]
 5108              	.L222:
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* ... */
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5109              		.loc 1 1480 10
 5110 0066 0023     		movs	r3, #0
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5111              		.loc 1 1481 1
 5112 0068 1846     		mov	r0, r3
 5113 006a 1437     		adds	r7, r7, #20
 5114              	.LCFI214:
 5115              		.cfi_def_cfa_offset 4
 5116 006c BD46     		mov	sp, r7
 5117              	.LCFI215:
 5118              		.cfi_def_cfa_register 13
 5119              		@ sp needed
 5120 006e 5DF8047B 		ldr	r7, [sp], #4
ARM GAS  /tmp/ccaXZQ0T.s 			page 116


 5121              	.LCFI216:
 5122              		.cfi_restore 7
 5123              		.cfi_def_cfa_offset 0
 5124 0072 7047     		bx	lr
 5125              		.cfi_endproc
 5126              	.LFE165:
 5128              		.section	.text.USB_ResetPort,"ax",%progbits
 5129              		.align	1
 5130              		.global	USB_ResetPort
 5131              		.syntax unified
 5132              		.thumb
 5133              		.thumb_func
 5134              		.fpu fpv4-sp-d16
 5136              	USB_ResetPort:
 5137              	.LFB166:
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** * @brief  USB_OTG_ResetPort : Reset Host Port
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @note (1)The application must wait at least 10 ms
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *   before clearing the reset bit.
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ResetPort(USB_OTG_GlobalTypeDef *USBx)
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5138              		.loc 1 1491 1
 5139              		.cfi_startproc
 5140              		@ args = 0, pretend = 0, frame = 16
 5141              		@ frame_needed = 1, uses_anonymous_args = 0
 5142 0000 80B5     		push	{r7, lr}
 5143              	.LCFI217:
 5144              		.cfi_def_cfa_offset 8
 5145              		.cfi_offset 7, -8
 5146              		.cfi_offset 14, -4
 5147 0002 84B0     		sub	sp, sp, #16
 5148              	.LCFI218:
 5149              		.cfi_def_cfa_offset 24
 5150 0004 00AF     		add	r7, sp, #0
 5151              	.LCFI219:
 5152              		.cfi_def_cfa_register 7
 5153 0006 7860     		str	r0, [r7, #4]
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5154              		.loc 1 1492 12
 5155 0008 7B68     		ldr	r3, [r7, #4]
 5156 000a FB60     		str	r3, [r7, #12]
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5157              		.loc 1 1494 17
 5158 000c 0023     		movs	r3, #0
 5159 000e BB60     		str	r3, [r7, #8]
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5160              		.loc 1 1496 11
 5161 0010 FB68     		ldr	r3, [r7, #12]
 5162 0012 03F58863 		add	r3, r3, #1088
 5163 0016 1B68     		ldr	r3, [r3]
 5164              		.loc 1 1496 9
ARM GAS  /tmp/ccaXZQ0T.s 			page 117


 5165 0018 BB60     		str	r3, [r7, #8]
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5166              		.loc 1 1498 9
 5167 001a BB68     		ldr	r3, [r7, #8]
 5168 001c 23F02E03 		bic	r3, r3, #46
 5169 0020 BB60     		str	r3, [r7, #8]
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = (USB_OTG_HPRT_PRST | hprt0);
 5170              		.loc 1 1501 35
 5171 0022 BB68     		ldr	r3, [r7, #8]
 5172              		.loc 1 1501 3
 5173 0024 FA68     		ldr	r2, [r7, #12]
 5174 0026 02F58862 		add	r2, r2, #1088
 5175              		.loc 1 1501 35
 5176 002a 43F48073 		orr	r3, r3, #256
 5177              		.loc 1 1501 14
 5178 002e 1360     		str	r3, [r2]
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(100U);                                 /* See Note #1 */
 5179              		.loc 1 1502 3
 5180 0030 6420     		movs	r0, #100
 5181 0032 FFF7FEFF 		bl	HAL_Delay
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HPRT0 = ((~USB_OTG_HPRT_PRST) & hprt0);
 5182              		.loc 1 1503 38
 5183 0036 BB68     		ldr	r3, [r7, #8]
 5184              		.loc 1 1503 3
 5185 0038 FA68     		ldr	r2, [r7, #12]
 5186 003a 02F58862 		add	r2, r2, #1088
 5187              		.loc 1 1503 38
 5188 003e 23F48073 		bic	r3, r3, #256
 5189              		.loc 1 1503 14
 5190 0042 1360     		str	r3, [r2]
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_Delay(10U);
 5191              		.loc 1 1504 3
 5192 0044 0A20     		movs	r0, #10
 5193 0046 FFF7FEFF 		bl	HAL_Delay
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5194              		.loc 1 1506 10
 5195 004a 0023     		movs	r3, #0
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5196              		.loc 1 1507 1
 5197 004c 1846     		mov	r0, r3
 5198 004e 1037     		adds	r7, r7, #16
 5199              	.LCFI220:
 5200              		.cfi_def_cfa_offset 8
 5201 0050 BD46     		mov	sp, r7
 5202              	.LCFI221:
 5203              		.cfi_def_cfa_register 13
 5204              		@ sp needed
 5205 0052 80BD     		pop	{r7, pc}
 5206              		.cfi_endproc
 5207              	.LFE166:
 5209              		.section	.text.USB_DriveVbus,"ax",%progbits
 5210              		.align	1
 5211              		.global	USB_DriveVbus
ARM GAS  /tmp/ccaXZQ0T.s 			page 118


 5212              		.syntax unified
 5213              		.thumb
 5214              		.thumb_func
 5215              		.fpu fpv4-sp-d16
 5217              	USB_DriveVbus:
 5218              	.LFB167:
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DriveVbus : activate or de-activate vbus
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  state  VBUS state
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : VBUS Active
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : VBUS Inactive
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DriveVbus(USB_OTG_GlobalTypeDef *USBx, uint8_t state)
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5219              		.loc 1 1518 1
 5220              		.cfi_startproc
 5221              		@ args = 0, pretend = 0, frame = 16
 5222              		@ frame_needed = 1, uses_anonymous_args = 0
 5223              		@ link register save eliminated.
 5224 0000 80B4     		push	{r7}
 5225              	.LCFI222:
 5226              		.cfi_def_cfa_offset 4
 5227              		.cfi_offset 7, -4
 5228 0002 85B0     		sub	sp, sp, #20
 5229              	.LCFI223:
 5230              		.cfi_def_cfa_offset 24
 5231 0004 00AF     		add	r7, sp, #0
 5232              	.LCFI224:
 5233              		.cfi_def_cfa_register 7
 5234 0006 7860     		str	r0, [r7, #4]
 5235 0008 0B46     		mov	r3, r1
 5236 000a FB70     		strb	r3, [r7, #3]
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5237              		.loc 1 1519 12
 5238 000c 7B68     		ldr	r3, [r7, #4]
 5239 000e FB60     		str	r3, [r7, #12]
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5240              		.loc 1 1520 17
 5241 0010 0023     		movs	r3, #0
 5242 0012 BB60     		str	r3, [r7, #8]
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5243              		.loc 1 1522 11
 5244 0014 FB68     		ldr	r3, [r7, #12]
 5245 0016 03F58863 		add	r3, r3, #1088
 5246 001a 1B68     		ldr	r3, [r3]
 5247              		.loc 1 1522 9
 5248 001c BB60     		str	r3, [r7, #8]
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 &= ~(USB_OTG_HPRT_PENA | USB_OTG_HPRT_PCDET |
 5249              		.loc 1 1524 9
 5250 001e BB68     		ldr	r3, [r7, #8]
 5251 0020 23F02E03 		bic	r3, r3, #46
 5252 0024 BB60     		str	r3, [r7, #8]
ARM GAS  /tmp/ccaXZQ0T.s 			page 119


1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****              USB_OTG_HPRT_PENCHNG | USB_OTG_HPRT_POCCHNG);
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == 0U) && (state == 1U))
 5253              		.loc 1 1527 15
 5254 0026 BB68     		ldr	r3, [r7, #8]
 5255 0028 03F48053 		and	r3, r3, #4096
 5256              		.loc 1 1527 6
 5257 002c 002B     		cmp	r3, #0
 5258 002e 09D1     		bne	.L227
 5259              		.loc 1 1527 43 discriminator 1
 5260 0030 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5261 0032 012B     		cmp	r3, #1
 5262 0034 06D1     		bne	.L227
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = (USB_OTG_HPRT_PPWR | hprt0);
 5263              		.loc 1 1529 37
 5264 0036 BB68     		ldr	r3, [r7, #8]
 5265              		.loc 1 1529 5
 5266 0038 FA68     		ldr	r2, [r7, #12]
 5267 003a 02F58862 		add	r2, r2, #1088
 5268              		.loc 1 1529 37
 5269 003e 43F48053 		orr	r3, r3, #4096
 5270              		.loc 1 1529 16
 5271 0042 1360     		str	r3, [r2]
 5272              	.L227:
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((hprt0 & USB_OTG_HPRT_PPWR) == USB_OTG_HPRT_PPWR) && (state == 0U))
 5273              		.loc 1 1531 15
 5274 0044 BB68     		ldr	r3, [r7, #8]
 5275 0046 03F48053 		and	r3, r3, #4096
 5276              		.loc 1 1531 6
 5277 004a B3F5805F 		cmp	r3, #4096
 5278 004e 09D1     		bne	.L228
 5279              		.loc 1 1531 58 discriminator 1
 5280 0050 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5281 0052 002B     		cmp	r3, #0
 5282 0054 06D1     		bne	.L228
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HPRT0 = ((~USB_OTG_HPRT_PPWR) & hprt0);
 5283              		.loc 1 1533 40
 5284 0056 BB68     		ldr	r3, [r7, #8]
 5285              		.loc 1 1533 5
 5286 0058 FA68     		ldr	r2, [r7, #12]
 5287 005a 02F58862 		add	r2, r2, #1088
 5288              		.loc 1 1533 40
 5289 005e 23F48053 		bic	r3, r3, #4096
 5290              		.loc 1 1533 16
 5291 0062 1360     		str	r3, [r2]
 5292              	.L228:
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 5293              		.loc 1 1535 10
 5294 0064 0023     		movs	r3, #0
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5295              		.loc 1 1536 1
 5296 0066 1846     		mov	r0, r3
 5297 0068 1437     		adds	r7, r7, #20
ARM GAS  /tmp/ccaXZQ0T.s 			page 120


 5298              	.LCFI225:
 5299              		.cfi_def_cfa_offset 4
 5300 006a BD46     		mov	sp, r7
 5301              	.LCFI226:
 5302              		.cfi_def_cfa_register 13
 5303              		@ sp needed
 5304 006c 5DF8047B 		ldr	r7, [sp], #4
 5305              	.LCFI227:
 5306              		.cfi_restore 7
 5307              		.cfi_def_cfa_offset 0
 5308 0070 7047     		bx	lr
 5309              		.cfi_endproc
 5310              	.LFE167:
 5312              		.section	.text.USB_GetHostSpeed,"ax",%progbits
 5313              		.align	1
 5314              		.global	USB_GetHostSpeed
 5315              		.syntax unified
 5316              		.thumb
 5317              		.thumb_func
 5318              		.fpu fpv4-sp-d16
 5320              	USB_GetHostSpeed:
 5321              	.LFB168:
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Core speed
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval speed : Host speed
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_HIGH: High speed mode
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_FULL: Full speed mode
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg HCD_SPEED_LOW: Low speed mode
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetHostSpeed(USB_OTG_GlobalTypeDef *USBx)
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5322              		.loc 1 1548 1
 5323              		.cfi_startproc
 5324              		@ args = 0, pretend = 0, frame = 16
 5325              		@ frame_needed = 1, uses_anonymous_args = 0
 5326              		@ link register save eliminated.
 5327 0000 80B4     		push	{r7}
 5328              	.LCFI228:
 5329              		.cfi_def_cfa_offset 4
 5330              		.cfi_offset 7, -4
 5331 0002 85B0     		sub	sp, sp, #20
 5332              	.LCFI229:
 5333              		.cfi_def_cfa_offset 24
 5334 0004 00AF     		add	r7, sp, #0
 5335              	.LCFI230:
 5336              		.cfi_def_cfa_register 7
 5337 0006 7860     		str	r0, [r7, #4]
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5338              		.loc 1 1549 12
 5339 0008 7B68     		ldr	r3, [r7, #4]
 5340 000a FB60     		str	r3, [r7, #12]
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   __IO uint32_t hprt0 = 0U;
 5341              		.loc 1 1550 17
 5342 000c 0023     		movs	r3, #0
ARM GAS  /tmp/ccaXZQ0T.s 			page 121


 5343 000e BB60     		str	r3, [r7, #8]
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   hprt0 = USBx_HPRT0;
 5344              		.loc 1 1552 11
 5345 0010 FB68     		ldr	r3, [r7, #12]
 5346 0012 03F58863 		add	r3, r3, #1088
 5347 0016 1B68     		ldr	r3, [r3]
 5348              		.loc 1 1552 9
 5349 0018 BB60     		str	r3, [r7, #8]
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((hprt0 & USB_OTG_HPRT_PSPD) >> 17);
 5350              		.loc 1 1553 39
 5351 001a BB68     		ldr	r3, [r7, #8]
 5352 001c 5B0C     		lsrs	r3, r3, #17
 5353 001e 03F00303 		and	r3, r3, #3
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5354              		.loc 1 1554 1
 5355 0022 1846     		mov	r0, r3
 5356 0024 1437     		adds	r7, r7, #20
 5357              	.LCFI231:
 5358              		.cfi_def_cfa_offset 4
 5359 0026 BD46     		mov	sp, r7
 5360              	.LCFI232:
 5361              		.cfi_def_cfa_register 13
 5362              		@ sp needed
 5363 0028 5DF8047B 		ldr	r7, [sp], #4
 5364              	.LCFI233:
 5365              		.cfi_restore 7
 5366              		.cfi_def_cfa_offset 0
 5367 002c 7047     		bx	lr
 5368              		.cfi_endproc
 5369              	.LFE168:
 5371              		.section	.text.USB_GetCurrentFrame,"ax",%progbits
 5372              		.align	1
 5373              		.global	USB_GetCurrentFrame
 5374              		.syntax unified
 5375              		.thumb
 5376              		.thumb_func
 5377              		.fpu fpv4-sp-d16
 5379              	USB_GetCurrentFrame:
 5380              	.LFB169:
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Return Host Current Frame number
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval current frame number
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** */
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_GetCurrentFrame(USB_OTG_GlobalTypeDef *USBx)
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5381              		.loc 1 1562 1
 5382              		.cfi_startproc
 5383              		@ args = 0, pretend = 0, frame = 16
 5384              		@ frame_needed = 1, uses_anonymous_args = 0
 5385              		@ link register save eliminated.
 5386 0000 80B4     		push	{r7}
 5387              	.LCFI234:
 5388              		.cfi_def_cfa_offset 4
 5389              		.cfi_offset 7, -4
ARM GAS  /tmp/ccaXZQ0T.s 			page 122


 5390 0002 85B0     		sub	sp, sp, #20
 5391              	.LCFI235:
 5392              		.cfi_def_cfa_offset 24
 5393 0004 00AF     		add	r7, sp, #0
 5394              	.LCFI236:
 5395              		.cfi_def_cfa_register 7
 5396 0006 7860     		str	r0, [r7, #4]
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5397              		.loc 1 1563 12
 5398 0008 7B68     		ldr	r3, [r7, #4]
 5399 000a FB60     		str	r3, [r7, #12]
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return (USBx_HOST->HFNUM & USB_OTG_HFNUM_FRNUM);
 5400              		.loc 1 1565 11
 5401 000c FB68     		ldr	r3, [r7, #12]
 5402 000e 03F58063 		add	r3, r3, #1024
 5403              		.loc 1 1565 20
 5404 0012 9B68     		ldr	r3, [r3, #8]
 5405              		.loc 1 1565 28
 5406 0014 9BB2     		uxth	r3, r3
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5407              		.loc 1 1566 1
 5408 0016 1846     		mov	r0, r3
 5409 0018 1437     		adds	r7, r7, #20
 5410              	.LCFI237:
 5411              		.cfi_def_cfa_offset 4
 5412 001a BD46     		mov	sp, r7
 5413              	.LCFI238:
 5414              		.cfi_def_cfa_register 13
 5415              		@ sp needed
 5416 001c 5DF8047B 		ldr	r7, [sp], #4
 5417              	.LCFI239:
 5418              		.cfi_restore 7
 5419              		.cfi_def_cfa_offset 0
 5420 0020 7047     		bx	lr
 5421              		.cfi_endproc
 5422              	.LFE169:
 5424              		.section	.text.USB_HC_Init,"ax",%progbits
 5425              		.align	1
 5426              		.global	USB_HC_Init
 5427              		.syntax unified
 5428              		.thumb
 5429              		.thumb_func
 5430              		.fpu fpv4-sp-d16
 5432              	USB_HC_Init:
 5433              	.LFB170:
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initialize a host channel
1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ch_num  Channel number
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  epnum  Endpoint number
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 1 to 15
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dev_address  Current device address
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to 255
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  speed  Current device speed
ARM GAS  /tmp/ccaXZQ0T.s 			page 123


1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_HIGH: High speed mode
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_FULL: Full speed mode
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg USB_OTG_SPEED_LOW: Low speed mode
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  ep_type  Endpoint Type
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_CTRL: Control type
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_ISOC: Isochronous type
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_BULK: Bulk type
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *            @arg EP_TYPE_INTR: Interrupt type
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  mps  Max Packet Size
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be a value from 0 to32K
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Init(USB_OTG_GlobalTypeDef *USBx,
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ch_num,
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t epnum,
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t dev_address,
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t speed,
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint8_t ep_type,
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                               uint16_t mps)
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5434              		.loc 1 1599 1
 5435              		.cfi_startproc
 5436              		@ args = 12, pretend = 0, frame = 24
 5437              		@ frame_needed = 1, uses_anonymous_args = 0
 5438              		@ link register save eliminated.
 5439 0000 80B4     		push	{r7}
 5440              	.LCFI240:
 5441              		.cfi_def_cfa_offset 4
 5442              		.cfi_offset 7, -4
 5443 0002 87B0     		sub	sp, sp, #28
 5444              	.LCFI241:
 5445              		.cfi_def_cfa_offset 32
 5446 0004 00AF     		add	r7, sp, #0
 5447              	.LCFI242:
 5448              		.cfi_def_cfa_register 7
 5449 0006 7860     		str	r0, [r7, #4]
 5450 0008 0846     		mov	r0, r1
 5451 000a 1146     		mov	r1, r2
 5452 000c 1A46     		mov	r2, r3
 5453 000e 0346     		mov	r3, r0
 5454 0010 FB70     		strb	r3, [r7, #3]
 5455 0012 0B46     		mov	r3, r1
 5456 0014 BB70     		strb	r3, [r7, #2]
 5457 0016 1346     		mov	r3, r2
 5458 0018 7B70     		strb	r3, [r7, #1]
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   HAL_StatusTypeDef ret = HAL_OK;
 5459              		.loc 1 1600 21
 5460 001a 0023     		movs	r3, #0
 5461 001c FB75     		strb	r3, [r7, #23]
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5462              		.loc 1 1601 12
 5463 001e 7B68     		ldr	r3, [r7, #4]
 5464 0020 BB60     		str	r3, [r7, #8]
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HCcharEpDir, HCcharLowSpeed;
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccaXZQ0T.s 			page 124


1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear old interrupt conditions for this host channel. */
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCINT = 0xFFFFFFFFU;
 5465              		.loc 1 1605 3
 5466 0022 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5467 0024 5A01     		lsls	r2, r3, #5
 5468 0026 BB68     		ldr	r3, [r7, #8]
 5469 0028 1344     		add	r3, r3, r2
 5470 002a 03F5A063 		add	r3, r3, #1280
 5471 002e 1A46     		mov	r2, r3
 5472              		.loc 1 1605 36
 5473 0030 4FF0FF33 		mov	r3, #-1
 5474 0034 9360     		str	r3, [r2, #8]
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable channel interrupts required for this transfer. */
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   switch (ep_type)
 5475              		.loc 1 1608 3
 5476 0036 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5477 003a 032B     		cmp	r3, #3
 5478 003c 7ED8     		bhi	.L235
 5479 003e 01A2     		adr	r2, .L237
 5480 0040 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 5481              		.p2align 2
 5482              	.L237:
 5483 0044 55000000 		.word	.L238+1
 5484 0048 FF000000 		.word	.L239+1
 5485 004c 55000000 		.word	.L238+1
 5486 0050 C1000000 		.word	.L236+1
 5487              		.p2align 1
 5488              	.L238:
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_CTRL:
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_BULK:
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5489              		.loc 1 1612 7
 5490 0054 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5491 0056 5A01     		lsls	r2, r3, #5
 5492 0058 BB68     		ldr	r3, [r7, #8]
 5493 005a 1344     		add	r3, r3, r2
 5494 005c 03F5A063 		add	r3, r3, #1280
 5495 0060 1A46     		mov	r2, r3
 5496              		.loc 1 1612 43
 5497 0062 40F29D43 		movw	r3, #1181
 5498 0066 D360     		str	r3, [r2, #12]
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM;
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5499              		.loc 1 1619 27
 5500 0068 97F90230 		ldrsb	r3, [r7, #2]
 5501              		.loc 1 1619 10
 5502 006c 002B     		cmp	r3, #0
 5503 006e 10DA     		bge	.L240
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
ARM GAS  /tmp/ccaXZQ0T.s 			page 125


 5504              		.loc 1 1621 45
 5505 0070 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5506 0072 5A01     		lsls	r2, r3, #5
 5507 0074 BB68     		ldr	r3, [r7, #8]
 5508 0076 1344     		add	r3, r3, r2
 5509 0078 03F5A063 		add	r3, r3, #1280
 5510 007c DB68     		ldr	r3, [r3, #12]
 5511 007e FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5512 0080 5101     		lsls	r1, r2, #5
 5513 0082 BA68     		ldr	r2, [r7, #8]
 5514 0084 0A44     		add	r2, r2, r1
 5515 0086 02F5A062 		add	r2, r2, #1280
 5516 008a 43F48073 		orr	r3, r3, #256
 5517 008e D360     		str	r3, [r2, #12]
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       else
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if ((USBx->CID & (0x1U << 8)) != 0U)
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5518              		.loc 1 1630 7
 5519 0090 57E0     		b	.L251
 5520              	.L240:
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5521              		.loc 1 1625 18
 5522 0092 7B68     		ldr	r3, [r7, #4]
 5523 0094 DB6B     		ldr	r3, [r3, #60]
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5524              		.loc 1 1625 24
 5525 0096 03F48073 		and	r3, r3, #256
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
 5526              		.loc 1 1625 12
 5527 009a 002B     		cmp	r3, #0
 5528 009c 51D0     		beq	.L251
1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 5529              		.loc 1 1627 47
 5530 009e FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5531 00a0 5A01     		lsls	r2, r3, #5
 5532 00a2 BB68     		ldr	r3, [r7, #8]
 5533 00a4 1344     		add	r3, r3, r2
 5534 00a6 03F5A063 		add	r3, r3, #1280
 5535 00aa DB68     		ldr	r3, [r3, #12]
 5536 00ac FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5537 00ae 5101     		lsls	r1, r2, #5
 5538 00b0 BA68     		ldr	r2, [r7, #8]
 5539 00b2 0A44     		add	r2, r2, r1
 5540 00b4 02F5A062 		add	r2, r2, #1280
 5541 00b8 43F06003 		orr	r3, r3, #96
 5542 00bc D360     		str	r3, [r2, #12]
 5543              		.loc 1 1630 7
 5544 00be 40E0     		b	.L251
 5545              	.L236:
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_INTR:
ARM GAS  /tmp/ccaXZQ0T.s 			page 126


1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5546              		.loc 1 1633 7
 5547 00c0 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5548 00c2 5A01     		lsls	r2, r3, #5
 5549 00c4 BB68     		ldr	r3, [r7, #8]
 5550 00c6 1344     		add	r3, r3, r2
 5551 00c8 03F5A063 		add	r3, r3, #1280
 5552 00cc 1A46     		mov	r2, r3
 5553              		.loc 1 1633 43
 5554 00ce 40F29D63 		movw	r3, #1693
 5555 00d2 D360     		str	r3, [r2, #12]
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_STALLM |
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_TXERRM |
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_DTERRM |
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_NAKM   |
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5556              		.loc 1 1641 27
 5557 00d4 97F90230 		ldrsb	r3, [r7, #2]
 5558              		.loc 1 1641 10
 5559 00d8 002B     		cmp	r3, #0
 5560 00da 34DA     		bge	.L252
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= USB_OTG_HCINTMSK_BBERRM;
 5561              		.loc 1 1643 45
 5562 00dc FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5563 00de 5A01     		lsls	r2, r3, #5
 5564 00e0 BB68     		ldr	r3, [r7, #8]
 5565 00e2 1344     		add	r3, r3, r2
 5566 00e4 03F5A063 		add	r3, r3, #1280
 5567 00e8 DB68     		ldr	r3, [r3, #12]
 5568 00ea FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5569 00ec 5101     		lsls	r1, r2, #5
 5570 00ee BA68     		ldr	r2, [r7, #8]
 5571 00f0 0A44     		add	r2, r2, r1
 5572 00f2 02F5A062 		add	r2, r2, #1280
 5573 00f6 43F48073 		orr	r3, r3, #256
 5574 00fa D360     		str	r3, [r2, #12]
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5575              		.loc 1 1646 7
 5576 00fc 23E0     		b	.L252
 5577              	.L239:
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     case EP_TYPE_ISOC:
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC((uint32_t)ch_num)->HCINTMSK = USB_OTG_HCINTMSK_XFRCM  |
 5578              		.loc 1 1649 7
 5579 00fe FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5580 0100 5A01     		lsls	r2, r3, #5
 5581 0102 BB68     		ldr	r3, [r7, #8]
 5582 0104 1344     		add	r3, r3, r2
 5583 0106 03F5A063 		add	r3, r3, #1280
 5584 010a 1A46     		mov	r2, r3
 5585              		.loc 1 1649 43
ARM GAS  /tmp/ccaXZQ0T.s 			page 127


 5586 010c 40F22523 		movw	r3, #549
 5587 0110 D360     		str	r3, [r2, #12]
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_ACKM   |
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_AHBERR |
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                             USB_OTG_HCINTMSK_FRMORM;
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if ((epnum & 0x80U) == 0x80U)
 5588              		.loc 1 1654 27
 5589 0112 97F90230 		ldrsb	r3, [r7, #2]
 5590              		.loc 1 1654 10
 5591 0116 002B     		cmp	r3, #0
 5592 0118 17DA     		bge	.L253
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         USBx_HC((uint32_t)ch_num)->HCINTMSK |= (USB_OTG_HCINTMSK_TXERRM | USB_OTG_HCINTMSK_BBERRM);
 5593              		.loc 1 1656 45
 5594 011a FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5595 011c 5A01     		lsls	r2, r3, #5
 5596 011e BB68     		ldr	r3, [r7, #8]
 5597 0120 1344     		add	r3, r3, r2
 5598 0122 03F5A063 		add	r3, r3, #1280
 5599 0126 DB68     		ldr	r3, [r3, #12]
 5600 0128 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5601 012a 5101     		lsls	r1, r2, #5
 5602 012c BA68     		ldr	r2, [r7, #8]
 5603 012e 0A44     		add	r2, r2, r1
 5604 0130 02F5A062 		add	r2, r2, #1280
 5605 0134 43F4C073 		orr	r3, r3, #384
 5606 0138 D360     		str	r3, [r2, #12]
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5607              		.loc 1 1658 7
 5608 013a 06E0     		b	.L253
 5609              	.L235:
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     default:
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       ret = HAL_ERROR;
 5610              		.loc 1 1661 11
 5611 013c 0123     		movs	r3, #1
 5612 013e FB75     		strb	r3, [r7, #23]
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       break;
 5613              		.loc 1 1662 7
 5614 0140 04E0     		b	.L242
 5615              	.L251:
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5616              		.loc 1 1630 7
 5617 0142 00BF     		nop
 5618 0144 02E0     		b	.L242
 5619              	.L252:
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5620              		.loc 1 1646 7
 5621 0146 00BF     		nop
 5622 0148 00E0     		b	.L242
 5623              	.L253:
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 5624              		.loc 1 1658 7
 5625 014a 00BF     		nop
 5626              	.L242:
ARM GAS  /tmp/ccaXZQ0T.s 			page 128


1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Enable the top level host channel interrupt. */
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINTMSK |= 1UL << (ch_num & 0xFU);
 5627              		.loc 1 1666 23
 5628 014c BB68     		ldr	r3, [r7, #8]
 5629 014e 03F58063 		add	r3, r3, #1024
 5630 0152 9A69     		ldr	r2, [r3, #24]
 5631              		.loc 1 1666 41
 5632 0154 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5633 0156 03F00F03 		and	r3, r3, #15
 5634              		.loc 1 1666 30
 5635 015a 0121     		movs	r1, #1
 5636 015c 01FA03F3 		lsl	r3, r1, r3
 5637              		.loc 1 1666 23
 5638 0160 B968     		ldr	r1, [r7, #8]
 5639 0162 01F58061 		add	r1, r1, #1024
 5640 0166 1343     		orrs	r3, r3, r2
 5641 0168 8B61     		str	r3, [r1, #24]
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Make sure host channel interrupts are enabled. */
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTMSK |= USB_OTG_GINTMSK_HCIM;
 5642              		.loc 1 1669 17
 5643 016a 7B68     		ldr	r3, [r7, #4]
 5644 016c 9B69     		ldr	r3, [r3, #24]
 5645 016e 43F00072 		orr	r2, r3, #33554432
 5646 0172 7B68     		ldr	r3, [r7, #4]
 5647 0174 9A61     		str	r2, [r3, #24]
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Program the HCCHAR register */
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((epnum & 0x80U) == 0x80U)
 5648              		.loc 1 1672 23
 5649 0176 97F90230 		ldrsb	r3, [r7, #2]
 5650              		.loc 1 1672 6
 5651 017a 002B     		cmp	r3, #0
 5652 017c 03DA     		bge	.L245
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = (0x1U << 15) & USB_OTG_HCCHAR_EPDIR;
 5653              		.loc 1 1674 17
 5654 017e 4FF40043 		mov	r3, #32768
 5655 0182 3B61     		str	r3, [r7, #16]
 5656 0184 01E0     		b	.L246
 5657              	.L245:
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharEpDir = 0U;
 5658              		.loc 1 1678 17
 5659 0186 0023     		movs	r3, #0
 5660 0188 3B61     		str	r3, [r7, #16]
 5661              	.L246:
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (speed == HPRT0_PRTSPD_LOW_SPEED)
 5662              		.loc 1 1681 6
 5663 018a 97F82030 		ldrb	r3, [r7, #32]	@ zero_extendqisi2
 5664 018e 022B     		cmp	r3, #2
ARM GAS  /tmp/ccaXZQ0T.s 			page 129


 5665 0190 03D1     		bne	.L247
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = (0x1U << 17) & USB_OTG_HCCHAR_LSDEV;
 5666              		.loc 1 1683 20
 5667 0192 4FF40033 		mov	r3, #131072
 5668 0196 FB60     		str	r3, [r7, #12]
 5669 0198 01E0     		b	.L248
 5670              	.L247:
1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     HCcharLowSpeed = 0U;
 5671              		.loc 1 1687 20
 5672 019a 0023     		movs	r3, #0
 5673 019c FB60     		str	r3, [r7, #12]
 5674              	.L248:
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC((uint32_t)ch_num)->HCCHAR = (((uint32_t)dev_address << 22) & USB_OTG_HCCHAR_DAD) |
 5675              		.loc 1 1690 41
 5676 019e 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 5677              		.loc 1 1690 63
 5678 01a0 9B05     		lsls	r3, r3, #22
 5679              		.loc 1 1690 70
 5680 01a2 03F0FE52 		and	r2, r3, #532676608
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5681              		.loc 1 1691 67
 5682 01a6 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 5683 01a8 DB02     		lsls	r3, r3, #11
 5684              		.loc 1 1691 74
 5685 01aa 03F4F043 		and	r3, r3, #30720
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5686              		.loc 1 1690 92
 5687 01ae 1A43     		orrs	r2, r2, r3
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5688              		.loc 1 1692 41
 5689 01b0 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5690              		.loc 1 1692 59
 5691 01b4 9B04     		lsls	r3, r3, #18
 5692              		.loc 1 1692 66
 5693 01b6 03F44023 		and	r3, r3, #786432
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5694              		.loc 1 1691 98
 5695 01ba 1A43     		orrs	r2, r2, r3
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((uint32_t)mps & USB_OTG_HCCHAR_MPSIZ) | HCcharEpDir | HCchar
 5696              		.loc 1 1693 54
 5697 01bc 3B8D     		ldrh	r3, [r7, #40]
 5698 01be C3F30A03 		ubfx	r3, r3, #0, #11
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       (((uint32_t)ep_type << 18) & USB_OTG_HCCHAR_EPTYP) |
 5699              		.loc 1 1692 90
 5700 01c2 1A43     		orrs	r2, r2, r3
 5701              		.loc 1 1693 78
 5702 01c4 3B69     		ldr	r3, [r7, #16]
 5703 01c6 1A43     		orrs	r2, r2, r3
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5704              		.loc 1 1690 3
 5705 01c8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
ARM GAS  /tmp/ccaXZQ0T.s 			page 130


 5706 01ca 5901     		lsls	r1, r3, #5
 5707 01cc BB68     		ldr	r3, [r7, #8]
 5708 01ce 0B44     		add	r3, r3, r1
 5709 01d0 03F5A063 		add	r3, r3, #1280
 5710 01d4 1946     		mov	r1, r3
 5711              		.loc 1 1693 92
 5712 01d6 FB68     		ldr	r3, [r7, #12]
 5713 01d8 1343     		orrs	r3, r3, r2
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                                       ((((uint32_t)epnum & 0x7FU) << 11) & USB_OTG_HCCHAR_EPNUM) |
 5714              		.loc 1 1690 37
 5715 01da 0B60     		str	r3, [r1]
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (ep_type == EP_TYPE_INTR)
 5716              		.loc 1 1695 6
 5717 01dc 97F82430 		ldrb	r3, [r7, #36]	@ zero_extendqisi2
 5718 01e0 032B     		cmp	r3, #3
 5719 01e2 0FD1     		bne	.L249
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC((uint32_t)ch_num)->HCCHAR |= USB_OTG_HCCHAR_ODDFRM ;
 5720              		.loc 1 1697 39
 5721 01e4 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 5722 01e6 5A01     		lsls	r2, r3, #5
 5723 01e8 BB68     		ldr	r3, [r7, #8]
 5724 01ea 1344     		add	r3, r3, r2
 5725 01ec 03F5A063 		add	r3, r3, #1280
 5726 01f0 1B68     		ldr	r3, [r3]
 5727 01f2 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 5728 01f4 5101     		lsls	r1, r2, #5
 5729 01f6 BA68     		ldr	r2, [r7, #8]
 5730 01f8 0A44     		add	r2, r2, r1
 5731 01fa 02F5A062 		add	r2, r2, #1280
 5732 01fe 43F00053 		orr	r3, r3, #536870912
 5733 0202 1360     		str	r3, [r2]
 5734              	.L249:
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ret;
 5735              		.loc 1 1700 10
 5736 0204 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 5737              		.loc 1 1701 1
 5738 0206 1846     		mov	r0, r3
 5739 0208 1C37     		adds	r7, r7, #28
 5740              	.LCFI243:
 5741              		.cfi_def_cfa_offset 4
 5742 020a BD46     		mov	sp, r7
 5743              	.LCFI244:
 5744              		.cfi_def_cfa_register 13
 5745              		@ sp needed
 5746 020c 5DF8047B 		ldr	r7, [sp], #4
 5747              	.LCFI245:
 5748              		.cfi_restore 7
 5749              		.cfi_def_cfa_offset 0
 5750 0210 7047     		bx	lr
 5751              		.cfi_endproc
 5752              	.LFE170:
 5754 0212 00BF     		.section	.text.USB_HC_StartXfer,"ax",%progbits
ARM GAS  /tmp/ccaXZQ0T.s 			page 131


 5755              		.align	1
 5756              		.global	USB_HC_StartXfer
 5757              		.syntax unified
 5758              		.thumb
 5759              		.thumb_func
 5760              		.fpu fpv4-sp-d16
 5762              	USB_HC_StartXfer:
 5763              	.LFB171:
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Start a transfer over a host channel
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc  pointer to host channel structure
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  dma USB dma enabled or disabled
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *          This parameter can be one of these values:
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           0 : DMA feature not used
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *           1 : DMA feature used
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_StartXfer(USB_OTG_GlobalTypeDef *USBx, USB_OTG_HCTypeDef *hc, uint8_t dma)
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 5764              		.loc 1 1714 1
 5765              		.cfi_startproc
 5766              		@ args = 0, pretend = 0, frame = 40
 5767              		@ frame_needed = 1, uses_anonymous_args = 0
 5768 0000 80B5     		push	{r7, lr}
 5769              	.LCFI246:
 5770              		.cfi_def_cfa_offset 8
 5771              		.cfi_offset 7, -8
 5772              		.cfi_offset 14, -4
 5773 0002 8CB0     		sub	sp, sp, #48
 5774              	.LCFI247:
 5775              		.cfi_def_cfa_offset 56
 5776 0004 02AF     		add	r7, sp, #8
 5777              	.LCFI248:
 5778              		.cfi_def_cfa 7, 48
 5779 0006 F860     		str	r0, [r7, #12]
 5780 0008 B960     		str	r1, [r7, #8]
 5781 000a 1346     		mov	r3, r2
 5782 000c FB71     		strb	r3, [r7, #7]
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 5783              		.loc 1 1715 12
 5784 000e FB68     		ldr	r3, [r7, #12]
 5785 0010 3B62     		str	r3, [r7, #32]
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t ch_num = (uint32_t)hc->ch_num;
 5786              		.loc 1 1716 33
 5787 0012 BB68     		ldr	r3, [r7, #8]
 5788 0014 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5789              		.loc 1 1716 12
 5790 0016 FB61     		str	r3, [r7, #28]
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   static __IO uint32_t tmpreg = 0U;
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint8_t  is_oddframe;
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t len_words;
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t num_packets;
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint16_t max_hc_pkt_count = 256U;
 5791              		.loc 1 1721 12
 5792 0018 4FF48073 		mov	r3, #256
ARM GAS  /tmp/ccaXZQ0T.s 			page 132


 5793 001c 7B83     		strh	r3, [r7, #26]	@ movhi
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (((USBx->CID & (0x1U << 8)) != 0U) && (hc->speed == USBH_HS_SPEED))
 5794              		.loc 1 1723 13
 5795 001e FB68     		ldr	r3, [r7, #12]
 5796 0020 DB6B     		ldr	r3, [r3, #60]
 5797              		.loc 1 1723 19
 5798 0022 03F48073 		and	r3, r3, #256
 5799              		.loc 1 1723 6
 5800 0026 002B     		cmp	r3, #0
 5801 0028 28D0     		beq	.L255
 5802              		.loc 1 1723 47 discriminator 1
 5803 002a BB68     		ldr	r3, [r7, #8]
 5804 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 5805              		.loc 1 1723 41 discriminator 1
 5806 002e 002B     		cmp	r3, #0
 5807 0030 24D1     		bne	.L255
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((dma == 0U) && (hc->do_ping == 1U))
 5808              		.loc 1 1725 8
 5809 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5810 0034 002B     		cmp	r3, #0
 5811 0036 0BD1     		bne	.L256
 5812              		.loc 1 1725 27 discriminator 1
 5813 0038 BB68     		ldr	r3, [r7, #8]
 5814 003a 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 5815              		.loc 1 1725 21 discriminator 1
 5816 003c 012B     		cmp	r3, #1
 5817 003e 07D1     		bne	.L256
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_DoPing(USBx, hc->ch_num);
 5818              		.loc 1 1727 13
 5819 0040 BB68     		ldr	r3, [r7, #8]
 5820 0042 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 5821 0044 1946     		mov	r1, r3
 5822 0046 F868     		ldr	r0, [r7, #12]
 5823 0048 FFF7FEFF 		bl	USB_DoPing
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       return HAL_OK;
 5824              		.loc 1 1728 14
 5825 004c 0023     		movs	r3, #0
 5826 004e 12E1     		b	.L257
 5827              	.L256:
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else if (dma == 1U)
 5828              		.loc 1 1730 13
 5829 0050 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5830 0052 012B     		cmp	r3, #1
 5831 0054 12D1     		bne	.L255
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(ch_num)->HCINTMSK &= ~(USB_OTG_HCINTMSK_NYET | USB_OTG_HCINTMSK_ACKM);
 5832              		.loc 1 1732 33
 5833 0056 FB69     		ldr	r3, [r7, #28]
 5834 0058 5A01     		lsls	r2, r3, #5
 5835 005a 3B6A     		ldr	r3, [r7, #32]
 5836 005c 1344     		add	r3, r3, r2
 5837 005e 03F5A063 		add	r3, r3, #1280
 5838 0062 DB68     		ldr	r3, [r3, #12]
ARM GAS  /tmp/ccaXZQ0T.s 			page 133


 5839 0064 FA69     		ldr	r2, [r7, #28]
 5840 0066 5101     		lsls	r1, r2, #5
 5841 0068 3A6A     		ldr	r2, [r7, #32]
 5842 006a 0A44     		add	r2, r2, r1
 5843 006c 02F5A062 		add	r2, r2, #1280
 5844 0070 23F06003 		bic	r3, r3, #96
 5845 0074 D360     		str	r3, [r2, #12]
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->do_ping = 0U;
 5846              		.loc 1 1733 19
 5847 0076 BB68     		ldr	r3, [r7, #8]
 5848 0078 0022     		movs	r2, #0
 5849 007a 5A71     		strb	r2, [r3, #5]
 5850              	.L255:
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* ... */
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Compute the expected number of packets associated to the transfer */
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->xfer_len > 0U)
 5851              		.loc 1 1742 9
 5852 007c BB68     		ldr	r3, [r7, #8]
 5853 007e 1B69     		ldr	r3, [r3, #16]
 5854              		.loc 1 1742 6
 5855 0080 002B     		cmp	r3, #0
 5856 0082 18D0     		beq	.L258
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = (uint16_t)((hc->xfer_len + hc->max_packet - 1U) / hc->max_packet);
 5857              		.loc 1 1744 33
 5858 0084 BB68     		ldr	r3, [r7, #8]
 5859 0086 1B69     		ldr	r3, [r3, #16]
 5860              		.loc 1 1744 48
 5861 0088 BA68     		ldr	r2, [r7, #8]
 5862 008a 1289     		ldrh	r2, [r2, #8]
 5863              		.loc 1 1744 44
 5864 008c 1344     		add	r3, r3, r2
 5865              		.loc 1 1744 61
 5866 008e 013B     		subs	r3, r3, #1
 5867              		.loc 1 1744 71
 5868 0090 BA68     		ldr	r2, [r7, #8]
 5869 0092 1289     		ldrh	r2, [r2, #8]
 5870              		.loc 1 1744 67
 5871 0094 B3FBF2F3 		udiv	r3, r3, r2
 5872              		.loc 1 1744 17
 5873 0098 FB84     		strh	r3, [r7, #38]	@ movhi
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if (num_packets > max_hc_pkt_count)
 5874              		.loc 1 1746 8
 5875 009a FA8C     		ldrh	r2, [r7, #38]
 5876 009c 7B8B     		ldrh	r3, [r7, #26]
 5877 009e 9A42     		cmp	r2, r3
 5878 00a0 0BD9     		bls	.L260
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       num_packets = max_hc_pkt_count;
 5879              		.loc 1 1748 19
ARM GAS  /tmp/ccaXZQ0T.s 			page 134


 5880 00a2 7B8B     		ldrh	r3, [r7, #26]	@ movhi
 5881 00a4 FB84     		strh	r3, [r7, #38]	@ movhi
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       hc->xfer_len = (uint32_t)num_packets * hc->max_packet;
 5882              		.loc 1 1749 22
 5883 00a6 FB8C     		ldrh	r3, [r7, #38]
 5884              		.loc 1 1749 48
 5885 00a8 BA68     		ldr	r2, [r7, #8]
 5886 00aa 1289     		ldrh	r2, [r2, #8]
 5887              		.loc 1 1749 44
 5888 00ac 02FB03F2 		mul	r2, r2, r3
 5889              		.loc 1 1749 20
 5890 00b0 BB68     		ldr	r3, [r7, #8]
 5891 00b2 1A61     		str	r2, [r3, #16]
 5892 00b4 01E0     		b	.L260
 5893              	.L258:
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     num_packets = 1U;
 5894              		.loc 1 1754 17
 5895 00b6 0123     		movs	r3, #1
 5896 00b8 FB84     		strh	r3, [r7, #38]	@ movhi
 5897              	.L260:
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 5898              		.loc 1 1756 9
 5899 00ba BB68     		ldr	r3, [r7, #8]
 5900 00bc DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 5901              		.loc 1 1756 6
 5902 00be 002B     		cmp	r3, #0
 5903 00c0 06D0     		beq	.L261
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     hc->xfer_len = (uint32_t)num_packets * hc->max_packet;
 5904              		.loc 1 1758 20
 5905 00c2 FB8C     		ldrh	r3, [r7, #38]
 5906              		.loc 1 1758 46
 5907 00c4 BA68     		ldr	r2, [r7, #8]
 5908 00c6 1289     		ldrh	r2, [r2, #8]
 5909              		.loc 1 1758 42
 5910 00c8 02FB03F2 		mul	r2, r2, r3
 5911              		.loc 1 1758 18
 5912 00cc BB68     		ldr	r3, [r7, #8]
 5913 00ce 1A61     		str	r2, [r3, #16]
 5914              	.L261:
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Initialize the HCTSIZn register */
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCTSIZ = (hc->xfer_len & USB_OTG_HCTSIZ_XFRSIZ) |
 5915              		.loc 1 1762 32
 5916 00d0 BB68     		ldr	r3, [r7, #8]
 5917 00d2 1B69     		ldr	r3, [r3, #16]
 5918              		.loc 1 1762 43
 5919 00d4 C3F31202 		ubfx	r2, r3, #0, #19
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5920              		.loc 1 1763 31
 5921 00d8 FB8C     		ldrh	r3, [r7, #38]
ARM GAS  /tmp/ccaXZQ0T.s 			page 135


 5922              		.loc 1 1763 53
 5923 00da D904     		lsls	r1, r3, #19
 5924              		.loc 1 1763 60
 5925 00dc 684B     		ldr	r3, .L276
 5926 00de 0B40     		ands	r3, r3, r1
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5927              		.loc 1 1762 68
 5928 00e0 1A43     		orrs	r2, r2, r3
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)hc->data_pid << 29) & USB_OTG_HCTSIZ_DPID);
 5929              		.loc 1 1764 43
 5930 00e2 BB68     		ldr	r3, [r7, #8]
 5931 00e4 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 5932              		.loc 1 1764 54
 5933 00e6 5B07     		lsls	r3, r3, #29
 5934              		.loc 1 1764 61
 5935 00e8 03F0C043 		and	r3, r3, #1610612736
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5936              		.loc 1 1762 3
 5937 00ec F969     		ldr	r1, [r7, #28]
 5938 00ee 4801     		lsls	r0, r1, #5
 5939 00f0 396A     		ldr	r1, [r7, #32]
 5940 00f2 0144     		add	r1, r1, r0
 5941 00f4 01F5A061 		add	r1, r1, #1280
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5942              		.loc 1 1763 85
 5943 00f8 1343     		orrs	r3, r3, r2
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                             (((uint32_t)num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 5944              		.loc 1 1762 27
 5945 00fa 0B61     		str	r3, [r1, #16]
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma != 0U)
 5946              		.loc 1 1766 6
 5947 00fc FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 5948 00fe 002B     		cmp	r3, #0
 5949 0100 09D0     		beq	.L262
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* xfer_buff MUST be 32-bits aligned */
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(ch_num)->HCDMA = (uint32_t)hc->xfer_buff;
 5950              		.loc 1 1769 42
 5951 0102 BB68     		ldr	r3, [r7, #8]
 5952 0104 D968     		ldr	r1, [r3, #12]
 5953              		.loc 1 1769 5
 5954 0106 FB69     		ldr	r3, [r7, #28]
 5955 0108 5A01     		lsls	r2, r3, #5
 5956 010a 3B6A     		ldr	r3, [r7, #32]
 5957 010c 1344     		add	r3, r3, r2
 5958 010e 03F5A063 		add	r3, r3, #1280
 5959              		.loc 1 1769 30
 5960 0112 0A46     		mov	r2, r1
 5961              		.loc 1 1769 28
 5962 0114 5A61     		str	r2, [r3, #20]
 5963              	.L262:
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   is_oddframe = (((uint32_t)USBx_HOST->HFNUM & 0x01U) != 0U) ? 0U : 1U;
 5964              		.loc 1 1772 29
 5965 0116 3B6A     		ldr	r3, [r7, #32]
ARM GAS  /tmp/ccaXZQ0T.s 			page 136


 5966 0118 03F58063 		add	r3, r3, #1024
 5967              		.loc 1 1772 38
 5968 011c 9B68     		ldr	r3, [r3, #8]
 5969              		.loc 1 1772 46
 5970 011e 03F00103 		and	r3, r3, #1
 5971              		.loc 1 1772 67
 5972 0122 002B     		cmp	r3, #0
 5973 0124 0CBF     		ite	eq
 5974 0126 0123     		moveq	r3, #1
 5975 0128 0023     		movne	r3, #0
 5976 012a DBB2     		uxtb	r3, r3
 5977              		.loc 1 1772 15
 5978 012c 7B76     		strb	r3, [r7, #25]
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR &= ~USB_OTG_HCCHAR_ODDFRM;
 5979              		.loc 1 1773 27
 5980 012e FB69     		ldr	r3, [r7, #28]
 5981 0130 5A01     		lsls	r2, r3, #5
 5982 0132 3B6A     		ldr	r3, [r7, #32]
 5983 0134 1344     		add	r3, r3, r2
 5984 0136 03F5A063 		add	r3, r3, #1280
 5985 013a 1B68     		ldr	r3, [r3]
 5986 013c FA69     		ldr	r2, [r7, #28]
 5987 013e 5101     		lsls	r1, r2, #5
 5988 0140 3A6A     		ldr	r2, [r7, #32]
 5989 0142 0A44     		add	r2, r2, r1
 5990 0144 02F5A062 		add	r2, r2, #1280
 5991 0148 23F00053 		bic	r3, r3, #536870912
 5992 014c 1360     		str	r3, [r2]
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR |= (uint32_t)is_oddframe << 29;
 5993              		.loc 1 1774 27
 5994 014e FB69     		ldr	r3, [r7, #28]
 5995 0150 5A01     		lsls	r2, r3, #5
 5996 0152 3B6A     		ldr	r3, [r7, #32]
 5997 0154 1344     		add	r3, r3, r2
 5998 0156 03F5A063 		add	r3, r3, #1280
 5999 015a 1A68     		ldr	r2, [r3]
 6000              		.loc 1 1774 30
 6001 015c 7B7E     		ldrb	r3, [r7, #25]	@ zero_extendqisi2
 6002              		.loc 1 1774 52
 6003 015e 5B07     		lsls	r3, r3, #29
 6004              		.loc 1 1774 27
 6005 0160 F969     		ldr	r1, [r7, #28]
 6006 0162 4801     		lsls	r0, r1, #5
 6007 0164 396A     		ldr	r1, [r7, #32]
 6008 0166 0144     		add	r1, r1, r0
 6009 0168 01F5A061 		add	r1, r1, #1280
 6010 016c 1343     		orrs	r3, r3, r2
 6011 016e 0B60     		str	r3, [r1]
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(ch_num)->HCCHAR;
 6012              		.loc 1 1777 12
 6013 0170 FB69     		ldr	r3, [r7, #28]
 6014 0172 5A01     		lsls	r2, r3, #5
 6015 0174 3B6A     		ldr	r3, [r7, #32]
 6016 0176 1344     		add	r3, r3, r2
 6017 0178 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccaXZQ0T.s 			page 137


 6018              		.loc 1 1777 27
 6019 017c 1B68     		ldr	r3, [r3]
 6020              		.loc 1 1777 10
 6021 017e 414A     		ldr	r2, .L276+4
 6022 0180 1360     		str	r3, [r2]
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6023              		.loc 1 1778 10
 6024 0182 404B     		ldr	r3, .L276+4
 6025 0184 1B68     		ldr	r3, [r3]
 6026 0186 23F08043 		bic	r3, r3, #1073741824
 6027 018a 3E4A     		ldr	r2, .L276+4
 6028 018c 1360     		str	r3, [r2]
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* make sure to set the correct ep direction */
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (hc->ep_is_in != 0U)
 6029              		.loc 1 1781 9
 6030 018e BB68     		ldr	r3, [r7, #8]
 6031 0190 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6032              		.loc 1 1781 6
 6033 0192 002B     		cmp	r3, #0
 6034 0194 06D0     		beq	.L263
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg |= USB_OTG_HCCHAR_EPDIR;
 6035              		.loc 1 1783 12
 6036 0196 3B4B     		ldr	r3, .L276+4
 6037 0198 1B68     		ldr	r3, [r3]
 6038 019a 43F40043 		orr	r3, r3, #32768
 6039 019e 394A     		ldr	r2, .L276+4
 6040 01a0 1360     		str	r3, [r2]
 6041 01a2 05E0     		b	.L264
 6042              	.L263:
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     tmpreg &= ~USB_OTG_HCCHAR_EPDIR;
 6043              		.loc 1 1787 12
 6044 01a4 374B     		ldr	r3, .L276+4
 6045 01a6 1B68     		ldr	r3, [r3]
 6046 01a8 23F40043 		bic	r3, r3, #32768
 6047 01ac 354A     		ldr	r2, .L276+4
 6048 01ae 1360     		str	r3, [r2]
 6049              	.L264:
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6050              		.loc 1 1789 10
 6051 01b0 344B     		ldr	r3, .L276+4
 6052 01b2 1B68     		ldr	r3, [r3]
 6053 01b4 43F00043 		orr	r3, r3, #-2147483648
 6054 01b8 324A     		ldr	r2, .L276+4
 6055 01ba 1360     		str	r3, [r2]
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(ch_num)->HCCHAR = tmpreg;
 6056              		.loc 1 1790 3
 6057 01bc FB69     		ldr	r3, [r7, #28]
 6058 01be 5A01     		lsls	r2, r3, #5
 6059 01c0 3B6A     		ldr	r3, [r7, #32]
 6060 01c2 1344     		add	r3, r3, r2
 6061 01c4 03F5A063 		add	r3, r3, #1280
ARM GAS  /tmp/ccaXZQ0T.s 			page 138


 6062 01c8 1A46     		mov	r2, r3
 6063              		.loc 1 1790 27
 6064 01ca 2E4B     		ldr	r3, .L276+4
 6065 01cc 1B68     		ldr	r3, [r3]
 6066 01ce 1360     		str	r3, [r2]
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if (dma == 0U) /* Slave mode */
 6067              		.loc 1 1792 6
 6068 01d0 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 6069 01d2 002B     		cmp	r3, #0
 6070 01d4 4ED1     		bne	.L265
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((hc->ep_is_in == 0U) && (hc->xfer_len > 0U))
 6071              		.loc 1 1794 12
 6072 01d6 BB68     		ldr	r3, [r7, #8]
 6073 01d8 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 6074              		.loc 1 1794 8
 6075 01da 002B     		cmp	r3, #0
 6076 01dc 4AD1     		bne	.L265
 6077              		.loc 1 1794 36 discriminator 1
 6078 01de BB68     		ldr	r3, [r7, #8]
 6079 01e0 1B69     		ldr	r3, [r3, #16]
 6080              		.loc 1 1794 30 discriminator 1
 6081 01e2 002B     		cmp	r3, #0
 6082 01e4 46D0     		beq	.L265
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       switch (hc->ep_type)
 6083              		.loc 1 1796 17
 6084 01e6 BB68     		ldr	r3, [r7, #8]
 6085 01e8 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6086              		.loc 1 1796 7
 6087 01ea 032B     		cmp	r3, #3
 6088 01ec 30D8     		bhi	.L273
 6089 01ee 01A2     		adr	r2, .L268
 6090 01f0 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 6091              		.p2align 2
 6092              	.L268:
 6093 01f4 05020000 		.word	.L269+1
 6094 01f8 29020000 		.word	.L267+1
 6095 01fc 05020000 		.word	.L269+1
 6096 0200 29020000 		.word	.L267+1
 6097              		.p2align 1
 6098              	.L269:
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Non periodic transfer */
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_CTRL:
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_BULK:
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6099              		.loc 1 1802 37
 6100 0204 BB68     		ldr	r3, [r7, #8]
 6101 0206 1B69     		ldr	r3, [r3, #16]
 6102              		.loc 1 1802 48
 6103 0208 0333     		adds	r3, r3, #3
 6104              		.loc 1 1802 54
 6105 020a 9B08     		lsrs	r3, r3, #2
 6106              		.loc 1 1802 21
ARM GAS  /tmp/ccaXZQ0T.s 			page 139


 6107 020c FB82     		strh	r3, [r7, #22]	@ movhi
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* check if there is enough space in FIFO space */
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (len_words > (USBx->HNPTXSTS & 0xFFFFU))
 6108              		.loc 1 1805 25
 6109 020e FA8A     		ldrh	r2, [r7, #22]
 6110              		.loc 1 1805 32
 6111 0210 FB68     		ldr	r3, [r7, #12]
 6112 0212 DB6A     		ldr	r3, [r3, #44]
 6113              		.loc 1 1805 43
 6114 0214 9BB2     		uxth	r3, r3
 6115              		.loc 1 1805 14
 6116 0216 9A42     		cmp	r2, r3
 6117 0218 1CD9     		bls	.L274
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             /* need to process data in nptxfempty interrupt */
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             USBx->GINTMSK |= USB_OTG_GINTMSK_NPTXFEM;
 6118              		.loc 1 1808 27
 6119 021a FB68     		ldr	r3, [r7, #12]
 6120 021c 9B69     		ldr	r3, [r3, #24]
 6121 021e 43F02002 		orr	r2, r3, #32
 6122 0222 FB68     		ldr	r3, [r7, #12]
 6123 0224 9A61     		str	r2, [r3, #24]
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 6124              		.loc 1 1810 11
 6125 0226 15E0     		b	.L274
 6126              	.L267:
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         /* Periodic transfer */
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_INTR:
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         case EP_TYPE_ISOC:
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           len_words = (uint16_t)((hc->xfer_len + 3U) / 4U);
 6127              		.loc 1 1815 37
 6128 0228 BB68     		ldr	r3, [r7, #8]
 6129 022a 1B69     		ldr	r3, [r3, #16]
 6130              		.loc 1 1815 48
 6131 022c 0333     		adds	r3, r3, #3
 6132              		.loc 1 1815 54
 6133 022e 9B08     		lsrs	r3, r3, #2
 6134              		.loc 1 1815 21
 6135 0230 FB82     		strh	r3, [r7, #22]	@ movhi
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           /* check if there is enough space in FIFO space */
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           if (len_words > (USBx_HOST->HPTXSTS & 0xFFFFU)) /* split the transfer */
 6136              		.loc 1 1817 25
 6137 0232 FA8A     		ldrh	r2, [r7, #22]
 6138              		.loc 1 1817 28
 6139 0234 3B6A     		ldr	r3, [r7, #32]
 6140 0236 03F58063 		add	r3, r3, #1024
 6141              		.loc 1 1817 37
 6142 023a 1B69     		ldr	r3, [r3, #16]
 6143              		.loc 1 1817 47
 6144 023c 9BB2     		uxth	r3, r3
 6145              		.loc 1 1817 14
 6146 023e 9A42     		cmp	r2, r3
 6147 0240 0AD9     		bls	.L275
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           {
ARM GAS  /tmp/ccaXZQ0T.s 			page 140


1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             /* need to process data in ptxfempty interrupt */
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****             USBx->GINTMSK |= USB_OTG_GINTMSK_PTXFEM;
 6148              		.loc 1 1820 27
 6149 0242 FB68     		ldr	r3, [r7, #12]
 6150 0244 9B69     		ldr	r3, [r3, #24]
 6151 0246 43F08062 		orr	r2, r3, #67108864
 6152 024a FB68     		ldr	r3, [r7, #12]
 6153 024c 9A61     		str	r2, [r3, #24]
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           }
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 6154              		.loc 1 1822 11
 6155 024e 03E0     		b	.L275
 6156              	.L273:
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         default:
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
 6157              		.loc 1 1825 11
 6158 0250 00BF     		nop
 6159 0252 02E0     		b	.L271
 6160              	.L274:
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6161              		.loc 1 1810 11
 6162 0254 00BF     		nop
 6163 0256 00E0     		b	.L271
 6164              	.L275:
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
 6165              		.loc 1 1822 11
 6166 0258 00BF     		nop
 6167              	.L271:
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       /* Write packet into the Tx FIFO. */
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       (void)USB_WritePacket(USBx, hc->xfer_buff, hc->ch_num, (uint16_t)hc->xfer_len, 0);
 6168              		.loc 1 1829 13
 6169 025a BB68     		ldr	r3, [r7, #8]
 6170 025c D968     		ldr	r1, [r3, #12]
 6171 025e BB68     		ldr	r3, [r7, #8]
 6172 0260 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 6173              		.loc 1 1829 74
 6174 0262 BB68     		ldr	r3, [r7, #8]
 6175 0264 1B69     		ldr	r3, [r3, #16]
 6176              		.loc 1 1829 13
 6177 0266 98B2     		uxth	r0, r3
 6178 0268 0023     		movs	r3, #0
 6179 026a 0093     		str	r3, [sp]
 6180 026c 0346     		mov	r3, r0
 6181 026e F868     		ldr	r0, [r7, #12]
 6182 0270 FFF7FEFF 		bl	USB_WritePacket
 6183              	.L265:
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6184              		.loc 1 1833 10
 6185 0274 0023     		movs	r3, #0
 6186              	.L257:
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
ARM GAS  /tmp/ccaXZQ0T.s 			page 141


 6187              		.loc 1 1834 1
 6188 0276 1846     		mov	r0, r3
 6189 0278 2837     		adds	r7, r7, #40
 6190              	.LCFI249:
 6191              		.cfi_def_cfa_offset 8
 6192 027a BD46     		mov	sp, r7
 6193              	.LCFI250:
 6194              		.cfi_def_cfa_register 13
 6195              		@ sp needed
 6196 027c 80BD     		pop	{r7, pc}
 6197              	.L277:
 6198 027e 00BF     		.align	2
 6199              	.L276:
 6200 0280 0000F81F 		.word	536346624
 6201 0284 00000000 		.word	tmpreg.8749
 6202              		.cfi_endproc
 6203              	.LFE171:
 6205              		.section	.text.USB_HC_ReadInterrupt,"ax",%progbits
 6206              		.align	1
 6207              		.global	USB_HC_ReadInterrupt
 6208              		.syntax unified
 6209              		.thumb
 6210              		.thumb_func
 6211              		.fpu fpv4-sp-d16
 6213              	USB_HC_ReadInterrupt:
 6214              	.LFB172:
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief Read all host channel interrupts status
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** uint32_t USB_HC_ReadInterrupt(USB_OTG_GlobalTypeDef *USBx)
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6215              		.loc 1 1842 1
 6216              		.cfi_startproc
 6217              		@ args = 0, pretend = 0, frame = 16
 6218              		@ frame_needed = 1, uses_anonymous_args = 0
 6219              		@ link register save eliminated.
 6220 0000 80B4     		push	{r7}
 6221              	.LCFI251:
 6222              		.cfi_def_cfa_offset 4
 6223              		.cfi_offset 7, -4
 6224 0002 85B0     		sub	sp, sp, #20
 6225              	.LCFI252:
 6226              		.cfi_def_cfa_offset 24
 6227 0004 00AF     		add	r7, sp, #0
 6228              	.LCFI253:
 6229              		.cfi_def_cfa_register 7
 6230 0006 7860     		str	r0, [r7, #4]
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6231              		.loc 1 1843 12
 6232 0008 7B68     		ldr	r3, [r7, #4]
 6233 000a FB60     		str	r3, [r7, #12]
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return ((USBx_HOST->HAINT) & 0xFFFFU);
 6234              		.loc 1 1845 12
ARM GAS  /tmp/ccaXZQ0T.s 			page 142


 6235 000c FB68     		ldr	r3, [r7, #12]
 6236 000e 03F58063 		add	r3, r3, #1024
 6237              		.loc 1 1845 21
 6238 0012 5B69     		ldr	r3, [r3, #20]
 6239              		.loc 1 1845 30
 6240 0014 9BB2     		uxth	r3, r3
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6241              		.loc 1 1846 1
 6242 0016 1846     		mov	r0, r3
 6243 0018 1437     		adds	r7, r7, #20
 6244              	.LCFI254:
 6245              		.cfi_def_cfa_offset 4
 6246 001a BD46     		mov	sp, r7
 6247              	.LCFI255:
 6248              		.cfi_def_cfa_register 13
 6249              		@ sp needed
 6250 001c 5DF8047B 		ldr	r7, [sp], #4
 6251              	.LCFI256:
 6252              		.cfi_restore 7
 6253              		.cfi_def_cfa_offset 0
 6254 0020 7047     		bx	lr
 6255              		.cfi_endproc
 6256              	.LFE172:
 6258              		.section	.text.USB_HC_Halt,"ax",%progbits
 6259              		.align	1
 6260              		.global	USB_HC_Halt
 6261              		.syntax unified
 6262              		.thumb
 6263              		.thumb_func
 6264              		.fpu fpv4-sp-d16
 6266              	USB_HC_Halt:
 6267              	.LFB173:
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Halt a host channel
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_HC_Halt(USB_OTG_GlobalTypeDef *USBx, uint8_t hc_num)
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6268              		.loc 1 1856 1
 6269              		.cfi_startproc
 6270              		@ args = 0, pretend = 0, frame = 24
 6271              		@ frame_needed = 1, uses_anonymous_args = 0
 6272              		@ link register save eliminated.
 6273 0000 80B4     		push	{r7}
 6274              	.LCFI257:
 6275              		.cfi_def_cfa_offset 4
 6276              		.cfi_offset 7, -4
 6277 0002 87B0     		sub	sp, sp, #28
 6278              	.LCFI258:
 6279              		.cfi_def_cfa_offset 32
 6280 0004 00AF     		add	r7, sp, #0
 6281              	.LCFI259:
 6282              		.cfi_def_cfa_register 7
ARM GAS  /tmp/ccaXZQ0T.s 			page 143


 6283 0006 7860     		str	r0, [r7, #4]
 6284 0008 0B46     		mov	r3, r1
 6285 000a FB70     		strb	r3, [r7, #3]
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6286              		.loc 1 1857 12
 6287 000c 7B68     		ldr	r3, [r7, #4]
 6288 000e 3B61     		str	r3, [r7, #16]
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t hcnum = (uint32_t)hc_num;
 6289              		.loc 1 1858 12
 6290 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6291 0012 FB60     		str	r3, [r7, #12]
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 6292              		.loc 1 1859 12
 6293 0014 0023     		movs	r3, #0
 6294 0016 7B61     		str	r3, [r7, #20]
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t HcEpType = (USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_EPTYP) >> 18;
 6295              		.loc 1 1860 24
 6296 0018 FB68     		ldr	r3, [r7, #12]
 6297 001a 5A01     		lsls	r2, r3, #5
 6298 001c 3B69     		ldr	r3, [r7, #16]
 6299 001e 1344     		add	r3, r3, r2
 6300 0020 03F5A063 		add	r3, r3, #1280
 6301              		.loc 1 1860 38
 6302 0024 1B68     		ldr	r3, [r3]
 6303              		.loc 1 1860 71
 6304 0026 9B0C     		lsrs	r3, r3, #18
 6305              		.loc 1 1860 12
 6306 0028 03F00303 		and	r3, r3, #3
 6307 002c BB60     		str	r3, [r7, #8]
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Check for space in the request queue to issue the halt. */
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((HcEpType == HCCHAR_CTRL) || (HcEpType == HCCHAR_BULK))
 6308              		.loc 1 1863 6
 6309 002e BB68     		ldr	r3, [r7, #8]
 6310 0030 002B     		cmp	r3, #0
 6311 0032 02D0     		beq	.L281
 6312              		.loc 1 1863 33 discriminator 1
 6313 0034 BB68     		ldr	r3, [r7, #8]
 6314 0036 022B     		cmp	r3, #2
 6315 0038 6CD1     		bne	.L282
 6316              	.L281:
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6317              		.loc 1 1865 28
 6318 003a FB68     		ldr	r3, [r7, #12]
 6319 003c 5A01     		lsls	r2, r3, #5
 6320 003e 3B69     		ldr	r3, [r7, #16]
 6321 0040 1344     		add	r3, r3, r2
 6322 0042 03F5A063 		add	r3, r3, #1280
 6323 0046 1B68     		ldr	r3, [r3]
 6324 0048 FA68     		ldr	r2, [r7, #12]
 6325 004a 5101     		lsls	r1, r2, #5
 6326 004c 3A69     		ldr	r2, [r7, #16]
 6327 004e 0A44     		add	r2, r2, r1
 6328 0050 02F5A062 		add	r2, r2, #1280
 6329 0054 43F08043 		orr	r3, r3, #1073741824
 6330 0058 1360     		str	r3, [r2]
ARM GAS  /tmp/ccaXZQ0T.s 			page 144


1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx->HNPTXSTS & (0xFFU << 16)) == 0U)
 6331              		.loc 1 1867 14
 6332 005a 7B68     		ldr	r3, [r7, #4]
 6333 005c DB6A     		ldr	r3, [r3, #44]
 6334              		.loc 1 1867 25
 6335 005e 03F47F03 		and	r3, r3, #16711680
 6336              		.loc 1 1867 8
 6337 0062 002B     		cmp	r3, #0
 6338 0064 43D1     		bne	.L283
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6339              		.loc 1 1869 30
 6340 0066 FB68     		ldr	r3, [r7, #12]
 6341 0068 5A01     		lsls	r2, r3, #5
 6342 006a 3B69     		ldr	r3, [r7, #16]
 6343 006c 1344     		add	r3, r3, r2
 6344 006e 03F5A063 		add	r3, r3, #1280
 6345 0072 1B68     		ldr	r3, [r3]
 6346 0074 FA68     		ldr	r2, [r7, #12]
 6347 0076 5101     		lsls	r1, r2, #5
 6348 0078 3A69     		ldr	r2, [r7, #16]
 6349 007a 0A44     		add	r2, r2, r1
 6350 007c 02F5A062 		add	r2, r2, #1280
 6351 0080 23F00043 		bic	r3, r3, #-2147483648
 6352 0084 1360     		str	r3, [r2]
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6353              		.loc 1 1870 30
 6354 0086 FB68     		ldr	r3, [r7, #12]
 6355 0088 5A01     		lsls	r2, r3, #5
 6356 008a 3B69     		ldr	r3, [r7, #16]
 6357 008c 1344     		add	r3, r3, r2
 6358 008e 03F5A063 		add	r3, r3, #1280
 6359 0092 1B68     		ldr	r3, [r3]
 6360 0094 FA68     		ldr	r2, [r7, #12]
 6361 0096 5101     		lsls	r1, r2, #5
 6362 0098 3A69     		ldr	r2, [r7, #16]
 6363 009a 0A44     		add	r2, r2, r1
 6364 009c 02F5A062 		add	r2, r2, #1280
 6365 00a0 43F00043 		orr	r3, r3, #-2147483648
 6366 00a4 1360     		str	r3, [r2]
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
 6367              		.loc 1 1871 30
 6368 00a6 FB68     		ldr	r3, [r7, #12]
 6369 00a8 5A01     		lsls	r2, r3, #5
 6370 00aa 3B69     		ldr	r3, [r7, #16]
 6371 00ac 1344     		add	r3, r3, r2
 6372 00ae 03F5A063 		add	r3, r3, #1280
 6373 00b2 1B68     		ldr	r3, [r3]
 6374 00b4 FA68     		ldr	r2, [r7, #12]
 6375 00b6 5101     		lsls	r1, r2, #5
 6376 00b8 3A69     		ldr	r2, [r7, #16]
 6377 00ba 0A44     		add	r2, r2, r1
 6378 00bc 02F5A062 		add	r2, r2, #1280
 6379 00c0 23F40043 		bic	r3, r3, #32768
 6380 00c4 1360     		str	r3, [r2]
 6381              	.L286:
ARM GAS  /tmp/ccaXZQ0T.s 			page 145


1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U)
 6382              		.loc 1 1874 12
 6383 00c6 7B69     		ldr	r3, [r7, #20]
 6384 00c8 0133     		adds	r3, r3, #1
 6385 00ca 7B61     		str	r3, [r7, #20]
 6386 00cc 7B69     		ldr	r3, [r7, #20]
 6387 00ce B3F57A7F 		cmp	r3, #1000
 6388 00d2 1DD8     		bhi	.L295
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6389              		.loc 1 1879 15
 6390 00d4 FB68     		ldr	r3, [r7, #12]
 6391 00d6 5A01     		lsls	r2, r3, #5
 6392 00d8 3B69     		ldr	r3, [r7, #16]
 6393 00da 1344     		add	r3, r3, r2
 6394 00dc 03F5A063 		add	r3, r3, #1280
 6395              		.loc 1 1879 29
 6396 00e0 1B68     		ldr	r3, [r3]
 6397              		.loc 1 1879 38
 6398 00e2 03F00043 		and	r3, r3, #-2147483648
 6399              		.loc 1 1879 7
 6400 00e6 B3F1004F 		cmp	r3, #-2147483648
 6401 00ea ECD0     		beq	.L286
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6402              		.loc 1 1867 8
 6403 00ec 80E0     		b	.L288
 6404              	.L283:
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6405              		.loc 1 1883 30
 6406 00ee FB68     		ldr	r3, [r7, #12]
 6407 00f0 5A01     		lsls	r2, r3, #5
 6408 00f2 3B69     		ldr	r3, [r7, #16]
 6409 00f4 1344     		add	r3, r3, r2
 6410 00f6 03F5A063 		add	r3, r3, #1280
 6411 00fa 1B68     		ldr	r3, [r3]
 6412 00fc FA68     		ldr	r2, [r7, #12]
 6413 00fe 5101     		lsls	r1, r2, #5
 6414 0100 3A69     		ldr	r2, [r7, #16]
 6415 0102 0A44     		add	r2, r2, r1
 6416 0104 02F5A062 		add	r2, r2, #1280
 6417 0108 43F00043 		orr	r3, r3, #-2147483648
 6418 010c 1360     		str	r3, [r2]
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6419              		.loc 1 1867 8
 6420 010e 6FE0     		b	.L288
 6421              	.L295:
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 6422              		.loc 1 1876 11
 6423 0110 00BF     		nop
ARM GAS  /tmp/ccaXZQ0T.s 			page 146


1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
 6424              		.loc 1 1867 8
 6425 0112 6DE0     		b	.L288
 6426              	.L282:
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   else
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHDIS;
 6427              		.loc 1 1888 28
 6428 0114 FB68     		ldr	r3, [r7, #12]
 6429 0116 5A01     		lsls	r2, r3, #5
 6430 0118 3B69     		ldr	r3, [r7, #16]
 6431 011a 1344     		add	r3, r3, r2
 6432 011c 03F5A063 		add	r3, r3, #1280
 6433 0120 1B68     		ldr	r3, [r3]
 6434 0122 FA68     		ldr	r2, [r7, #12]
 6435 0124 5101     		lsls	r1, r2, #5
 6436 0126 3A69     		ldr	r2, [r7, #16]
 6437 0128 0A44     		add	r2, r2, r1
 6438 012a 02F5A062 		add	r2, r2, #1280
 6439 012e 43F08043 		orr	r3, r3, #1073741824
 6440 0132 1360     		str	r3, [r2]
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     if ((USBx_HOST->HPTXSTS & (0xFFU << 16)) == 0U)
 6441              		.loc 1 1890 10
 6442 0134 3B69     		ldr	r3, [r7, #16]
 6443 0136 03F58063 		add	r3, r3, #1024
 6444              		.loc 1 1890 19
 6445 013a 1B69     		ldr	r3, [r3, #16]
 6446              		.loc 1 1890 29
 6447 013c 03F47F03 		and	r3, r3, #16711680
 6448              		.loc 1 1890 8
 6449 0140 002B     		cmp	r3, #0
 6450 0142 43D1     		bne	.L289
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_CHENA;
 6451              		.loc 1 1892 30
 6452 0144 FB68     		ldr	r3, [r7, #12]
 6453 0146 5A01     		lsls	r2, r3, #5
 6454 0148 3B69     		ldr	r3, [r7, #16]
 6455 014a 1344     		add	r3, r3, r2
 6456 014c 03F5A063 		add	r3, r3, #1280
 6457 0150 1B68     		ldr	r3, [r3]
 6458 0152 FA68     		ldr	r2, [r7, #12]
 6459 0154 5101     		lsls	r1, r2, #5
 6460 0156 3A69     		ldr	r2, [r7, #16]
 6461 0158 0A44     		add	r2, r2, r1
 6462 015a 02F5A062 		add	r2, r2, #1280
 6463 015e 23F00043 		bic	r3, r3, #-2147483648
 6464 0162 1360     		str	r3, [r2]
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6465              		.loc 1 1893 30
 6466 0164 FB68     		ldr	r3, [r7, #12]
 6467 0166 5A01     		lsls	r2, r3, #5
 6468 0168 3B69     		ldr	r3, [r7, #16]
 6469 016a 1344     		add	r3, r3, r2
ARM GAS  /tmp/ccaXZQ0T.s 			page 147


 6470 016c 03F5A063 		add	r3, r3, #1280
 6471 0170 1B68     		ldr	r3, [r3]
 6472 0172 FA68     		ldr	r2, [r7, #12]
 6473 0174 5101     		lsls	r1, r2, #5
 6474 0176 3A69     		ldr	r2, [r7, #16]
 6475 0178 0A44     		add	r2, r2, r1
 6476 017a 02F5A062 		add	r2, r2, #1280
 6477 017e 43F00043 		orr	r3, r3, #-2147483648
 6478 0182 1360     		str	r3, [r2]
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR &= ~USB_OTG_HCCHAR_EPDIR;
 6479              		.loc 1 1894 30
 6480 0184 FB68     		ldr	r3, [r7, #12]
 6481 0186 5A01     		lsls	r2, r3, #5
 6482 0188 3B69     		ldr	r3, [r7, #16]
 6483 018a 1344     		add	r3, r3, r2
 6484 018c 03F5A063 		add	r3, r3, #1280
 6485 0190 1B68     		ldr	r3, [r3]
 6486 0192 FA68     		ldr	r2, [r7, #12]
 6487 0194 5101     		lsls	r1, r2, #5
 6488 0196 3A69     		ldr	r2, [r7, #16]
 6489 0198 0A44     		add	r2, r2, r1
 6490 019a 02F5A062 		add	r2, r2, #1280
 6491 019e 23F40043 		bic	r3, r3, #32768
 6492 01a2 1360     		str	r3, [r2]
 6493              	.L292:
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       do
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         if (++count > 1000U)
 6494              		.loc 1 1897 12
 6495 01a4 7B69     		ldr	r3, [r7, #20]
 6496 01a6 0133     		adds	r3, r3, #1
 6497 01a8 7B61     		str	r3, [r7, #20]
 6498 01aa 7B69     		ldr	r3, [r7, #20]
 6499 01ac B3F57A7F 		cmp	r3, #1000
 6500 01b0 1DD8     		bhi	.L296
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         {
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****           break;
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       while ((USBx_HC(hcnum)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6501              		.loc 1 1902 15
 6502 01b2 FB68     		ldr	r3, [r7, #12]
 6503 01b4 5A01     		lsls	r2, r3, #5
 6504 01b6 3B69     		ldr	r3, [r7, #16]
 6505 01b8 1344     		add	r3, r3, r2
 6506 01ba 03F5A063 		add	r3, r3, #1280
 6507              		.loc 1 1902 29
 6508 01be 1B68     		ldr	r3, [r3]
 6509              		.loc 1 1902 38
 6510 01c0 03F00043 		and	r3, r3, #-2147483648
 6511              		.loc 1 1902 7
 6512 01c4 B3F1004F 		cmp	r3, #-2147483648
 6513 01c8 ECD0     		beq	.L292
 6514 01ca 11E0     		b	.L288
 6515              	.L289:
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     else
ARM GAS  /tmp/ccaXZQ0T.s 			page 148


1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       USBx_HC(hcnum)->HCCHAR |= USB_OTG_HCCHAR_CHENA;
 6516              		.loc 1 1906 30
 6517 01cc FB68     		ldr	r3, [r7, #12]
 6518 01ce 5A01     		lsls	r2, r3, #5
 6519 01d0 3B69     		ldr	r3, [r7, #16]
 6520 01d2 1344     		add	r3, r3, r2
 6521 01d4 03F5A063 		add	r3, r3, #1280
 6522 01d8 1B68     		ldr	r3, [r3]
 6523 01da FA68     		ldr	r2, [r7, #12]
 6524 01dc 5101     		lsls	r1, r2, #5
 6525 01de 3A69     		ldr	r2, [r7, #16]
 6526 01e0 0A44     		add	r2, r2, r1
 6527 01e2 02F5A062 		add	r2, r2, #1280
 6528 01e6 43F00043 		orr	r3, r3, #-2147483648
 6529 01ea 1360     		str	r3, [r2]
 6530 01ec 00E0     		b	.L288
 6531              	.L296:
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         }
 6532              		.loc 1 1899 11
 6533 01ee 00BF     		nop
 6534              	.L288:
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6535              		.loc 1 1910 10
 6536 01f0 0023     		movs	r3, #0
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6537              		.loc 1 1911 1
 6538 01f2 1846     		mov	r0, r3
 6539 01f4 1C37     		adds	r7, r7, #28
 6540              	.LCFI260:
 6541              		.cfi_def_cfa_offset 4
 6542 01f6 BD46     		mov	sp, r7
 6543              	.LCFI261:
 6544              		.cfi_def_cfa_register 13
 6545              		@ sp needed
 6546 01f8 5DF8047B 		ldr	r7, [sp], #4
 6547              	.LCFI262:
 6548              		.cfi_restore 7
 6549              		.cfi_def_cfa_offset 0
 6550 01fc 7047     		bx	lr
 6551              		.cfi_endproc
 6552              	.LFE173:
 6554              		.section	.text.USB_DoPing,"ax",%progbits
 6555              		.align	1
 6556              		.global	USB_DoPing
 6557              		.syntax unified
 6558              		.thumb
 6559              		.thumb_func
 6560              		.fpu fpv4-sp-d16
 6562              	USB_DoPing:
 6563              	.LFB174:
1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Initiate Do Ping protocol
ARM GAS  /tmp/ccaXZQ0T.s 			page 149


1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  hc_num  Host Channel number
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   *         This parameter can be a value from 1 to 15
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DoPing(USB_OTG_GlobalTypeDef *USBx, uint8_t ch_num)
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6564              		.loc 1 1921 1
 6565              		.cfi_startproc
 6566              		@ args = 0, pretend = 0, frame = 24
 6567              		@ frame_needed = 1, uses_anonymous_args = 0
 6568              		@ link register save eliminated.
 6569 0000 80B4     		push	{r7}
 6570              	.LCFI263:
 6571              		.cfi_def_cfa_offset 4
 6572              		.cfi_offset 7, -4
 6573 0002 87B0     		sub	sp, sp, #28
 6574              	.LCFI264:
 6575              		.cfi_def_cfa_offset 32
 6576 0004 00AF     		add	r7, sp, #0
 6577              	.LCFI265:
 6578              		.cfi_def_cfa_register 7
 6579 0006 7860     		str	r0, [r7, #4]
 6580 0008 0B46     		mov	r3, r1
 6581 000a FB70     		strb	r3, [r7, #3]
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6582              		.loc 1 1922 12
 6583 000c 7B68     		ldr	r3, [r7, #4]
 6584 000e 7B61     		str	r3, [r7, #20]
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t chnum = (uint32_t)ch_num;
 6585              		.loc 1 1923 12
 6586 0010 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 6587 0012 3B61     		str	r3, [r7, #16]
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t num_packets = 1U;
 6588              		.loc 1 1924 12
 6589 0014 0123     		movs	r3, #1
 6590 0016 FB60     		str	r3, [r7, #12]
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t tmpreg;
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCTSIZ = ((num_packets << 19) & USB_OTG_HCTSIZ_PKTCNT) |
 6591              		.loc 1 1927 42
 6592 0018 FB68     		ldr	r3, [r7, #12]
 6593 001a DA04     		lsls	r2, r3, #19
 6594              		.loc 1 1927 49
 6595 001c 154B     		ldr	r3, .L299
 6596 001e 1340     		ands	r3, r3, r2
 6597              		.loc 1 1927 3
 6598 0020 3A69     		ldr	r2, [r7, #16]
 6599 0022 5101     		lsls	r1, r2, #5
 6600 0024 7A69     		ldr	r2, [r7, #20]
 6601 0026 0A44     		add	r2, r2, r1
 6602 0028 02F5A062 		add	r2, r2, #1280
 6603              		.loc 1 1927 74
 6604 002c 43F00043 		orr	r3, r3, #-2147483648
 6605              		.loc 1 1927 26
 6606 0030 1361     		str	r3, [r2, #16]
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****                            USB_OTG_HCTSIZ_DOPING;
ARM GAS  /tmp/ccaXZQ0T.s 			page 150


1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Set host channel enable */
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg = USBx_HC(chnum)->HCCHAR;
 6607              		.loc 1 1931 12
 6608 0032 3B69     		ldr	r3, [r7, #16]
 6609 0034 5A01     		lsls	r2, r3, #5
 6610 0036 7B69     		ldr	r3, [r7, #20]
 6611 0038 1344     		add	r3, r3, r2
 6612 003a 03F5A063 		add	r3, r3, #1280
 6613              		.loc 1 1931 10
 6614 003e 1B68     		ldr	r3, [r3]
 6615 0040 BB60     		str	r3, [r7, #8]
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg &= ~USB_OTG_HCCHAR_CHDIS;
 6616              		.loc 1 1932 10
 6617 0042 BB68     		ldr	r3, [r7, #8]
 6618 0044 23F08043 		bic	r3, r3, #1073741824
 6619 0048 BB60     		str	r3, [r7, #8]
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   tmpreg |= USB_OTG_HCCHAR_CHENA;
 6620              		.loc 1 1933 10
 6621 004a BB68     		ldr	r3, [r7, #8]
 6622 004c 43F00043 		orr	r3, r3, #-2147483648
 6623 0050 BB60     		str	r3, [r7, #8]
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HC(chnum)->HCCHAR = tmpreg;
 6624              		.loc 1 1934 3
 6625 0052 3B69     		ldr	r3, [r7, #16]
 6626 0054 5A01     		lsls	r2, r3, #5
 6627 0056 7B69     		ldr	r3, [r7, #20]
 6628 0058 1344     		add	r3, r3, r2
 6629 005a 03F5A063 		add	r3, r3, #1280
 6630 005e 1A46     		mov	r2, r3
 6631              		.loc 1 1934 26
 6632 0060 BB68     		ldr	r3, [r7, #8]
 6633 0062 1360     		str	r3, [r2]
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6634              		.loc 1 1936 10
 6635 0064 0023     		movs	r3, #0
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6636              		.loc 1 1937 1
 6637 0066 1846     		mov	r0, r3
 6638 0068 1C37     		adds	r7, r7, #28
 6639              	.LCFI266:
 6640              		.cfi_def_cfa_offset 4
 6641 006a BD46     		mov	sp, r7
 6642              	.LCFI267:
 6643              		.cfi_def_cfa_register 13
 6644              		@ sp needed
 6645 006c 5DF8047B 		ldr	r7, [sp], #4
 6646              	.LCFI268:
 6647              		.cfi_restore 7
 6648              		.cfi_def_cfa_offset 0
 6649 0070 7047     		bx	lr
 6650              	.L300:
 6651 0072 00BF     		.align	2
 6652              	.L299:
 6653 0074 0000F81F 		.word	536346624
 6654              		.cfi_endproc
ARM GAS  /tmp/ccaXZQ0T.s 			page 151


 6655              	.LFE174:
 6657              		.section	.text.USB_StopHost,"ax",%progbits
 6658              		.align	1
 6659              		.global	USB_StopHost
 6660              		.syntax unified
 6661              		.thumb
 6662              		.thumb_func
 6663              		.fpu fpv4-sp-d16
 6665              	USB_StopHost:
 6666              	.LFB175:
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  Stop Host Core
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx  Selected device
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL state
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_StopHost(USB_OTG_GlobalTypeDef *USBx)
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6667              		.loc 1 1945 1
 6668              		.cfi_startproc
 6669              		@ args = 0, pretend = 0, frame = 24
 6670              		@ frame_needed = 1, uses_anonymous_args = 0
 6671 0000 80B5     		push	{r7, lr}
 6672              	.LCFI269:
 6673              		.cfi_def_cfa_offset 8
 6674              		.cfi_offset 7, -8
 6675              		.cfi_offset 14, -4
 6676 0002 86B0     		sub	sp, sp, #24
 6677              	.LCFI270:
 6678              		.cfi_def_cfa_offset 32
 6679 0004 00AF     		add	r7, sp, #0
 6680              	.LCFI271:
 6681              		.cfi_def_cfa_register 7
 6682 0006 7860     		str	r0, [r7, #4]
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6683              		.loc 1 1946 12
 6684 0008 7B68     		ldr	r3, [r7, #4]
 6685 000a FB60     		str	r3, [r7, #12]
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t count = 0U;
 6686              		.loc 1 1947 12
 6687 000c 0023     		movs	r3, #0
 6688 000e 7B61     		str	r3, [r7, #20]
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t value;
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t i;
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_DisableGlobalInt(USBx);
 6689              		.loc 1 1951 9
 6690 0010 7868     		ldr	r0, [r7, #4]
 6691 0012 FFF7FEFF 		bl	USB_DisableGlobalInt
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush FIFO */
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushTxFifo(USBx, 0x10U);
 6692              		.loc 1 1954 9
 6693 0016 1021     		movs	r1, #16
 6694 0018 7868     		ldr	r0, [r7, #4]
 6695 001a FFF7FEFF 		bl	USB_FlushTxFifo
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_FlushRxFifo(USBx);
ARM GAS  /tmp/ccaXZQ0T.s 			page 152


 6696              		.loc 1 1955 9
 6697 001e 7868     		ldr	r0, [r7, #4]
 6698 0020 FFF7FEFF 		bl	USB_FlushRxFifo
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Flush out any leftover queued requests. */
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6699              		.loc 1 1958 10
 6700 0024 0023     		movs	r3, #0
 6701 0026 3B61     		str	r3, [r7, #16]
 6702              		.loc 1 1958 3
 6703 0028 1FE0     		b	.L302
 6704              	.L303:
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6705              		.loc 1 1960 13 discriminator 3
 6706 002a 3B69     		ldr	r3, [r7, #16]
 6707 002c 5A01     		lsls	r2, r3, #5
 6708 002e FB68     		ldr	r3, [r7, #12]
 6709 0030 1344     		add	r3, r3, r2
 6710 0032 03F5A063 		add	r3, r3, #1280
 6711              		.loc 1 1960 11 discriminator 3
 6712 0036 1B68     		ldr	r3, [r3]
 6713 0038 BB60     		str	r3, [r7, #8]
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |=  USB_OTG_HCCHAR_CHDIS;
 6714              		.loc 1 1961 11 discriminator 3
 6715 003a BB68     		ldr	r3, [r7, #8]
 6716 003c 43F08043 		orr	r3, r3, #1073741824
 6717 0040 BB60     		str	r3, [r7, #8]
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_CHENA;
 6718              		.loc 1 1962 11 discriminator 3
 6719 0042 BB68     		ldr	r3, [r7, #8]
 6720 0044 23F00043 		bic	r3, r3, #-2147483648
 6721 0048 BB60     		str	r3, [r7, #8]
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6722              		.loc 1 1963 11 discriminator 3
 6723 004a BB68     		ldr	r3, [r7, #8]
 6724 004c 23F40043 		bic	r3, r3, #32768
 6725 0050 BB60     		str	r3, [r7, #8]
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6726              		.loc 1 1964 5 discriminator 3
 6727 0052 3B69     		ldr	r3, [r7, #16]
 6728 0054 5A01     		lsls	r2, r3, #5
 6729 0056 FB68     		ldr	r3, [r7, #12]
 6730 0058 1344     		add	r3, r3, r2
 6731 005a 03F5A063 		add	r3, r3, #1280
 6732 005e 1A46     		mov	r2, r3
 6733              		.loc 1 1964 24 discriminator 3
 6734 0060 BB68     		ldr	r3, [r7, #8]
 6735 0062 1360     		str	r3, [r2]
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6736              		.loc 1 1958 27 discriminator 3
 6737 0064 3B69     		ldr	r3, [r7, #16]
 6738 0066 0133     		adds	r3, r3, #1
 6739 0068 3B61     		str	r3, [r7, #16]
 6740              	.L302:
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6741              		.loc 1 1958 3 discriminator 1
ARM GAS  /tmp/ccaXZQ0T.s 			page 153


 6742 006a 3B69     		ldr	r3, [r7, #16]
 6743 006c 0F2B     		cmp	r3, #15
 6744 006e DCD9     		bls	.L303
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Halt all channels to put them into a known state. */
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   for (i = 0U; i <= 15U; i++)
 6745              		.loc 1 1968 10
 6746 0070 0023     		movs	r3, #0
 6747 0072 3B61     		str	r3, [r7, #16]
 6748              		.loc 1 1968 3
 6749 0074 34E0     		b	.L304
 6750              	.L308:
1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value = USBx_HC(i)->HCCHAR;
 6751              		.loc 1 1970 13
 6752 0076 3B69     		ldr	r3, [r7, #16]
 6753 0078 5A01     		lsls	r2, r3, #5
 6754 007a FB68     		ldr	r3, [r7, #12]
 6755 007c 1344     		add	r3, r3, r2
 6756 007e 03F5A063 		add	r3, r3, #1280
 6757              		.loc 1 1970 11
 6758 0082 1B68     		ldr	r3, [r3]
 6759 0084 BB60     		str	r3, [r7, #8]
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHDIS;
 6760              		.loc 1 1971 11
 6761 0086 BB68     		ldr	r3, [r7, #8]
 6762 0088 43F08043 		orr	r3, r3, #1073741824
 6763 008c BB60     		str	r3, [r7, #8]
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value |= USB_OTG_HCCHAR_CHENA;
 6764              		.loc 1 1972 11
 6765 008e BB68     		ldr	r3, [r7, #8]
 6766 0090 43F00043 		orr	r3, r3, #-2147483648
 6767 0094 BB60     		str	r3, [r7, #8]
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     value &= ~USB_OTG_HCCHAR_EPDIR;
 6768              		.loc 1 1973 11
 6769 0096 BB68     		ldr	r3, [r7, #8]
 6770 0098 23F40043 		bic	r3, r3, #32768
 6771 009c BB60     		str	r3, [r7, #8]
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_HC(i)->HCCHAR = value;
 6772              		.loc 1 1974 5
 6773 009e 3B69     		ldr	r3, [r7, #16]
 6774 00a0 5A01     		lsls	r2, r3, #5
 6775 00a2 FB68     		ldr	r3, [r7, #12]
 6776 00a4 1344     		add	r3, r3, r2
 6777 00a6 03F5A063 		add	r3, r3, #1280
 6778 00aa 1A46     		mov	r2, r3
 6779              		.loc 1 1974 24
 6780 00ac BB68     		ldr	r3, [r7, #8]
 6781 00ae 1360     		str	r3, [r2]
 6782              	.L307:
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     do
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     {
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       if (++count > 1000U)
 6783              		.loc 1 1978 10
 6784 00b0 7B69     		ldr	r3, [r7, #20]
ARM GAS  /tmp/ccaXZQ0T.s 			page 154


 6785 00b2 0133     		adds	r3, r3, #1
 6786 00b4 7B61     		str	r3, [r7, #20]
 6787 00b6 7B69     		ldr	r3, [r7, #20]
 6788 00b8 B3F57A7F 		cmp	r3, #1000
 6789 00bc 0CD8     		bhi	.L310
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       {
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****         break;
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     }
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     while ((USBx_HC(i)->HCCHAR & USB_OTG_HCCHAR_CHENA) == USB_OTG_HCCHAR_CHENA);
 6790              		.loc 1 1983 13
 6791 00be 3B69     		ldr	r3, [r7, #16]
 6792 00c0 5A01     		lsls	r2, r3, #5
 6793 00c2 FB68     		ldr	r3, [r7, #12]
 6794 00c4 1344     		add	r3, r3, r2
 6795 00c6 03F5A063 		add	r3, r3, #1280
 6796              		.loc 1 1983 23
 6797 00ca 1B68     		ldr	r3, [r3]
 6798              		.loc 1 1983 32
 6799 00cc 03F00043 		and	r3, r3, #-2147483648
 6800              		.loc 1 1983 5
 6801 00d0 B3F1004F 		cmp	r3, #-2147483648
 6802 00d4 ECD0     		beq	.L307
 6803 00d6 00E0     		b	.L306
 6804              	.L310:
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****       }
 6805              		.loc 1 1980 9
 6806 00d8 00BF     		nop
 6807              	.L306:
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6808              		.loc 1 1968 27 discriminator 2
 6809 00da 3B69     		ldr	r3, [r7, #16]
 6810 00dc 0133     		adds	r3, r3, #1
 6811 00de 3B61     		str	r3, [r7, #16]
 6812              	.L304:
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
 6813              		.loc 1 1968 3 discriminator 1
 6814 00e0 3B69     		ldr	r3, [r7, #16]
 6815 00e2 0F2B     		cmp	r3, #15
 6816 00e4 C7D9     		bls	.L308
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* Clear any pending Host interrupts */
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_HOST->HAINT = 0xFFFFFFFFU;
 6817              		.loc 1 1987 3
 6818 00e6 FB68     		ldr	r3, [r7, #12]
 6819 00e8 03F58063 		add	r3, r3, #1024
 6820 00ec 1A46     		mov	r2, r3
 6821              		.loc 1 1987 20
 6822 00ee 4FF0FF33 		mov	r3, #-1
 6823 00f2 5361     		str	r3, [r2, #20]
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx->GINTSTS = 0xFFFFFFFFU;
 6824              		.loc 1 1988 17
 6825 00f4 7B68     		ldr	r3, [r7, #4]
 6826 00f6 4FF0FF32 		mov	r2, #-1
 6827 00fa 5A61     		str	r2, [r3, #20]
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccaXZQ0T.s 			page 155


1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   (void)USB_EnableGlobalInt(USBx);
 6828              		.loc 1 1990 9
 6829 00fc 7868     		ldr	r0, [r7, #4]
 6830 00fe FFF7FEFF 		bl	USB_EnableGlobalInt
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6831              		.loc 1 1992 10
 6832 0102 0023     		movs	r3, #0
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6833              		.loc 1 1993 1
 6834 0104 1846     		mov	r0, r3
 6835 0106 1837     		adds	r7, r7, #24
 6836              	.LCFI272:
 6837              		.cfi_def_cfa_offset 8
 6838 0108 BD46     		mov	sp, r7
 6839              	.LCFI273:
 6840              		.cfi_def_cfa_register 13
 6841              		@ sp needed
 6842 010a 80BD     		pop	{r7, pc}
 6843              		.cfi_endproc
 6844              	.LFE175:
 6846              		.section	.text.USB_ActivateRemoteWakeup,"ax",%progbits
 6847              		.align	1
 6848              		.global	USB_ActivateRemoteWakeup
 6849              		.syntax unified
 6850              		.thumb
 6851              		.thumb_func
 6852              		.fpu fpv4-sp-d16
 6854              	USB_ActivateRemoteWakeup:
 6855              	.LFB176:
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_ActivateRemoteWakeup active remote wakeup signalling
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_ActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6856              		.loc 1 2001 1
 6857              		.cfi_startproc
 6858              		@ args = 0, pretend = 0, frame = 16
 6859              		@ frame_needed = 1, uses_anonymous_args = 0
 6860              		@ link register save eliminated.
 6861 0000 80B4     		push	{r7}
 6862              	.LCFI274:
 6863              		.cfi_def_cfa_offset 4
 6864              		.cfi_offset 7, -4
 6865 0002 85B0     		sub	sp, sp, #20
 6866              	.LCFI275:
 6867              		.cfi_def_cfa_offset 24
 6868 0004 00AF     		add	r7, sp, #0
 6869              	.LCFI276:
 6870              		.cfi_def_cfa_register 7
 6871 0006 7860     		str	r0, [r7, #4]
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6872              		.loc 1 2002 12
 6873 0008 7B68     		ldr	r3, [r7, #4]
ARM GAS  /tmp/ccaXZQ0T.s 			page 156


 6874 000a FB60     		str	r3, [r7, #12]
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   if ((USBx_DEVICE->DSTS & USB_OTG_DSTS_SUSPSTS) == USB_OTG_DSTS_SUSPSTS)
 6875              		.loc 1 2004 8
 6876 000c FB68     		ldr	r3, [r7, #12]
 6877 000e 03F50063 		add	r3, r3, #2048
 6878              		.loc 1 2004 19
 6879 0012 9B68     		ldr	r3, [r3, #8]
 6880              		.loc 1 2004 26
 6881 0014 03F00103 		and	r3, r3, #1
 6882              		.loc 1 2004 6
 6883 0018 012B     		cmp	r3, #1
 6884 001a 09D1     		bne	.L312
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   {
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     /* active Remote wakeup signalling */
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****     USBx_DEVICE->DCTL |= USB_OTG_DCTL_RWUSIG;
 6885              		.loc 1 2007 23
 6886 001c FB68     		ldr	r3, [r7, #12]
 6887 001e 03F50063 		add	r3, r3, #2048
 6888 0022 5B68     		ldr	r3, [r3, #4]
 6889 0024 FA68     		ldr	r2, [r7, #12]
 6890 0026 02F50062 		add	r2, r2, #2048
 6891 002a 43F00103 		orr	r3, r3, #1
 6892 002e 5360     		str	r3, [r2, #4]
 6893              	.L312:
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   }
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6894              		.loc 1 2010 10
 6895 0030 0023     		movs	r3, #0
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6896              		.loc 1 2011 1
 6897 0032 1846     		mov	r0, r3
 6898 0034 1437     		adds	r7, r7, #20
 6899              	.LCFI277:
 6900              		.cfi_def_cfa_offset 4
 6901 0036 BD46     		mov	sp, r7
 6902              	.LCFI278:
 6903              		.cfi_def_cfa_register 13
 6904              		@ sp needed
 6905 0038 5DF8047B 		ldr	r7, [sp], #4
 6906              	.LCFI279:
 6907              		.cfi_restore 7
 6908              		.cfi_def_cfa_offset 0
 6909 003c 7047     		bx	lr
 6910              		.cfi_endproc
 6911              	.LFE176:
 6913              		.section	.text.USB_DeActivateRemoteWakeup,"ax",%progbits
 6914              		.align	1
 6915              		.global	USB_DeActivateRemoteWakeup
 6916              		.syntax unified
 6917              		.thumb
 6918              		.thumb_func
 6919              		.fpu fpv4-sp-d16
 6921              	USB_DeActivateRemoteWakeup:
 6922              	.LFB177:
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
ARM GAS  /tmp/ccaXZQ0T.s 			page 157


2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** /**
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @brief  USB_DeActivateRemoteWakeup de-active remote wakeup signalling
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @param  USBx Selected device
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   * @retval HAL status
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   */
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** HAL_StatusTypeDef USB_DeActivateRemoteWakeup(USB_OTG_GlobalTypeDef *USBx)
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** {
 6923              		.loc 1 2019 1
 6924              		.cfi_startproc
 6925              		@ args = 0, pretend = 0, frame = 16
 6926              		@ frame_needed = 1, uses_anonymous_args = 0
 6927              		@ link register save eliminated.
 6928 0000 80B4     		push	{r7}
 6929              	.LCFI280:
 6930              		.cfi_def_cfa_offset 4
 6931              		.cfi_offset 7, -4
 6932 0002 85B0     		sub	sp, sp, #20
 6933              	.LCFI281:
 6934              		.cfi_def_cfa_offset 24
 6935 0004 00AF     		add	r7, sp, #0
 6936              	.LCFI282:
 6937              		.cfi_def_cfa_register 7
 6938 0006 7860     		str	r0, [r7, #4]
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   uint32_t USBx_BASE = (uint32_t)USBx;
 6939              		.loc 1 2020 12
 6940 0008 7B68     		ldr	r3, [r7, #4]
 6941 000a FB60     		str	r3, [r7, #12]
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   /* active Remote wakeup signalling */
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   USBx_DEVICE->DCTL &= ~(USB_OTG_DCTL_RWUSIG);
 6942              		.loc 1 2023 21
 6943 000c FB68     		ldr	r3, [r7, #12]
 6944 000e 03F50063 		add	r3, r3, #2048
 6945 0012 5B68     		ldr	r3, [r3, #4]
 6946 0014 FA68     		ldr	r2, [r7, #12]
 6947 0016 02F50062 		add	r2, r2, #2048
 6948 001a 23F00103 		bic	r3, r3, #1
 6949 001e 5360     		str	r3, [r2, #4]
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** 
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c ****   return HAL_OK;
 6950              		.loc 1 2025 10
 6951 0020 0023     		movs	r3, #0
2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_ll_usb.c **** }
 6952              		.loc 1 2026 1
 6953 0022 1846     		mov	r0, r3
 6954 0024 1437     		adds	r7, r7, #20
 6955              	.LCFI283:
 6956              		.cfi_def_cfa_offset 4
 6957 0026 BD46     		mov	sp, r7
 6958              	.LCFI284:
 6959              		.cfi_def_cfa_register 13
 6960              		@ sp needed
 6961 0028 5DF8047B 		ldr	r7, [sp], #4
 6962              	.LCFI285:
 6963              		.cfi_restore 7
 6964              		.cfi_def_cfa_offset 0
 6965 002c 7047     		bx	lr
ARM GAS  /tmp/ccaXZQ0T.s 			page 158


 6966              		.cfi_endproc
 6967              	.LFE177:
 6969              		.section	.bss.tmpreg.8749,"aw",%nobits
 6970              		.align	2
 6973              	tmpreg.8749:
 6974 0000 00000000 		.space	4
 6975              		.text
 6976              	.Letext0:
 6977              		.file 2 "/home/mip-laptop/uros_frtos_ws/firmware/toolchain/arm-none-eabi/include/machine/_default_
 6978              		.file 3 "/home/mip-laptop/uros_frtos_ws/firmware/toolchain/arm-none-eabi/include/sys/_stdint.h"
 6979              		.file 4 "Drivers/CMSIS/Include/cmsis_gcc.h"
 6980              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 6981              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6982              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 6983              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6984              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 6985              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccaXZQ0T.s 			page 159


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_ll_usb.c
     /tmp/ccaXZQ0T.s:18     .text.USB_CoreInit:0000000000000000 $t
     /tmp/ccaXZQ0T.s:26     .text.USB_CoreInit:0000000000000000 USB_CoreInit
     /tmp/ccaXZQ0T.s:4694   .text.USB_CoreReset:0000000000000000 USB_CoreReset
     /tmp/ccaXZQ0T.s:166    .text.USB_SetTurnaroundTime:0000000000000000 $t
     /tmp/ccaXZQ0T.s:173    .text.USB_SetTurnaroundTime:0000000000000000 USB_SetTurnaroundTime
     /tmp/ccaXZQ0T.s:388    .text.USB_SetTurnaroundTime:000000000000011c $d
     /tmp/ccaXZQ0T.s:402    .text.USB_EnableGlobalInt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:409    .text.USB_EnableGlobalInt:0000000000000000 USB_EnableGlobalInt
     /tmp/ccaXZQ0T.s:453    .text.USB_DisableGlobalInt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:460    .text.USB_DisableGlobalInt:0000000000000000 USB_DisableGlobalInt
     /tmp/ccaXZQ0T.s:504    .text.USB_SetCurrentMode:0000000000000000 $t
     /tmp/ccaXZQ0T.s:511    .text.USB_SetCurrentMode:0000000000000000 USB_SetCurrentMode
     /tmp/ccaXZQ0T.s:585    .text.USB_DevInit:0000000000000000 $t
     /tmp/ccaXZQ0T.s:592    .text.USB_DevInit:0000000000000000 USB_DevInit
     /tmp/ccaXZQ0T.s:1211   .text.USB_SetDevSpeed:0000000000000000 USB_SetDevSpeed
     /tmp/ccaXZQ0T.s:1050   .text.USB_FlushTxFifo:0000000000000000 USB_FlushTxFifo
     /tmp/ccaXZQ0T.s:1133   .text.USB_FlushRxFifo:0000000000000000 USB_FlushRxFifo
     /tmp/ccaXZQ0T.s:1038   .text.USB_DevInit:00000000000002c4 $d
     /tmp/ccaXZQ0T.s:1043   .text.USB_FlushTxFifo:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1121   .text.USB_FlushTxFifo:0000000000000048 $d
     /tmp/ccaXZQ0T.s:1126   .text.USB_FlushRxFifo:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1199   .text.USB_FlushRxFifo:0000000000000040 $d
     /tmp/ccaXZQ0T.s:1204   .text.USB_SetDevSpeed:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1263   .text.USB_GetDevSpeed:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1270   .text.USB_GetDevSpeed:0000000000000000 USB_GetDevSpeed
     /tmp/ccaXZQ0T.s:1346   .text.USB_ActivateEndpoint:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1353   .text.USB_ActivateEndpoint:0000000000000000 USB_ActivateEndpoint
     /tmp/ccaXZQ0T.s:1536   .text.USB_ActivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1543   .text.USB_ActivateDedicatedEndpoint:0000000000000000 USB_ActivateDedicatedEndpoint
     /tmp/ccaXZQ0T.s:1732   .text.USB_DeactivateEndpoint:0000000000000000 $t
     /tmp/ccaXZQ0T.s:1739   .text.USB_DeactivateEndpoint:0000000000000000 USB_DeactivateEndpoint
     /tmp/ccaXZQ0T.s:1994   .text.USB_DeactivateEndpoint:00000000000001b0 $d
     /tmp/ccaXZQ0T.s:2000   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 $t
     /tmp/ccaXZQ0T.s:2007   .text.USB_DeactivateDedicatedEndpoint:0000000000000000 USB_DeactivateDedicatedEndpoint
     /tmp/ccaXZQ0T.s:2217   .text.USB_EPStartXfer:0000000000000000 $t
     /tmp/ccaXZQ0T.s:2224   .text.USB_EPStartXfer:0000000000000000 USB_EPStartXfer
     /tmp/ccaXZQ0T.s:3261   .text.USB_WritePacket:0000000000000000 USB_WritePacket
     /tmp/ccaXZQ0T.s:2694   .text.USB_EPStartXfer:0000000000000370 $d
     /tmp/ccaXZQ0T.s:2697   .text.USB_EPStartXfer:0000000000000374 $t
     /tmp/ccaXZQ0T.s:2860   .text.USB_EPStartXfer:0000000000000484 $d
     /tmp/ccaXZQ0T.s:2865   .text.USB_EP0StartXfer:0000000000000000 $t
     /tmp/ccaXZQ0T.s:2872   .text.USB_EP0StartXfer:0000000000000000 USB_EP0StartXfer
     /tmp/ccaXZQ0T.s:3254   .text.USB_WritePacket:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3356   .text.USB_ReadPacket:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3363   .text.USB_ReadPacket:0000000000000000 USB_ReadPacket
     /tmp/ccaXZQ0T.s:3443   .text.USB_EPSetStall:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3450   .text.USB_EPSetStall:0000000000000000 USB_EPSetStall
     /tmp/ccaXZQ0T.s:3594   .text.USB_EPClearStall:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3601   .text.USB_EPClearStall:0000000000000000 USB_EPClearStall
     /tmp/ccaXZQ0T.s:3739   .text.USB_StopDevice:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3746   .text.USB_StopDevice:0000000000000000 USB_StopDevice
     /tmp/ccaXZQ0T.s:3867   .text.USB_SetDevAddress:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3874   .text.USB_SetDevAddress:0000000000000000 USB_SetDevAddress
     /tmp/ccaXZQ0T.s:3940   .text.USB_DevConnect:0000000000000000 $t
     /tmp/ccaXZQ0T.s:3947   .text.USB_DevConnect:0000000000000000 USB_DevConnect
ARM GAS  /tmp/ccaXZQ0T.s 			page 160


     /tmp/ccaXZQ0T.s:3995   .text.USB_DevDisconnect:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4002   .text.USB_DevDisconnect:0000000000000000 USB_DevDisconnect
     /tmp/ccaXZQ0T.s:4050   .text.USB_ReadInterrupts:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4057   .text.USB_ReadInterrupts:0000000000000000 USB_ReadInterrupts
     /tmp/ccaXZQ0T.s:4106   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4113   .text.USB_ReadDevAllOutEpInterrupt:0000000000000000 USB_ReadDevAllOutEpInterrupt
     /tmp/ccaXZQ0T.s:4170   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4177   .text.USB_ReadDevAllInEpInterrupt:0000000000000000 USB_ReadDevAllInEpInterrupt
     /tmp/ccaXZQ0T.s:4234   .text.USB_ReadDevOutEPInterrupt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4241   .text.USB_ReadDevOutEPInterrupt:0000000000000000 USB_ReadDevOutEPInterrupt
     /tmp/ccaXZQ0T.s:4302   .text.USB_ReadDevInEPInterrupt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4309   .text.USB_ReadDevInEPInterrupt:0000000000000000 USB_ReadDevInEPInterrupt
     /tmp/ccaXZQ0T.s:4389   .text.USB_ClearInterrupts:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4396   .text.USB_ClearInterrupts:0000000000000000 USB_ClearInterrupts
     /tmp/ccaXZQ0T.s:4440   .text.USB_GetMode:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4447   .text.USB_GetMode:0000000000000000 USB_GetMode
     /tmp/ccaXZQ0T.s:4488   .text.USB_ActivateSetup:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4495   .text.USB_ActivateSetup:0000000000000000 USB_ActivateSetup
     /tmp/ccaXZQ0T.s:4553   .text.USB_EP0_OutStart:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4560   .text.USB_EP0_OutStart:0000000000000000 USB_EP0_OutStart
     /tmp/ccaXZQ0T.s:4683   .text.USB_EP0_OutStart:00000000000000b8 $d
     /tmp/ccaXZQ0T.s:4688   .text.USB_CoreReset:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4784   .text.USB_CoreReset:0000000000000064 $d
     /tmp/ccaXZQ0T.s:4789   .text.USB_HostInit:0000000000000000 $t
     /tmp/ccaXZQ0T.s:4796   .text.USB_HostInit:0000000000000000 USB_HostInit
     /tmp/ccaXZQ0T.s:5217   .text.USB_DriveVbus:0000000000000000 USB_DriveVbus
     /tmp/ccaXZQ0T.s:5025   .text.USB_HostInit:0000000000000164 $d
     /tmp/ccaXZQ0T.s:5034   .text.USB_InitFSLSPClkSel:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5041   .text.USB_InitFSLSPClkSel:0000000000000000 USB_InitFSLSPClkSel
     /tmp/ccaXZQ0T.s:5129   .text.USB_ResetPort:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5136   .text.USB_ResetPort:0000000000000000 USB_ResetPort
     /tmp/ccaXZQ0T.s:5210   .text.USB_DriveVbus:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5313   .text.USB_GetHostSpeed:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5320   .text.USB_GetHostSpeed:0000000000000000 USB_GetHostSpeed
     /tmp/ccaXZQ0T.s:5372   .text.USB_GetCurrentFrame:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5379   .text.USB_GetCurrentFrame:0000000000000000 USB_GetCurrentFrame
     /tmp/ccaXZQ0T.s:5425   .text.USB_HC_Init:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5432   .text.USB_HC_Init:0000000000000000 USB_HC_Init
     /tmp/ccaXZQ0T.s:5483   .text.USB_HC_Init:0000000000000044 $d
     /tmp/ccaXZQ0T.s:5487   .text.USB_HC_Init:0000000000000054 $t
     /tmp/ccaXZQ0T.s:5755   .text.USB_HC_StartXfer:0000000000000000 $t
     /tmp/ccaXZQ0T.s:5762   .text.USB_HC_StartXfer:0000000000000000 USB_HC_StartXfer
     /tmp/ccaXZQ0T.s:6562   .text.USB_DoPing:0000000000000000 USB_DoPing
     /tmp/ccaXZQ0T.s:6093   .text.USB_HC_StartXfer:00000000000001f4 $d
     /tmp/ccaXZQ0T.s:6097   .text.USB_HC_StartXfer:0000000000000204 $t
     /tmp/ccaXZQ0T.s:6200   .text.USB_HC_StartXfer:0000000000000280 $d
     /tmp/ccaXZQ0T.s:6973   .bss.tmpreg.8749:0000000000000000 tmpreg.8749
     /tmp/ccaXZQ0T.s:6206   .text.USB_HC_ReadInterrupt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:6213   .text.USB_HC_ReadInterrupt:0000000000000000 USB_HC_ReadInterrupt
     /tmp/ccaXZQ0T.s:6259   .text.USB_HC_Halt:0000000000000000 $t
     /tmp/ccaXZQ0T.s:6266   .text.USB_HC_Halt:0000000000000000 USB_HC_Halt
     /tmp/ccaXZQ0T.s:6555   .text.USB_DoPing:0000000000000000 $t
     /tmp/ccaXZQ0T.s:6653   .text.USB_DoPing:0000000000000074 $d
     /tmp/ccaXZQ0T.s:6658   .text.USB_StopHost:0000000000000000 $t
     /tmp/ccaXZQ0T.s:6665   .text.USB_StopHost:0000000000000000 USB_StopHost
     /tmp/ccaXZQ0T.s:6847   .text.USB_ActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccaXZQ0T.s:6854   .text.USB_ActivateRemoteWakeup:0000000000000000 USB_ActivateRemoteWakeup
ARM GAS  /tmp/ccaXZQ0T.s 			page 161


     /tmp/ccaXZQ0T.s:6914   .text.USB_DeActivateRemoteWakeup:0000000000000000 $t
     /tmp/ccaXZQ0T.s:6921   .text.USB_DeActivateRemoteWakeup:0000000000000000 USB_DeActivateRemoteWakeup
     /tmp/ccaXZQ0T.s:6970   .bss.tmpreg.8749:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_Delay
